<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>Dart基础 | Baohan.Blog | 交流与分享</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="">
    <meta name="description" content="一. Dart介绍和安装1.1. 认识DartGoogle为Flutter选择了Dart就已经是既定的事实，无论你多么想用你熟悉的语言，比如JavaScript、Java、Swift、C++等来开发Flutter，至少目前都是不可以的。 在讲解Dart的过程中，我会假定你已经有一定的编程语言基础，比如JavaScript、Java、Python、C++等。 其实如果你对编程语言足够的自信，Dart">
<meta property="og:type" content="article">
<meta property="og:title" content="Dart基础">
<meta property="og:url" content="http://yoursite.com/2019/12/27/Dart%E5%9F%BA%E7%A1%80/index.html">
<meta property="og:site_name" content="Baohan.Blog | 交流与分享">
<meta property="og:description" content="一. Dart介绍和安装1.1. 认识DartGoogle为Flutter选择了Dart就已经是既定的事实，无论你多么想用你熟悉的语言，比如JavaScript、Java、Swift、C++等来开发Flutter，至少目前都是不可以的。 在讲解Dart的过程中，我会假定你已经有一定的编程语言基础，比如JavaScript、Java、Python、C++等。 其实如果你对编程语言足够的自信，Dart">
<meta property="og:locale" content="cn">
<meta property="og:image" content="e:/hexo/themes/indigo/source/img/16d15bb49e215671.webp">
<meta property="article:published_time" content="2019-12-27T02:14:47.976Z">
<meta property="article:modified_time" content="2019-12-28T02:59:36.772Z">
<meta property="article:author" content="包寒">
<meta property="article:tag" content="个人博客">
<meta property="article:tag" content="前端">
<meta property="article:tag" content="学习">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="e:/hexo/themes/indigo/source/img/16d15bb49e215671.webp">
    
        <link rel="alternate" type="application/atom+xml" title="Baohan.Blog | 交流与分享" href="/atom.xml">
    
    <link rel="shortcut icon" href="/img/home_128px_1237716_easyicon.net.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/006Zw1yCly1fxmsomzdvoj30u016de83.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">包寒</h5>
          <a href="mailto:373751805@qq.com" title="373751805@qq.com" class="mail">373751805@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/Enclosed123" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://juejin.im/user/5d7e6fd56fb9a06ae61ae7e6" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Dart基础</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="検索">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Dart基础</h1>
        <h5 class="subtitle">
            
                <time datetime="2019-12-27T02:14:47.976Z" itemprop="datePublished" class="page-time">
  2019-12-27
</time>


            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#一-Dart介绍和安装"><span class="post-toc-number">1.</span> <span class="post-toc-text">一. Dart介绍和安装</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-1-认识Dart"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">1.1. 认识Dart</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-2-安装Dart"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">1.2. 安装Dart</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-3-VSCode配置"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">1.3. VSCode配置</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#null"><span class="post-toc-number"></span> <span class="post-toc-text">
                
                    
                    
                
                16d15bb49e215671
            </span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#二-Hello-Dart"><span class="post-toc-number">1.</span> <span class="post-toc-text">二. Hello Dart</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-1-Hello-World"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">2.1. Hello World</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-2-程序的分析"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">2.2. 程序的分析</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#三-定义变量"><span class="post-toc-number">2.</span> <span class="post-toc-text">三. 定义变量</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-1-明确声明-Explicit"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">3.1. 明确声明(Explicit)</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-2-类型推导-Type-Inference"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">3.2. 类型推导(Type Inference)</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3-3-1-var的使用"><span class="post-toc-number">2.2.1.</span> <span class="post-toc-text">3.3.1. var的使用</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3-3-2-dynamic的使用"><span class="post-toc-number">2.2.2.</span> <span class="post-toc-text">3.3.2. dynamic的使用</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#3-3-3-final-amp-const的使用"><span class="post-toc-number">2.2.3.</span> <span class="post-toc-text">3.3.3. final&amp;const的使用</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#四-数据类型"><span class="post-toc-number">3.</span> <span class="post-toc-text">四. 数据类型</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-1-数字类型"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">4.1.  数字类型</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-2-布尔类型"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">4.2. 布尔类型</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-3-字符串类型"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">4.3. 字符串类型</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-4-集合类型"><span class="post-toc-number">3.4.</span> <span class="post-toc-text">4.4. 集合类型</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#4-4-1-集合类型的定义"><span class="post-toc-number">3.4.1.</span> <span class="post-toc-text">4.4.1. 集合类型的定义</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#4-4-2-集合的常见操作"><span class="post-toc-number">3.4.2.</span> <span class="post-toc-text">4.4.2. 集合的常见操作</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#五-函数"><span class="post-toc-number">4.</span> <span class="post-toc-text">五. 函数</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-1-函数的基本定义"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">5.1. 函数的基本定义</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-2-函数的参数问题"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">5.2. 函数的参数问题</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#5-2-1-可选参数"><span class="post-toc-number">4.2.1.</span> <span class="post-toc-text">5.2.1. 可选参数</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#5-2-2-参数默认值"><span class="post-toc-number">4.2.2.</span> <span class="post-toc-text">5.2.2. 参数默认值</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-3-函数是一等公民"><span class="post-toc-number">4.3.</span> <span class="post-toc-text">5.3. 函数是一等公民</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-4-匿名函数的使用"><span class="post-toc-number">4.4.</span> <span class="post-toc-text">5.4. 匿名函数的使用</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-5-词法作用域"><span class="post-toc-number">4.5.</span> <span class="post-toc-text">5.5. 词法作用域</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-6-词法闭包"><span class="post-toc-number">4.6.</span> <span class="post-toc-text">5.6. 词法闭包</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-7-返回值问题"><span class="post-toc-number">4.7.</span> <span class="post-toc-text">5.7. 返回值问题</span></a></li></ol></li></ol>
        </nav>
    </aside>


<article id="post-Dart基础"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Dart基础</h1>
        <div class="post-meta">
            <time class="post-time" title="2019-12-27 10:14:47" datetime="2019-12-27T02:14:47.976Z"  itemprop="datePublished">2019-12-27</time>

            


            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h2 id="一-Dart介绍和安装"><a href="#一-Dart介绍和安装" class="headerlink" title="一. Dart介绍和安装"></a>一. Dart介绍和安装</h2><h3 id="1-1-认识Dart"><a href="#1-1-认识Dart" class="headerlink" title="1.1. 认识Dart"></a>1.1. 认识Dart</h3><p>Google为Flutter选择了Dart就已经是既定的事实，无论你多么想用你熟悉的语言，比如JavaScript、Java、Swift、C++等来开发Flutter，至少目前都是不可以的。</p>
<p>在讲解Dart的过程中，我会假定你已经有<code>一定的编程语言基础</code>，比如JavaScript、Java、Python、C++等。</p>
<p>其实如果你对编程语言<code>足够的自信</code>，Dart的学习过程甚至可以直接忽略：</p>
<ul>
<li>因为你学过N种编程语言之后，你会发现他们的<code>差异是并不大</code>；</li>
<li>无非就是<code>语法上的差异</code>+<code>某些语言有某些特性</code>，而某些语言没有某些特性而已；</li>
<li>在我初次接触Flutter的时候，并没有专门去看Dart的语法，而是对于某些语法不太熟练的时候回头去了解而已；</li>
</ul>
<p>所以，如果你对编程语言已经足够了解，可以跳过我们接下来的Dart学习：</p>
<ul>
<li>我也并不会所有特性都一一罗列，我会挑出比较重要的语言特性来专门讲解；</li>
<li>某些特性可能会等到后面讲解Flutter的一些知识的时候单独拿出来讲解；</li>
</ul>
<p>下面，我们就从安装Dart开始吧！</p>
<h3 id="1-2-安装Dart"><a href="#1-2-安装Dart" class="headerlink" title="1.2. 安装Dart"></a>1.2. 安装Dart</h3><blockquote>
<p>为什么还需要安装Dart呢？</p>
<p>事实上在安装Flutter SDK的时候，它已经内置了Dart了，我们完全可以直接使用Flutter去进行Dart的编写并且运行。</p>
<p>但是，如果你想单独学习Dart，并且运行自己的Dart代码，最好去安装一个Dart SDK。</p>
</blockquote>
<p><strong>下载Dart SDK</strong></p>
<p>到Dart的官方，根据不同的操作系统下载对应的Dart</p>
<ul>
<li>官方网站：<a href="https://dart.dev/get-dart" target="_blank" rel="noopener">dart.dev/get-dart</a></li>
</ul>
<p>无论是什么操作系统，安装方式都是有两种：<code>通过工具安装</code>和<code>直接下载SDK，配置环境变量</code></p>
<p>1.通过工具安装</p>
<ul>
<li>Windows可以通过Chocolatey</li>
<li>macOS可以通过homebrew</li>
<li>具体安装操作官网网站有详细的解释</li>
</ul>
<p>2.直接下载SDK，配置环境变量</p>
<ul>
<li>下载地址：<a href="https://dart.dev/tools/sdk/archive" target="_blank" rel="noopener">dart.dev/tools/sdk/a…</a></li>
<li>我采用了这个安装方式。</li>
<li>下载完成后，根据路径配置环境变量即可。</li>
</ul>
<h3 id="1-3-VSCode配置"><a href="#1-3-VSCode配置" class="headerlink" title="1.3. VSCode配置"></a>1.3. VSCode配置</h3><p>学习Dart过程中，我使用<code>VSCode</code>作为编辑器</p>
<ul>
<li>一方面编写代码非常方便，而且界面风格我也很喜欢</li>
<li>另一方面我可以快速在终端看到我编写代码的效果</li>
</ul>
<p>使用VSCode编写Dart需要安装Dart插件：我目前给这个VSCode装了四个插件</p>
<ul>
<li>Dart和Flutter插件是为Flutter开发准备的</li>
<li>Atom One Dark Theme是我个人比较喜欢的一个主题</li>
<li>Code Runner可以点击右上角的按钮让我快速运行代码</li>
</ul>
<h1 id=""><a href="#" class="headerlink" title=""></a><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="E:\hexo\themes\indigo\source\img\16d15bb49e215671.webp" alt="16d15bb49e215671" title="">
                </div>
                <div class="image-caption">16d15bb49e215671</div>
            </figure></h1><h2 id="二-Hello-Dart"><a href="#二-Hello-Dart" class="headerlink" title="二. Hello Dart"></a>二. Hello Dart</h2><h3 id="2-1-Hello-World"><a href="#2-1-Hello-World" class="headerlink" title="2.1. Hello World"></a>2.1. Hello World</h3><p>接下来，就可以步入正题了。学习编程语言，从祖传的Hello World开始。</p>
<p>在VSCode中新建一个<em>helloWorld.dart</em>文件，添加下面的内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">main(List&lt;String&gt; args) &#123;</span><br><span class="line">  print(&#39;Hello World&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后在终端执行<code>dart helloWorld.dart</code>，就能看到<em>Hello World</em>的结果了。</p>
<p>完成了这个执行过程之后，以你之前学习的编程语言来看，你能得到多少信息呢？</p>
<h3 id="2-2-程序的分析"><a href="#2-2-程序的分析" class="headerlink" title="2.2. 程序的分析"></a>2.2. 程序的分析</h3><p>接下来，就是我自己的总结：</p>
<ul>
<li><p>一、Dart语言的入口也是main函数，并且必须显示的进行定义；</p>
</li>
<li><p>二、Dart的入口函数<code>main</code>是没有返回值的；</p>
</li>
<li><p>三、传递给</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">main</span><br></pre></td></tr></table></figure>

<p>的命令行参数，是通过</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt;</span><br></pre></td></tr></table></figure>

<p>完成的。</p>
<ul>
<li>从字面值就可以理解<code>List</code>是Dart中的集合类型。</li>
<li>其中的每一个<code>String</code>都表示传递给<code>main</code>的一个参数；</li>
</ul>
</li>
<li><p>四、定义字符串的时候，可以使用单引号或双引号；</p>
</li>
<li><p>五、每行语句必须使用分号结尾，很多语言并不需要分号，比如Swift、JavaScript；</p>
</li>
</ul>
<h2 id="三-定义变量"><a href="#三-定义变量" class="headerlink" title="三. 定义变量"></a>三. 定义变量</h2><h3 id="3-1-明确声明-Explicit"><a href="#3-1-明确声明-Explicit" class="headerlink" title="3.1. 明确声明(Explicit)"></a>3.1. 明确声明(Explicit)</h3><p>明确声明变量的方式, 格式如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">变量类型 变量名称 &#x3D; 赋值;</span><br></pre></td></tr></table></figure>

<p>示例代码:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String name &#x3D; &#39;coderwhy&#39;;</span><br><span class="line">int age &#x3D; 18;</span><br><span class="line">double height &#x3D; 1.88;</span><br><span class="line">print(&#39;$&#123;name&#125;, $&#123;age&#125;, $&#123;height&#125;&#39;); &#x2F;&#x2F; 拼接方式后续会讲解</span><br></pre></td></tr></table></figure>

<p>注意事项: 定义的变量可以修改值, 但是不能赋值其他类型</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">String content &#x3D; &#39;Hello Dart&#39;;</span><br><span class="line">content &#x3D; &#39;Hello World&#39;; &#x2F;&#x2F; 正确的</span><br><span class="line">content &#x3D; 111; &#x2F;&#x2F; 错误的, 将一个int值赋值给一个String变量</span><br></pre></td></tr></table></figure>

<h3 id="3-2-类型推导-Type-Inference"><a href="#3-2-类型推导-Type-Inference" class="headerlink" title="3.2. 类型推导(Type Inference)"></a>3.2. 类型推导(Type Inference)</h3><p>类型推导声明变量的方式, 格式如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var&#x2F;dynamic&#x2F;const&#x2F;final 变量名称 &#x3D; 赋值;</span><br></pre></td></tr></table></figure>

<h4 id="3-3-1-var的使用"><a href="#3-3-1-var的使用" class="headerlink" title="3.3.1. var的使用"></a>3.3.1. var的使用</h4><p>var的使用示例:</p>
<ul>
<li>runtimeType用于获取变量当前的类型</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var name &#x3D; &#39;coderwhy&#39;;</span><br><span class="line">name &#x3D; &#39;kobe&#39;;</span><br><span class="line">print(name.runtimeType); &#x2F;&#x2F; String</span><br></pre></td></tr></table></figure>

<p>var的错误用法:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var age &#x3D; 18;</span><br><span class="line">age &#x3D; &#39;why&#39;; &#x2F;&#x2F; 不可以将String赋值给一个int类型</span><br></pre></td></tr></table></figure>

<h4 id="3-3-2-dynamic的使用"><a href="#3-3-2-dynamic的使用" class="headerlink" title="3.3.2. dynamic的使用"></a>3.3.2. dynamic的使用</h4><p>如果确实希望这样做,可以使用dynamic来声明变量:</p>
<ul>
<li>但是在开发中, 通常情况下不使用dynamic, 因为类型的变量会带来潜在的危险</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dynamic name &#x3D; &#39;coderwhy&#39;;</span><br><span class="line">print(name.runtimeType); &#x2F;&#x2F; String</span><br><span class="line">name &#x3D; 18;</span><br><span class="line">print(name.runtimeType); &#x2F;&#x2F; int</span><br></pre></td></tr></table></figure>

<h4 id="3-3-3-final-amp-const的使用"><a href="#3-3-3-final-amp-const的使用" class="headerlink" title="3.3.3. final&amp;const的使用"></a>3.3.3. final&amp;const的使用</h4><p>final和const都是用于定义常量的, 也就是定义之后值都不可以修改</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">final name &#x3D; &#39;coderwhy&#39;;</span><br><span class="line">name &#x3D; &#39;kobe&#39;; &#x2F;&#x2F; 错误做法</span><br><span class="line"></span><br><span class="line">const age &#x3D; 18;</span><br><span class="line">age &#x3D; 20; &#x2F;&#x2F; 错误做法</span><br></pre></td></tr></table></figure>

<p>final和const有什么区别呢?</p>
<ul>
<li>const在赋值时, 赋值的内容必须是在编译期间就确定下来的</li>
<li>final在赋值时, 可以动态获取, 比如赋值一个函数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">String getName() &#123;</span><br><span class="line">  return &#39;coderwhy&#39;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main(List&lt;String&gt; args) &#123;</span><br><span class="line">  const name &#x3D; getName(); &#x2F;&#x2F; 错误的做法, 因为要执行函数才能获取到值</span><br><span class="line">  final name &#x3D; getName(); &#x2F;&#x2F; 正确的做法</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>final和const小案例:</p>
<ul>
<li>首先, const是不可以赋值为DateTime.now()</li>
<li>其次, final一旦被赋值后就有确定的结果, 不会再次赋值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; const time &#x3D; DateTime.now(); &#x2F;&#x2F; 错误的赋值方式</span><br><span class="line">final time &#x3D; DateTime.now();</span><br><span class="line">print(time); &#x2F;&#x2F; 2019-04-05 09:02:54.052626</span><br><span class="line"></span><br><span class="line">sleep(Duration(seconds: 2));</span><br><span class="line">print(time); &#x2F;&#x2F; 2019-04-05 09:02:54.052626</span><br></pre></td></tr></table></figure>

<p>const放在赋值语句的右边，可以共享对象，提高性能:</p>
<ul>
<li>这里可以暂时先做了解，后面讲解类的常量构造函数时，我会再次提到这个概念</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">class Person &#123;</span><br><span class="line">  const Person();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">main(List&lt;String&gt; args) &#123;</span><br><span class="line">  final a &#x3D; const Person();</span><br><span class="line">  final b &#x3D; const Person();</span><br><span class="line">  print(identical(a, b)); &#x2F;&#x2F; true</span><br><span class="line"></span><br><span class="line">  final m &#x3D; Person();</span><br><span class="line">  final n &#x3D; Person();</span><br><span class="line">  print(identical(m, n)); &#x2F;&#x2F; false</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="四-数据类型"><a href="#四-数据类型" class="headerlink" title="四. 数据类型"></a>四. 数据类型</h2><h3 id="4-1-数字类型"><a href="#4-1-数字类型" class="headerlink" title="4.1.  数字类型"></a>4.1.  数字类型</h3><p>对于数值来说，我们也不用关心它是否有符号，以及数据的宽度和精度等问题。只要记着整数用<code>int</code>，浮点数用<code>double</code>就行了。</p>
<p>不过，要说明一下的是Dart中的<code>int</code>和<code>double</code>可表示的范围并不是固定的，它取决于运行Dart的平台。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 1.整数类型int</span><br><span class="line">int age &#x3D; 18;</span><br><span class="line">int hexAge &#x3D; 0x12;</span><br><span class="line">print(age);</span><br><span class="line">print(hexAge);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 2.浮点类型double</span><br><span class="line">double height &#x3D; 1.88;</span><br><span class="line">print(height);</span><br></pre></td></tr></table></figure>

<p>字符串和数字之间的转化:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 字符串和数字转化</span><br><span class="line">&#x2F;&#x2F; 1.字符串转数字</span><br><span class="line">var one &#x3D; int.parse(&#39;111&#39;);</span><br><span class="line">var two &#x3D; double.parse(&#39;12.22&#39;);</span><br><span class="line">print(&#39;$&#123;one&#125; $&#123;one.runtimeType&#125;&#39;); &#x2F;&#x2F; 111 int</span><br><span class="line">print(&#39;$&#123;two&#125; $&#123;two.runtimeType&#125;&#39;); &#x2F;&#x2F; 12.22 double</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 2.数字转字符串</span><br><span class="line">var num1 &#x3D; 123;</span><br><span class="line">var num2 &#x3D; 123.456;</span><br><span class="line">var num1Str &#x3D; num1.toString();</span><br><span class="line">var num2Str &#x3D; num2.toString();</span><br><span class="line">var num2StrD &#x3D; num2.toStringAsFixed(2); &#x2F;&#x2F; 保留两位小数</span><br><span class="line">print(&#39;$&#123;num1Str&#125; $&#123;num1Str.runtimeType&#125;&#39;); &#x2F;&#x2F; 123 String</span><br><span class="line">print(&#39;$&#123;num2Str&#125; $&#123;num2Str.runtimeType&#125;&#39;); &#x2F;&#x2F; 123.456 String</span><br><span class="line">print(&#39;$&#123;num2StrD&#125; $&#123;num2StrD.runtimeType&#125;&#39;); &#x2F;&#x2F; 123.46 String</span><br></pre></td></tr></table></figure>

<h3 id="4-2-布尔类型"><a href="#4-2-布尔类型" class="headerlink" title="4.2. 布尔类型"></a>4.2. 布尔类型</h3><p>布尔类型中,Dart提供了一个bool的类型, 取值为true和false</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 布尔类型</span><br><span class="line">var isFlag &#x3D; true;</span><br><span class="line">print(&#39;$isFlag $&#123;isFlag.runtimeType&#125;&#39;);</span><br></pre></td></tr></table></figure>

<p>注意: Dart中不能判断非0即真, 或者非空即真</p>
<p>Dart的类型安全性意味着您不能使用if(非booleanvalue)或assert(非booleanvalue)之类的代码。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var message &#x3D; &#39;Hello Dart&#39;;</span><br><span class="line">&#x2F;&#x2F; 错误的写法</span><br><span class="line">if (message) &#123;</span><br><span class="line">  print(message)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-3-字符串类型"><a href="#4-3-字符串类型" class="headerlink" title="4.3. 字符串类型"></a>4.3. 字符串类型</h3><p>Dart字符串是UTF-16编码单元的序列。您可以使用单引号或双引号创建一个字符串:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 1.定义字符串的方式</span><br><span class="line">var s1 &#x3D; &#39;Hello World&#39;;</span><br><span class="line">var s2 &#x3D; &quot;Hello Dart&quot;;</span><br><span class="line">var s3 &#x3D; &#39;Hello\&#39;Fullter&#39;;</span><br><span class="line">var s4 &#x3D; &quot;Hello&#39;Fullter&quot;;</span><br></pre></td></tr></table></figure>

<p>可以使用三个单引号或者双引号表示多行字符串:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 2.表示多行字符串的方式</span><br><span class="line">var message1 &#x3D; &#39;&#39;&#39;</span><br><span class="line">哈哈哈</span><br><span class="line">呵呵呵</span><br><span class="line">嘿嘿嘿&#39;&#39;&#39;;</span><br></pre></td></tr></table></figure>

<p>字符串和其他变量或表达式拼接: 使用${expression}, 如果表达式是一个标识符, 那么{}可以省略</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 3.拼接其他变量</span><br><span class="line">var name &#x3D; &#39;coderwhy&#39;;</span><br><span class="line">var age &#x3D; 18;</span><br><span class="line">var height &#x3D; 1.88;</span><br><span class="line">print(&#39;my name is $&#123;name&#125;, age is $age, height is $height&#39;);</span><br></pre></td></tr></table></figure>

<h3 id="4-4-集合类型"><a href="#4-4-集合类型" class="headerlink" title="4.4. 集合类型"></a>4.4. 集合类型</h3><h4 id="4-4-1-集合类型的定义"><a href="#4-4-1-集合类型的定义" class="headerlink" title="4.4.1. 集合类型的定义"></a>4.4.1. 集合类型的定义</h4><p>对于集合类型，Dart则内置了最常用的三种：<code>List / Set / Map</code>。</p>
<p>其中，<code>List</code>可以这样来定义：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; List定义</span><br><span class="line">&#x2F;&#x2F; 1.使用类型推导定义</span><br><span class="line">var letters &#x3D; [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;];</span><br><span class="line">print(&#39;$letters $&#123;letters.runtimeType&#125;&#39;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 2.明确指定类型</span><br><span class="line">List&lt;int&gt; numbers &#x3D; [1, 2, 3, 4];</span><br><span class="line">print(&#39;$numbers $&#123;numbers.runtimeType&#125;&#39;);</span><br></pre></td></tr></table></figure>

<p>其中，<code>set</code>可以这样来定义：</p>
<ul>
<li>其实，也就是把<code>[]</code>换成<code>{}</code>就好了。</li>
<li><code>Set</code>和<code>List</code>最大的两个不同就是：<code>Set</code>是无序的，并且元素是不重复的。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Set的定义</span><br><span class="line">&#x2F;&#x2F; 1.使用类型推导定义</span><br><span class="line">var lettersSet &#x3D; &#123;&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;&#125;;</span><br><span class="line">print(&#39;$lettersSet $&#123;lettersSet.runtimeType&#125;&#39;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 2.明确指定类型</span><br><span class="line">Set&lt;int&gt; numbersSet &#x3D; &#123;1, 2, 3, 4&#125;;</span><br><span class="line">print(&#39;$numbersSet $&#123;numbersSet.runtimeType&#125;&#39;);</span><br></pre></td></tr></table></figure>

<p>最后，<code>Map</code>是我们常说的字典类型，它的定义是这样的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Map的定义</span><br><span class="line">&#x2F;&#x2F; 1.使用类型推导定义</span><br><span class="line">var infoMap1 &#x3D; &#123;&#39;name&#39;: &#39;why&#39;, &#39;age&#39;: 18&#125;;</span><br><span class="line">print(&#39;$infoMap1 $&#123;infoMap1.runtimeType&#125;&#39;);</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 2.明确指定类型</span><br><span class="line">Map&lt;String, Object&gt; infoMap2 &#x3D; &#123;&#39;height&#39;: 1.88, &#39;address&#39;: &#39;北京市&#39;&#125;;</span><br><span class="line">print(&#39;$infoMap2 $&#123;infoMap2.runtimeType&#125;&#39;);</span><br></pre></td></tr></table></figure>

<h4 id="4-4-2-集合的常见操作"><a href="#4-4-2-集合的常见操作" class="headerlink" title="4.4.2. 集合的常见操作"></a>4.4.2. 集合的常见操作</h4><p>了解了这三个集合的定义方式之后，我们来看一些最基础的公共操作</p>
<p>第一类，是所有集合都支持的获取长度的属性<code>length</code>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 获取集合的长度</span><br><span class="line">print(letters.length);</span><br><span class="line">print(lettersSet.length);</span><br><span class="line">print(infoMap1.length);</span><br></pre></td></tr></table></figure>

<p>第二类, 是添加/删除/包含操作</p>
<ul>
<li>并且，对<code>List</code>来说，由于元素是有序的，它还提供了一个删除指定索引位置上元素的方法</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 添加&#x2F;删除&#x2F;包含元素</span><br><span class="line">numbers.add(5);</span><br><span class="line">numbersSet.add(5);</span><br><span class="line">print(&#39;$numbers $numbersSet&#39;);</span><br><span class="line"></span><br><span class="line">numbers.remove(1);</span><br><span class="line">numbersSet.remove(1);</span><br><span class="line">print(&#39;$numbers $numbersSet&#39;);</span><br><span class="line"></span><br><span class="line">print(numbers.contains(2));</span><br><span class="line">print(numbersSet.contains(2));</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; List根据index删除元素</span><br><span class="line">numbers.removeAt(3);</span><br><span class="line">print(&#39;$numbers&#39;);</span><br></pre></td></tr></table></figure>

<p>第三类，是<code>Map</code>的操作</p>
<ul>
<li>由于它有key和value，因此无论是读取值，还是操作，都要明确是基于key的，还是基于value的，或者是基于key/value对的。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Map的操作</span><br><span class="line">&#x2F;&#x2F; 1.根据key获取value</span><br><span class="line">print(infoMap1[&#39;name&#39;]); &#x2F;&#x2F; why</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 2.获取所有的entries</span><br><span class="line">print(&#39;$&#123;infoMap1.entries&#125; $&#123;infoMap1.entries.runtimeType&#125;&#39;); &#x2F;&#x2F; (MapEntry(name: why), MapEntry(age: 18)) MappedIterable&lt;String, MapEntry&lt;String, Object&gt;&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 3.获取所有的keys</span><br><span class="line">print(&#39;$&#123;infoMap1.keys&#125; $&#123;infoMap1.keys.runtimeType&#125;&#39;); &#x2F;&#x2F; (name, age) _CompactIterable&lt;String&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 4.获取所有的values</span><br><span class="line">print(&#39;$&#123;infoMap1.values&#125; $&#123;infoMap1.values.runtimeType&#125;&#39;); &#x2F;&#x2F; (why, 18) _CompactIterable&lt;Object&gt;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 5.判断是否包含某个key或者value</span><br><span class="line">print(&#39;$&#123;infoMap1.containsKey(&#39;age&#39;)&#125; $&#123;infoMap1.containsValue(18)&#125;&#39;); &#x2F;&#x2F; true true</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 6.根据key删除元素</span><br><span class="line">infoMap1.remove(&#39;age&#39;);</span><br><span class="line">print(&#39;$&#123;infoMap1&#125;&#39;); &#x2F;&#x2F; &#123;name: why&#125;</span><br></pre></td></tr></table></figure>

<h2 id="五-函数"><a href="#五-函数" class="headerlink" title="五. 函数"></a>五. 函数</h2><h3 id="5-1-函数的基本定义"><a href="#5-1-函数的基本定义" class="headerlink" title="5.1. 函数的基本定义"></a>5.1. 函数的基本定义</h3><p>Dart是一种真正的面向对象语言，所以即使函数也是对象，所有也有类型, 类型就是Function。</p>
<p>这也就意味着函数可以作为变量定义或者作为其他函数的参数或者返回值.</p>
<p>函数的定义方式:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">返回值 函数的名称(参数列表) &#123;</span><br><span class="line">  函数体</span><br><span class="line">  return 返回值</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>按照上面的定义方式, 我们定义一个完整的函数:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">int sum(num num1, num num2) &#123;</span><br><span class="line">  return num1 + num2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Effective Dart建议对公共的API, 使用类型注解, 但是如果我们省略掉了类型, 依然是可以正常工作的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sum(num1, num2) &#123;</span><br><span class="line">  return num1 + num2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>另外, 如果函数中只有一个表达式, 那么可以使用箭头语法(<em>arrow</em> syntax)</p>
<ul>
<li>注意, 这里面只能是一个表达式, 不能是一个语句</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sum(num1, num2) &#x3D;&gt; num1 + num2;</span><br></pre></td></tr></table></figure>

<h3 id="5-2-函数的参数问题"><a href="#5-2-函数的参数问题" class="headerlink" title="5.2. 函数的参数问题"></a>5.2. 函数的参数问题</h3><blockquote>
<p>函数的参数可以分成两类: 必须参数和可选参数</p>
<p>前面使用的参数都是必须参数.</p>
</blockquote>
<h4 id="5-2-1-可选参数"><a href="#5-2-1-可选参数" class="headerlink" title="5.2.1. 可选参数"></a>5.2.1. 可选参数</h4><p>可选参数可以分为 <strong>命名可选参数</strong> 和 <strong>位置可选参数</strong></p>
<p>定义方式:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">命名可选参数: &#123;param1, param2, ...&#125;</span><br><span class="line">位置可选参数: [param1, param2, ...]</span><br></pre></td></tr></table></figure>

<p>命名可选参数的演示:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 命名可选参数</span><br><span class="line">printInfo1(String name, &#123;int age, double height&#125;) &#123;</span><br><span class="line">  print(&#39;name&#x3D;$name age&#x3D;$age height&#x3D;$height&#39;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 调用printInfo1函数</span><br><span class="line">printInfo1(&#39;why&#39;); &#x2F;&#x2F; name&#x3D;why age&#x3D;null height&#x3D;null</span><br><span class="line">printInfo1(&#39;why&#39;, age: 18); &#x2F;&#x2F; name&#x3D;why age&#x3D;18 height&#x3D;null</span><br><span class="line">printInfo1(&#39;why&#39;, age: 18, height: 1.88); &#x2F;&#x2F; name&#x3D;why age&#x3D;18 height&#x3D;1.88</span><br><span class="line">printInfo1(&#39;why&#39;, height: 1.88); &#x2F;&#x2F; name&#x3D;why age&#x3D;null height&#x3D;1.88</span><br></pre></td></tr></table></figure>

<p>位置可选参数的演示:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 定义位置可选参数</span><br><span class="line">printInfo2(String name, [int age, double height]) &#123;</span><br><span class="line">  print(&#39;name&#x3D;$name age&#x3D;$age height&#x3D;$height&#39;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 调用printInfo2函数</span><br><span class="line">printInfo2(&#39;why&#39;); &#x2F;&#x2F; name&#x3D;why age&#x3D;null height&#x3D;null</span><br><span class="line">printInfo2(&#39;why&#39;, 18); &#x2F;&#x2F; name&#x3D;why age&#x3D;18 height&#x3D;null</span><br><span class="line">printInfo2(&#39;why&#39;, 18, 1.88); &#x2F;&#x2F; name&#x3D;why age&#x3D;18 height&#x3D;1.88</span><br></pre></td></tr></table></figure>

<p>命名可选参数, 可以指定某个参数是必传的(使用@required, 有问题)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 命名可选参数的必须</span><br><span class="line">printInfo3(String name, &#123;int age, double height, @required String address&#125;) &#123;</span><br><span class="line">  print(&#39;name&#x3D;$name age&#x3D;$age height&#x3D;$height address&#x3D;$address&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="5-2-2-参数默认值"><a href="#5-2-2-参数默认值" class="headerlink" title="5.2.2. 参数默认值"></a>5.2.2. 参数默认值</h4><p>参数可以有默认值, 在不传入的情况下, 使用默认值</p>
<ul>
<li>注意, 只有可选参数才可以有默认值, 必须参数不能有默认值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 参数的默认值</span><br><span class="line">printInfo4(String name, &#123;int age &#x3D; 18, double height&#x3D;1.88&#125;) &#123;</span><br><span class="line">  print(&#39;name&#x3D;$name age&#x3D;$age height&#x3D;$height&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Dart中的main函数就是一个接受可选的列表参数作为参数的, 所以在使用main函数时, 我们可以传入参数, 也可以不传入</p>
<h3 id="5-3-函数是一等公民"><a href="#5-3-函数是一等公民" class="headerlink" title="5.3. 函数是一等公民"></a>5.3. 函数是一等公民</h3><p>在很多语言中, 函数并不能作为一等公民来使用, 比如Java/OC. 这种限制让编程不够灵活, 所以现代的编程语言基本都支持函数作为一等公民来使用, Dart也支持.</p>
<p>这就意味着你可以将函数赋值给一个变量, 也可以将函数作为另外一个函数的参数或者返回值来使用.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">main(List&lt;String&gt; args) &#123;</span><br><span class="line">  &#x2F;&#x2F; 1.将函数赋值给一个变量</span><br><span class="line">  var bar &#x3D; foo;</span><br><span class="line">  print(bar);</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; 2.将函数作为另一个函数的参数</span><br><span class="line">  test(foo);</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; 3.将函数作为另一个函数的返回值</span><br><span class="line">  var func &#x3D;getFunc();</span><br><span class="line">  func(&#39;kobe&#39;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 1.定义一个函数</span><br><span class="line">foo(String name) &#123;</span><br><span class="line">  print(&#39;传入的name:$name&#39;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 2.将函数作为另外一个函数的参数</span><br><span class="line">test(Function func) &#123;</span><br><span class="line">  func(&#39;coderwhy&#39;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 3.将函数作为另一个函数的返回值</span><br><span class="line">getFunc() &#123;</span><br><span class="line">  return foo;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-4-匿名函数的使用"><a href="#5-4-匿名函数的使用" class="headerlink" title="5.4. 匿名函数的使用"></a>5.4. 匿名函数的使用</h3><p>大部分我们定义的函数都会有自己的名字， 比如前面定义的foo、test函数等等。</p>
<p>但是某些情况下，给函数命名太麻烦了，我们可以使用没有名字的函数，这种函数可以被称之为匿名函数( <em>anonymous function</em>)，也可以叫<em>lambda</em>或者<em>closure</em>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">main(List&lt;String&gt; args) &#123;</span><br><span class="line">  &#x2F;&#x2F; 1.定义数组</span><br><span class="line">  var movies &#x3D; [&#39;盗梦空间&#39;, &#39;星际穿越&#39;, &#39;少年派&#39;, &#39;大话西游&#39;];</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; 2.使用forEach遍历: 有名字的函数</span><br><span class="line">  printElement(item) &#123;</span><br><span class="line">    print(item);</span><br><span class="line">  &#125;</span><br><span class="line">  movies.forEach(printElement);</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; 3.使用forEach遍历: 匿名函数</span><br><span class="line">  movies.forEach((item) &#123;</span><br><span class="line">    print(item);</span><br><span class="line">  &#125;);</span><br><span class="line">  movies.forEach((item) &#x3D;&gt; print(item));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-5-词法作用域"><a href="#5-5-词法作用域" class="headerlink" title="5.5. 词法作用域"></a>5.5. 词法作用域</h3><p>dart中的词法有自己明确的作用域范围，它是根据代码的结构({})来决定作用域范围的</p>
<p>优先使用自己作用域中的变量，如果没有找到，则一层层向外查找。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var name &#x3D; &#39;global&#39;;</span><br><span class="line">main(List&lt;String&gt; args) &#123;</span><br><span class="line">  &#x2F;&#x2F; var name &#x3D; &#39;main&#39;;</span><br><span class="line">  void foo() &#123;</span><br><span class="line">    &#x2F;&#x2F; var name &#x3D; &#39;foo&#39;;</span><br><span class="line">    print(name);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  foo();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-6-词法闭包"><a href="#5-6-词法闭包" class="headerlink" title="5.6. 词法闭包"></a>5.6. 词法闭包</h3><p>闭包可以访问其词法范围内的变量，即使函数在其他地方被使用，也可以正常的访问。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">main(List&lt;String&gt; args) &#123;</span><br><span class="line">  makeAdder(num addBy) &#123;</span><br><span class="line">    return (num i) &#123;</span><br><span class="line">      return i + addBy;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  var adder2 &#x3D; makeAdder(2);</span><br><span class="line">  print(adder2(10)); &#x2F;&#x2F; 12</span><br><span class="line">  print(adder2(6)); &#x2F;&#x2F; 8</span><br><span class="line"></span><br><span class="line">  var adder5 &#x3D; makeAdder(5);</span><br><span class="line">  print(adder5(10)); &#x2F;&#x2F; 15</span><br><span class="line">  print(adder5(6)); &#x2F;&#x2F; 11</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-7-返回值问题"><a href="#5-7-返回值问题" class="headerlink" title="5.7. 返回值问题"></a>5.7. 返回值问题</h3><p>所有函数都返回一个值。如果没有指定返回值，则语句返回null;隐式附加到函数体。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">main(List&lt;String&gt; args) &#123;</span><br><span class="line">  print(foo()); &#x2F;&#x2F; null</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo() &#123;</span><br><span class="line">  print(&#39;foo function&#39;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>作者：coderwhy<br>链接：<a href="https://juejin.im/post/5d76340c6fb9a06adb800961" target="_blank" rel="noopener">https://juejin.im/post/5d76340c6fb9a06adb800961</a><br>来源：掘金</p>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最終更新：<time datetime="2019-12-28T02:59:36.772Z" itemprop="dateUpdated">2019-12-28 10:59:36</time>
</span><br>


        
    </div>
    
    <footer>
        <a href="http://yoursite.com">
            <img src="/img/006Zw1yCly1fxmsomzdvoj30u016de83.jpg" alt="包寒">
            包寒
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            

            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://yoursite.com/2019/12/27/Dart%E5%9F%BA%E7%A1%80/&title=《Dart基础》 — Baohan.Blog | 交流与分享&pic=http://yoursite.com/img/006Zw1yCly1fxmsomzdvoj30u016de83.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://yoursite.com/2019/12/27/Dart%E5%9F%BA%E7%A1%80/&title=《Dart基础》 — Baohan.Blog | 交流与分享&source=个人博客" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2019/12/27/Dart%E5%9F%BA%E7%A1%80/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Dart基础》 — Baohan.Blog | 交流与分享&url=http://yoursite.com/2019/12/27/Dart%E5%9F%BA%E7%A1%80/&via=http://yoursite.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://yoursite.com/2019/12/27/Dart%E5%9F%BA%E7%A1%80/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2019/12/27/%E5%89%8D%E7%AB%AF%E8%90%8C%E6%96%B0%E7%9C%BC%E4%B8%AD%E7%9A%84Promise%E5%8F%8A%E4%BD%BF%E7%94%A8/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">前端萌新眼中的Promise及使用</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2019/12/27/V8%E5%BC%95%E6%93%8E%E5%9E%83%E5%9C%BE%E5%86%85%E5%AD%98%E5%9B%9E%E6%94%B6%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">V8引擎垃圾内存回收原理解析</h4>
      </a>
    </div>
  
</nav>



    




















</article>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>このブログの内容物は<a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.ja" target="_blank">クリエイティブ・コモンズ 表示 - 非営利 - 継承 4.0 国際ライセンスの下に提供されています</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>包寒 &copy; 2015 - 2019</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://yoursite.com/2019/12/27/Dart%E5%9F%BA%E7%A1%80/&title=《Dart基础》 — Baohan.Blog | 交流与分享&pic=http://yoursite.com/img/006Zw1yCly1fxmsomzdvoj30u016de83.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://yoursite.com/2019/12/27/Dart%E5%9F%BA%E7%A1%80/&title=《Dart基础》 — Baohan.Blog | 交流与分享&source=个人博客" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2019/12/27/Dart%E5%9F%BA%E7%A1%80/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Dart基础》 — Baohan.Blog | 交流与分享&url=http://yoursite.com/2019/12/27/Dart%E5%9F%BA%E7%A1%80/&via=http://yoursite.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://yoursite.com/2019/12/27/Dart%E5%9F%BA%E7%A1%80/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACK0lEQVR42u3ay24DIQwF0P7/T6dS1V005NqePgKHVTRJBw4L18Z8fMTj8TWSz1dPrr59nuX5+W0DAwPjbRmP5UiWmL9nvTWjd2JgYBzAyKdZB8f1817IXq8NAwMDIwmOCan3GwwMDIwJo1pRJuE1nwsDA+NMxvxobBI0f7UWx8DAeEPGvY2Bez//WX8DAwPj3zAexZEfxuXJ4mQ93+/BwMDYmjFP6XrF53pT8uharpsxMDC2Y/QwkybopITGwMDYlZEfXfUO+vMFTWbEwMA4gTFZ+qSsnbcEMDAwzmRUG4T5RuRP1u+PbotgYGBsxFiHtuq3STqYpJV5qH1Ri2NgYBzAqE7ZC+XVovdyFgwMjGMYSWLXO2hLeNW2AQYGxjmMSTHZa39Wa8/ClQ4MDIztGHlATJK5XtqXJ6CXm4uBgXEAo/AHrTG/nFG4M4KBgbEdoxc0e6Vv8vtJqwADA2NvRi+83pXk9ZoB0T8ADAyMjRjVIFhdem+u8iEgBgbGpoxe+7C6iN7V1XJjAAMD4zBGvpRq1lnIT/PrZRgYGFszepP1Gp93lc0YGBinMR7FkTcA8iZBr4R+4cPAwNiI8XMXJuYtz0IRi4GBcQAjCbLVqxjVDaq2PMv/PTAwMLZg5EE2P5LLl1g9gLssZTEwMI5nJMdwk6I33z4MDAyM6lWJaimbl7hJCouBgXEOo1rEVpO/5HCtmm5iYGCcw+hdhsiP8ifvv3cWDAyMN2R8AhgGzFKDHozAAAAAAElFTkSuQmCC" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '死鬼去哪里了！';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
