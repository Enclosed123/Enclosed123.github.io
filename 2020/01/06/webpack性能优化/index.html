<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>webpack性能优化 | Baohan.Blog | 交流与分享</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="">
    <meta name="description" content="Webapck 性能优化上一章我们介绍了Webpack常用配置和大致优化思路，这一章节我们来看一下具体怎么优化(未完待续，大佬们可以在评论中提点意见)  git地址：github.com&#x2F;jxs7754&#x2F;dem…  1. 构建速度优化 高版本的node和Webpack 开启多进程，加快解析、压缩速度 分包，分离基础包 利用缓存来提升二次构建速度 减少文件搜索范围  速度分析：使用speed-mea">
<meta property="og:type" content="article">
<meta property="og:title" content="webpack性能优化">
<meta property="og:url" content="http://yoursite.com/2020/01/06/webpack%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/index.html">
<meta property="og:site_name" content="Baohan.Blog | 交流与分享">
<meta property="og:description" content="Webapck 性能优化上一章我们介绍了Webpack常用配置和大致优化思路，这一章节我们来看一下具体怎么优化(未完待续，大佬们可以在评论中提点意见)  git地址：github.com&#x2F;jxs7754&#x2F;dem…  1. 构建速度优化 高版本的node和Webpack 开启多进程，加快解析、压缩速度 分包，分离基础包 利用缓存来提升二次构建速度 减少文件搜索范围  速度分析：使用speed-mea">
<meta property="og:locale" content="cn">
<meta property="article:published_time" content="2020-01-06T15:31:39.873Z">
<meta property="article:modified_time" content="2020-01-06T15:36:43.555Z">
<meta property="article:author" content="包寒">
<meta property="article:tag" content="个人博客">
<meta property="article:tag" content="前端">
<meta property="article:tag" content="学习">
<meta name="twitter:card" content="summary">
    
        <link rel="alternate" type="application/atom+xml" title="Baohan.Blog | 交流与分享" href="/atom.xml">
    
    <link rel="shortcut icon" href="/img/home_128px_1237716_easyicon.net.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/006Zw1yCly1fxmsomzdvoj30u016de83.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">包寒</h5>
          <a href="mailto:373751805@qq.com" title="373751805@qq.com" class="mail">373751805@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/Enclosed123" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://juejin.im/user/5d7e6fd56fb9a06ae61ae7e6" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">webpack性能优化</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">webpack性能优化</h1>
        <h5 class="subtitle">
            
                <time datetime="2020-01-06T15:31:39.873Z" itemprop="datePublished" class="page-time">
  2020-01-06
</time>


            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Webapck-性能优化"><span class="post-toc-number">1.</span> <span class="post-toc-text">Webapck 性能优化</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-构建速度优化"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">1. 构建速度优化</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#速度分析：使用speed-measure-webpack-plugin"><span class="post-toc-number">1.1.1.</span> <span class="post-toc-text">速度分析：使用speed-measure-webpack-plugin</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-1-使用高版本的Node和Webapck"><span class="post-toc-number">1.1.2.</span> <span class="post-toc-text">1.1 使用高版本的Node和Webapck</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-2-开启多进程"><span class="post-toc-number">1.1.3.</span> <span class="post-toc-text">1.2 开启多进程</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#thread-loader"><span class="post-toc-number">1.1.3.1.</span> <span class="post-toc-text">thread-loader</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#HappyPack-作者已经不再维护"><span class="post-toc-number">1.1.3.2.</span> <span class="post-toc-text">HappyPack(作者已经不再维护)</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#多线程压缩"><span class="post-toc-number">1.1.3.3.</span> <span class="post-toc-text">多线程压缩</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-3-分包"><span class="post-toc-number">1.1.4.</span> <span class="post-toc-text">1.3 分包</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-4-缓存"><span class="post-toc-number">1.1.5.</span> <span class="post-toc-text">1.4 缓存</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#babel-loader-开启缓存"><span class="post-toc-number">1.1.5.1.</span> <span class="post-toc-text">babel-loader 开启缓存</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#terser-webpack-plugin-开启缓存"><span class="post-toc-number">1.1.5.2.</span> <span class="post-toc-text">terser-webpack-plugin 开启缓存</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#hard-source-webpack-plugin-或者-cache-loader"><span class="post-toc-number">1.1.5.3.</span> <span class="post-toc-text">hard-source-webpack-plugin 或者 cache-loader</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-5-减少文件搜素范围"><span class="post-toc-number">1.1.6.</span> <span class="post-toc-text">1.5 减少文件搜素范围</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#优化loader配置"><span class="post-toc-number">1.1.6.1.</span> <span class="post-toc-text">优化loader配置</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#使用合理的alias"><span class="post-toc-number">1.1.6.2.</span> <span class="post-toc-text">使用合理的alias</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#优化resolve-modules配置"><span class="post-toc-number">1.1.6.3.</span> <span class="post-toc-text">优化resolve.modules配置</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#优化resolve-mainFields配置"><span class="post-toc-number">1.1.6.4.</span> <span class="post-toc-text">优化resolve.mainFields配置</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#优化resolve-extensions配置"><span class="post-toc-number">1.1.6.5.</span> <span class="post-toc-text">优化resolve.extensions配置</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-构建体积优化"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">2. 构建体积优化</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#体积分析-webpack-bundle-analyzer"><span class="post-toc-number">1.2.1.</span> <span class="post-toc-text">体积分析 webpack-bundle-analyzer</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-1-提取公共代码、分割代码、按需加载、懒加载"><span class="post-toc-number">1.2.2.</span> <span class="post-toc-text">2.1 提取公共代码、分割代码、按需加载、懒加载</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-2-tree-shaking"><span class="post-toc-number">1.2.3.</span> <span class="post-toc-text">2.2 tree-shaking</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-3-删除无用的css"><span class="post-toc-number">1.2.4.</span> <span class="post-toc-text">2.3 删除无用的css</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-4-动态polyfill"><span class="post-toc-number">1.2.5.</span> <span class="post-toc-text">2.4 动态polyfill</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-5-Scope-Hoisting"><span class="post-toc-number">1.2.6.</span> <span class="post-toc-text">2.5 Scope-Hoisting</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-6-图片压缩，代码压缩，还可以开启Gzip压缩"><span class="post-toc-number">1.2.7.</span> <span class="post-toc-text">2.6 图片压缩，代码压缩，还可以开启Gzip压缩</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-加载优化"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">3. 加载优化</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-1-预加载"><span class="post-toc-number">1.3.1.</span> <span class="post-toc-text">3.1 预加载</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-2-使用文件指纹，浏览器缓存"><span class="post-toc-number">1.3.2.</span> <span class="post-toc-text">3.2 使用文件指纹，浏览器缓存</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#转载自掘金"><span class="post-toc-number">1.3.3.</span> <span class="post-toc-text">转载自掘金</span></a></li></ol></li></ol></li></ol>
        </nav>
    </aside>


<article id="post-webpack性能优化"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">webpack性能优化</h1>
        <div class="post-meta">
            <time class="post-time" title="2020-01-06 23:31:39" datetime="2020-01-06T15:31:39.873Z"  itemprop="datePublished">2020-01-06</time>

            


            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h1 id="Webapck-性能优化"><a href="#Webapck-性能优化" class="headerlink" title="Webapck 性能优化"></a>Webapck 性能优化</h1><p>上一章我们介绍了Webpack常用配置和大致优化思路，这一章节我们来看一下具体怎么优化(未完待续，大佬们可以在评论中提点意见)</p>
<blockquote>
<p>git地址：<a href="https://github.com/jxs7754/demo-cli" target="_blank" rel="noopener">github.com/jxs7754/dem…</a></p>
</blockquote>
<h2 id="1-构建速度优化"><a href="#1-构建速度优化" class="headerlink" title="1. 构建速度优化"></a>1. 构建速度优化</h2><ul>
<li>高版本的node和Webpack</li>
<li>开启多进程，加快解析、压缩速度</li>
<li>分包，分离基础包</li>
<li>利用缓存来提升二次构建速度</li>
<li>减少文件搜索范围</li>
</ul>
<h3 id="速度分析：使用speed-measure-webpack-plugin"><a href="#速度分析：使用speed-measure-webpack-plugin" class="headerlink" title="速度分析：使用speed-measure-webpack-plugin"></a>速度分析：使用speed-measure-webpack-plugin</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const SpeedMeasureWebpackPlugin &#x3D; reqire(&#39;speed-measure-webpack-plugin&#39;);</span><br><span class="line">const smp &#x3D; new SeedMeasureWebpackPlugin();</span><br><span class="line">const webpackCofig &#x3D; smp.wrap(&#123;</span><br><span class="line">  plugins:[</span><br><span class="line">    &#x2F;&#x2F; MyPlugin(),</span><br><span class="line">  ]</span><br><span class="line">&#125;)</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<blockquote>
<p>可以分析整个打包的总耗时，可以查看每个loader和plugins的耗时情况；</p>
</blockquote>
<h3 id="1-1-使用高版本的Node和Webapck"><a href="#1-1-使用高版本的Node和Webapck" class="headerlink" title="1.1 使用高版本的Node和Webapck"></a>1.1 使用高版本的Node和Webapck</h3><ul>
<li>V8引擎的升级优化</li>
<li>webpack4 默认使用更快md4 hash算法</li>
<li>webpacks AST 可以直接从 loader 传递给 AST，减少解析时间</li>
<li>使用字符串方法替代正则表达式</li>
</ul>
<h3 id="1-2-开启多进程"><a href="#1-2-开启多进程" class="headerlink" title="1.2 开启多进程"></a>1.2 开启多进程</h3><h4 id="thread-loader"><a href="#thread-loader" class="headerlink" title="thread-loader"></a>thread-loader</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  module:&#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: &#39;&#x2F;.js$&#x2F;&#39;,</span><br><span class="line">        use: [</span><br><span class="line">          &#123;</span><br><span class="line">            loader: &#39;thread-loader&#39;,</span><br><span class="line">            options:&#123;</span><br><span class="line">              workers： 3，    </span><br><span class="line">            &#125;</span><br><span class="line">          &#125;，</span><br><span class="line">          &#39;babel-loader&#39;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="HappyPack-作者已经不再维护"><a href="#HappyPack-作者已经不再维护" class="headerlink" title="HappyPack(作者已经不再维护)"></a>HappyPack(作者已经不再维护)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">const HappyPack &#x3D; require(&#39;happypack&#39;);</span><br><span class="line"></span><br><span class="line">exports.module &#x3D; &#123;</span><br><span class="line">  rules: [</span><br><span class="line">    &#123;</span><br><span class="line">      test: &#x2F;.js$&#x2F;,</span><br><span class="line">      &#x2F;&#x2F; 1) replace your original list of loaders with &quot;happypack&#x2F;loader&quot;:</span><br><span class="line">      &#x2F;&#x2F; loaders: [ &#39;babel-loader?presets[]&#x3D;es2015&#39; ],</span><br><span class="line">      use: &#39;happypack&#x2F;loader&#39;,</span><br><span class="line">      include: [ &#x2F;* ... *&#x2F; ],</span><br><span class="line">      exclude: [ &#x2F;* ... *&#x2F; ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">exports.plugins &#x3D; [</span><br><span class="line">  &#x2F;&#x2F; 2) create the plugin:</span><br><span class="line">  new HappyPack(&#123;</span><br><span class="line">    &#x2F;&#x2F; 3) re-add the loaders you replaced above in #1:</span><br><span class="line">    loaders: [ &#39;babel-loader?presets[]&#x3D;es2015&#39; ]</span><br><span class="line">  &#125;)</span><br><span class="line">];</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="多线程压缩"><a href="#多线程压缩" class="headerlink" title="多线程压缩"></a>多线程压缩</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; terser-webpack-plugin</span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  optimization: &#123;</span><br><span class="line">    minimizer: &#123;</span><br><span class="line">      new TerserPlugin(&#123;</span><br><span class="line">        parallel: 4,  </span><br><span class="line">      &#125;)    </span><br><span class="line">    &#125;  </span><br><span class="line">  &#125;    </span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; 下面这俩个插件可以配置多线程</span><br><span class="line">&#x2F;&#x2F;  parallel-uglify-plugin </span><br><span class="line">&#x2F;&#x2F;  uglifyjs-webpack-plugin </span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="1-3-分包"><a href="#1-3-分包" class="headerlink" title="1.3 分包"></a>1.3 分包</h3><blockquote>
<p>设置Externals,使用 html-webpack-externals-plugin将基础包（vue vue-router）通过CDN，不打入包中。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">new HtmlWebpackExternalsPlugin(&#123;</span><br><span class="line">  externals: [</span><br><span class="line">    &#123;</span><br><span class="line">      module: &#39;react&#39;,</span><br><span class="line">      entry: &#39;https:&#x2F;&#x2F;xxx&#x2F;react.min.js&#39;,</span><br><span class="line">      global: &#39;React&#39;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      module: &#39;react-dom&#39;,</span><br><span class="line">      entry: &#39;https:&#x2F;&#x2F;xxx&#x2F;react-dom.min.js&#39;,</span><br><span class="line">      global: &#39;ReactDOM&#39;,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;),</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<blockquote>
<p>没有CDN的情况 可以预编译 DllPlugin进行分包，DllReferencePlugin对manifest.json 引用</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 分包</span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  mode: &#39;production&#39;,</span><br><span class="line">  entry: &#123;</span><br><span class="line">    vue: [&#39;vue&#x2F;dist&#x2F;vue.esm.js&#39;, &#39;vue-router&#39;, &#39;vuex&#39;],</span><br><span class="line">    axios: [&#39;axios&#39;, &#39;qs&#39;],</span><br><span class="line">    &#x2F;&#x2F; ui: [&#39;element-ui&#39;],</span><br><span class="line">  &#125;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: &#39;[name]_[chunkhash:8].dll.js&#39;,</span><br><span class="line">    path: path.join(__dirname, &#39;build&#39;),</span><br><span class="line">    library: &#39;[name]&#39;,</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    new CleanWebpackPlugin(),</span><br><span class="line">    new webpack.DllPlugin(&#123;</span><br><span class="line">      name: &#39;[name]_[hash]&#39;,</span><br><span class="line">      path: path.join(__dirname, &#39;build&#x2F;[name].json&#39;),</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br><span class="line">&#x2F;&#x2F; 引用</span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">     ...[&#39;vue&#39;, &#39;axios&#39;].map((item) &#x3D;&gt; new webpack.DllReferencePlugin(&#123;</span><br><span class="line">      context: path.join(__dirname, &#39;.&#x2F;build&#39;),</span><br><span class="line">      manifest: require(&#96;.&#x2F;build&#x2F;$&#123;item&#125;.json&#96;),</span><br><span class="line">    &#125;)),</span><br><span class="line">  ]    </span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="1-4-缓存"><a href="#1-4-缓存" class="headerlink" title="1.4 缓存"></a>1.4 缓存</h3><blockquote>
<p>缓存是为了二次构建时候，加快构建</p>
</blockquote>
<h4 id="babel-loader-开启缓存"><a href="#babel-loader-开启缓存" class="headerlink" title="babel-loader 开启缓存"></a>babel-loader 开启缓存</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    loader: &#39;babel-loader&#39;,</span><br><span class="line">    options:&#123;</span><br><span class="line">      cacheDirectory: true    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;    </span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="terser-webpack-plugin-开启缓存"><a href="#terser-webpack-plugin-开启缓存" class="headerlink" title="terser-webpack-plugin 开启缓存"></a>terser-webpack-plugin 开启缓存</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  optimization: &#123;</span><br><span class="line">    minimizer: &#123;</span><br><span class="line">      new TerserPlugin(&#123;</span><br><span class="line">        &#x2F;&#x2F; 多线程</span><br><span class="line">        parallel: 4,</span><br><span class="line">        &#x2F;&#x2F; 缓存</span><br><span class="line">        cache: true,</span><br><span class="line">      &#125;)    </span><br><span class="line">    &#125;  </span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="hard-source-webpack-plugin-或者-cache-loader"><a href="#hard-source-webpack-plugin-或者-cache-loader" class="headerlink" title="hard-source-webpack-plugin 或者 cache-loader"></a>hard-source-webpack-plugin 或者 cache-loader</h4><h3 id="1-5-减少文件搜素范围"><a href="#1-5-减少文件搜素范围" class="headerlink" title="1.5 减少文件搜素范围"></a>1.5 减少文件搜素范围</h3><h4 id="优化loader配置"><a href="#优化loader配置" class="headerlink" title="优化loader配置"></a>优化loader配置</h4><p>由于 Loader 对文件的转换操作很耗时，所以需要让尽可能少的文件被 Loader 处理。可以通过 test/include/exclude 三个配置项来命中 Loader 要应用规则的文件。</p>
<h4 id="使用合理的alias"><a href="#使用合理的alias" class="headerlink" title="使用合理的alias"></a>使用合理的alias</h4><p>在实战项目中经常会依赖一些庞大的第三方模块，以 Vue 库为例，发布出去的 Vue 库中包含多套代码, vue.runtime.esm.js 中只包含运行时的代码。如果不用template选项可以直接用这个减少打包体积。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    alias: &#123;</span><br><span class="line">      &#39;vue$&#39;: &#39;vue&#x2F;dist&#x2F;vue.runtime.esm.js&#39;,    </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;    </span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="优化resolve-modules配置"><a href="#优化resolve-modules配置" class="headerlink" title="优化resolve.modules配置"></a>优化resolve.modules配置</h4><p>resolve.modules 的默认值是［’node_modules’］，含义是先去当前目录的node_modules目录下去找我们想找的模块，如果没找到就去上一级目录 ../node_modules 中找，再没有就去 ../../node_modules中找，以此类推。当安装的第三方模块都放在项目根目录的 node_modules 目录下时，就没有必要按照默认的方式去一层层地寻找，可以指明存放第三方模块的绝对路径，以减少寻找。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    modules: [path.resolve( __dirname,&#39;node modules&#39;)]  </span><br><span class="line">  &#125;    </span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h4 id="优化resolve-mainFields配置"><a href="#优化resolve-mainFields配置" class="headerlink" title="优化resolve.mainFields配置"></a>优化resolve.mainFields配置</h4><p>在安装的第三方模块中都会有一个package.json文件，用于描述这个模块的属性,其中可以存在多个字段描述入口文件，原因是某些模块可以同时用于多个环境中，针对不同的运行环境需要使用不同的代码。 <a href="https://juejin.im/post/5dfb69aaf265da339260c0d8" target="_blank" rel="noopener">segmentfault.com/a/119000001…</a></p>
<h4 id="优化resolve-extensions配置"><a href="#优化resolve-extensions配置" class="headerlink" title="优化resolve.extensions配置"></a>优化resolve.extensions配置</h4><p>在导入语句没带文件后缀时，Webpack会自动带上后缀去尝试询问文件是否存在。如果这个列表越长，或者正确的后缀越往后，就会造成尝试的次数越多，所以resolve.extensions的配置也会影响到构建的性能在配置resolve.extensions时需要遵守以下几点，以做到尽可能地优化构建性能。</p>
<ul>
<li>后缀列表尽可能小</li>
<li>频率出现高的文件后缀优先放前面</li>
<li>源码中写导入语句时，尽可能带上后缀</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> &#123;</span><br><span class="line">    extensions: [&#39;.js&#39;],</span><br><span class="line">  &#125;,</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h2 id="2-构建体积优化"><a href="#2-构建体积优化" class="headerlink" title="2. 构建体积优化"></a>2. 构建体积优化</h2><ul>
<li>提取公共代码、分割代码、按需加载、懒加载</li>
<li>tree-shaking</li>
<li>scope-hoisting</li>
<li>删除无用的css</li>
<li>动态polyfill</li>
<li>代码压缩，开启Gzip压缩</li>
</ul>
<h3 id="体积分析-webpack-bundle-analyzer"><a href="#体积分析-webpack-bundle-analyzer" class="headerlink" title="体积分析 webpack-bundle-analyzer"></a>体积分析 webpack-bundle-analyzer</h3><blockquote>
<p>可以分析依赖的第三方模块的大小、业务里面组件的代码大小</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const BoundAnalysisPlugin &#x3D; require(&#39;webpack-bundle-analyzer&#39;).BundleAnalyzerPlugin;</span><br><span class="line">module.exports &#x3D; &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    new BoundAnalysisPlugin(),</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="2-1-提取公共代码、分割代码、按需加载、懒加载"><a href="#2-1-提取公共代码、分割代码、按需加载、懒加载" class="headerlink" title="2.1 提取公共代码、分割代码、按需加载、懒加载"></a>2.1 提取公共代码、分割代码、按需加载、懒加载</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 组件按需加载</span><br><span class="line">import &#123;Button&#125; from &#39;element-ui&#39;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 模块按需加载</span><br><span class="line">import &#123;cloneDeep&#125; from &#39;lodash-es&#39;;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; Vue 路由懒加载</span><br><span class="line">const Foo &#x3D; () &#x3D;&gt; import(&#x2F;* webpackChunkName: &quot;group-foo&quot; *&#x2F; &#39;.&#x2F;Foo.vue&#39;)</span><br><span class="line">复制代码</span><br><span class="line">optimization: &#123;</span><br><span class="line">    splitChunks: &#123;</span><br><span class="line">      chunks: &#39;all&#39;,</span><br><span class="line">      minSize: 30000,</span><br><span class="line">      minRemainingSize: 0,</span><br><span class="line">      maxSize: 0,</span><br><span class="line">      minChunks: 1,</span><br><span class="line">      maxAsyncRequests: 6,</span><br><span class="line">      maxInitialRequests: 4,</span><br><span class="line">      automaticNameDelimiter: &#39;~&#39;,</span><br><span class="line">      automaticNameMaxLength: 30,</span><br><span class="line">      cacheGroups: &#123;</span><br><span class="line">        vendors: &#123;</span><br><span class="line">          test: &#x2F;[\\&#x2F;]node_modules[\\&#x2F;]&#x2F;,</span><br><span class="line">          priority: -10</span><br><span class="line">        &#125;,</span><br><span class="line">        default: &#123;</span><br><span class="line">          minChunks: 2,</span><br><span class="line">          priority: -20,</span><br><span class="line">          reuseExistingChunk: true</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="2-2-tree-shaking"><a href="#2-2-tree-shaking" class="headerlink" title="2.2 tree-shaking"></a>2.2 tree-shaking</h3><blockquote>
<p>1个模块可能有多个方法，只要其中的某个方法使用到了，则整个文件都会被打到 bundle 里面去，tree shaking 就是只把用到的方法打入 bundle ，没用到的方法会在 uglify 阶段被擦除掉。 注意事项：</p>
</blockquote>
<ul>
<li>mode: production 默认开启 babel设置 modules:false,</li>
<li>必须使用ES6的语法</li>
</ul>
<h3 id="2-3-删除无用的css"><a href="#2-3-删除无用的css" class="headerlink" title="2.3 删除无用的css"></a>2.3 删除无用的css</h3><blockquote>
<p>使用 purgecss-webpack-plugin 配合 mini-css-extract-plugin 使用</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">const config &#x3D; &#123;</span><br><span class="line">  module:&#123;</span><br><span class="line">      rules: [</span><br><span class="line">        &#123;</span><br><span class="line">          test: &#39;&#x2F;.scss$&#x2F;&#39;,</span><br><span class="line">          use: [</span><br><span class="line">          MiniCssExtractPlugin.loader,</span><br><span class="line">          &#39;css-loader&#39;,</span><br><span class="line">          &#39;sass-loader&#39;,</span><br><span class="line">          &#123;</span><br><span class="line">            loader: &#39;postcss-loader&#39;,</span><br><span class="line">            options: &#123;</span><br><span class="line">              plugins: () &#x3D;&gt; [</span><br><span class="line">                &#x2F;&#x2F; 自动扩展css</span><br><span class="line">                require(&#39;autoprefixer&#39;)(),</span><br><span class="line">              ],</span><br><span class="line">            &#125;,</span><br><span class="line">          &#125;,</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    new MiniCssExtractPlugin(&#123;</span><br><span class="line">      filename: getAssetPath(</span><br><span class="line">        &#96;css&#x2F;[name]_[contenthash:8]&#39;&#125;.css&#96;,</span><br><span class="line">      ),</span><br><span class="line">    &#125;),</span><br><span class="line">    new PurgecssPlugin(&#123;</span><br><span class="line">      paths: glob.sync(&#96;$&#123;PATHS.src&#125;&#x2F;**&#x2F;*&#96;, &#123; nodir: true &#125;),</span><br><span class="line">    &#125;),</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="2-4-动态polyfill"><a href="#2-4-动态polyfill" class="headerlink" title="2.4 动态polyfill"></a>2.4 动态polyfill</h3><table>
<thead>
<tr>
<th>方案</th>
<th>优点</th>
<th>缺点</th>
</tr>
</thead>
<tbody><tr>
<td>babel-polyfill</td>
<td>大而全</td>
<td>体积太大</td>
</tr>
<tr>
<td>@babel/plugin-transform-runtime</td>
<td>只polyfill用到的方法和类，体积较小</td>
<td>不能polyfill原型上的方法</td>
</tr>
<tr>
<td>polyfill-service</td>
<td>只返回客户需要的polyfill</td>
<td>国内奇葩浏览器</td>
</tr>
</tbody></table>
<h3 id="2-5-Scope-Hoisting"><a href="#2-5-Scope-Hoisting" class="headerlink" title="2.5 Scope-Hoisting"></a>2.5 Scope-Hoisting</h3><blockquote>
<p>ModuleConcatenationPlugin 现在webpack4在mode 不等于none都支持</p>
</blockquote>
<h3 id="2-6-图片压缩，代码压缩，还可以开启Gzip压缩"><a href="#2-6-图片压缩，代码压缩，还可以开启Gzip压缩" class="headerlink" title="2.6 图片压缩，代码压缩，还可以开启Gzip压缩"></a>2.6 图片压缩，代码压缩，还可以开启Gzip压缩</h3><blockquote>
<p>使用 image-webpack-loader进行图片压缩</p>
</blockquote>
<h2 id="3-加载优化"><a href="#3-加载优化" class="headerlink" title="3. 加载优化"></a>3. 加载优化</h2><h3 id="3-1-预加载"><a href="#3-1-预加载" class="headerlink" title="3.1 预加载"></a>3.1 预加载</h3><blockquote>
<p>使用 @vue/preload-webpack-plugin 实现代码预加载</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">const config &#x3D; &#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    new PreloadPlugin(&#123;</span><br><span class="line">      rel: &#39;preload&#39;,</span><br><span class="line">      include: &#39;initial&#39;,</span><br><span class="line">      fileBlacklist: [&#x2F;\.map$&#x2F;, &#x2F;hot-update\.js$&#x2F;],</span><br><span class="line">    &#125;),</span><br><span class="line">    new PreloadPlugin(&#123;</span><br><span class="line">      rel: &#39;prefetch&#39;,</span><br><span class="line">      include: &#39;asyncChunks&#39;,</span><br><span class="line">    &#125;),</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>

<h3 id="3-2-使用文件指纹，浏览器缓存"><a href="#3-2-使用文件指纹，浏览器缓存" class="headerlink" title="3.2 使用文件指纹，浏览器缓存"></a>3.2 使用文件指纹，浏览器缓存</h3><ul>
<li>Hash：和整个项⽬的构建相关，只要项⽬文件有修改，整个项⽬构建的 hash 值就会更改</li>
<li>Chunkhash：和 webpack 打包的 chunk 有关，不同的 entry 会生成不同的 chunkhash 值</li>
<li>Contenthash：根据文件内容来定义 hash ，文件内容不不变，则 contenthash 不不变</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; js</span><br><span class="line">&#123;</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: &#39;[name]_[chunkhash:8].js&#39;  </span><br><span class="line">  &#125;    </span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F; css</span><br><span class="line">&#x2F;&#x2F; MiniCssExtractPlugin</span><br><span class="line">&#123;</span><br><span class="line">  plugins:[</span><br><span class="line">    new MiniCssExtractPlugin(&#123;</span><br><span class="line">      filename: &#39;[name]_[contenthash:8].css&#39;    </span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 图片 </span><br><span class="line">&#x2F;&#x2F; file-loader 使用hash（这里的hash是根据内容生成的，默认是md5）</span><br><span class="line">&#123;</span><br><span class="line">  module:&#123;</span><br><span class="line">    rules:[</span><br><span class="line">      &#123;</span><br><span class="line">        test: &#x2F;\.(png|svg|jpg|gif)$&#x2F;,</span><br><span class="line">        use: [&#123;</span><br><span class="line">          loader: &#39;file-loader’,</span><br><span class="line">          options: &#123;</span><br><span class="line">            name: &#39;img&#x2F;[name][hash:8].[ext] &#39; </span><br><span class="line">          &#125; </span><br><span class="line">        &#125;]   </span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="转载自掘金"><a href="#转载自掘金" class="headerlink" title="转载自掘金"></a>转载自掘金</h3><p>战戟飞红</p>
<p><a href="https://juejin.im/post/5dfb69aaf265da339260c0d8#heading-22" target="_blank" rel="noopener">https://juejin.im/post/5dfb69aaf265da339260c0d8#heading-22</a></p>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2020-01-06T15:36:43.555Z" itemprop="dateUpdated">2020-01-06 23:36:43</time>
</span><br>


        
    </div>
    
    <footer>
        <a href="http://yoursite.com">
            <img src="/img/006Zw1yCly1fxmsomzdvoj30u016de83.jpg" alt="包寒">
            包寒
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            

            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://yoursite.com/2020/01/06/webpack%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/&title=《webpack性能优化》 — Baohan.Blog | 交流与分享&pic=http://yoursite.com/img/006Zw1yCly1fxmsomzdvoj30u016de83.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://yoursite.com/2020/01/06/webpack%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/&title=《webpack性能优化》 — Baohan.Blog | 交流与分享&source=个人博客" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2020/01/06/webpack%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《webpack性能优化》 — Baohan.Blog | 交流与分享&url=http://yoursite.com/2020/01/06/webpack%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/&via=http://yoursite.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://yoursite.com/2020/01/06/webpack%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between flex-row-reverse">
  

  
    <div class="waves-block waves-effect next">
      <a href="/2020/01/05/%E6%A0%B7%E5%BC%8F%E5%92%8C%E5%85%BC%E5%AE%B9%E9%97%AE%E9%A2%98/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">样式和兼容问题</h4>
      </a>
    </div>
  
</nav>



    




















</article>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>This blog is licensed under a <a rel="license noopener" href="https://creativecommons.org/licenses/by/4.0/" target="_blank">Creative Commons Attribution 4.0 International License</a>.</span>
        </p>
    </div>
    <div class="bottom">
        <p><span>包寒 &copy; 2015 - 2020</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://yoursite.com/2020/01/06/webpack%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/&title=《webpack性能优化》 — Baohan.Blog | 交流与分享&pic=http://yoursite.com/img/006Zw1yCly1fxmsomzdvoj30u016de83.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://yoursite.com/2020/01/06/webpack%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/&title=《webpack性能优化》 — Baohan.Blog | 交流与分享&source=个人博客" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2020/01/06/webpack%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《webpack性能优化》 — Baohan.Blog | 交流与分享&url=http://yoursite.com/2020/01/06/webpack%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/&via=http://yoursite.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://yoursite.com/2020/01/06/webpack%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACtUlEQVR42u3ay27kMAwEwPn/n9695jKeblLKAyifAsexVA4gEU29XvH178v17s7X++/uvPs5GTd5fnjh4eHhLab+7nXPv82faT/W82eKRsTDw8O7xktel08leX/7aZJNBQ8PD+/385L7+bLeFvR4eHh4f51XF7vr9AAPDw/vZ3nt6/IB2mnlzxzOWvDw8PC263OxSXz/z1f6e3h4eHjr4jUJHWbNqvz51Wzx8PDwLvBmDarkfnJEYBb71vPEw8PDO8qbtanOHsZqY4UiOsHDw8O7xkuW5rZcbuPgWYurzqfx8PDw1rx8mHzRb+PXtonVbkt4eHh4Z3n5hNqlPwG3ZXR7Bw8PD+8Gb7P0z5pYs47/6ugVHh4e3jXerK31TMrB+8DiQ+KCh4eHd4iXl7x5ObvZEtoA98Ns8fDw8L6FlxTW+xZX1PgPRv+wqeDh4eFd4LULfT71500i2Tb2MTEeHh7ePd5sY9gHr3kJ3n7WVRsMDw8P75GXL9CzqWyaZ21gEbW+8PDw8Na8dulPooFk49m8Z/gPwMPDwzvEOxsltFvC7JhXEebi4eHhXeC1QyYxRD6hdsSkKC8SFzw8PLwLvPp46CgmaEvtdpvBw8PDO8tLiuNNIRt90dFBgSKMwMPDwzvKy0PS2UHV9g2z4wL1KQk8PDy8NW82WL6g5xtMe+TrwGkyPDw8vDVvVuDmscWeXRf3eHh4eNd4RQO+3DDybeDUASw8PDy8e7xNenHjo+QFdPIGPDw8vBu82YLbHibIQ9h2azkAw8PDwxvxkiFn8evs2kS9r/a74uHh4S14+TCbEnkW0R77Wnh4eHg/xNsHE7OjWs9vePs8Hh4e3i/gPf9tu4W0R77yOAMPDw/vNi8pcNtWWRvX1kFDvjHg4eHhHeXNotVZC78NI/JJr8ILPDw8vHSs/6o9VLm12vB2AAAAAElFTkSuQmCC" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '死鬼去哪里了！';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
