[{"title":"gitå¸¸ç”¨æŒ‡ä»¤","date":"2020-01-04T04:08:26.597Z","path":"2020/01/04/gitå¸¸ç”¨æŒ‡ä»¤/","text":"å…³äºgitä½ æ—¥å¸¸å·¥ä½œä¸­ä¼šç”¨åˆ°çš„ä¸€äº›ä¸œè¥¿å‰è¨€gitæ˜¯ä¸€ä¸ªç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼Œ ç‰ˆæœ¬æ§åˆ¶ä¸»è¦çš„å¥½å¤„æœ‰ä¸‰ç‚¹ï¼š ä»å½“å‰ç‰ˆæœ¬å›é€€åˆ°ä»»æ„ç‰ˆæœ¬ æŸ¥çœ‹å†å²ç‰ˆæœ¬ å¯¹æ¯”ä¸¤ä¸ªç‰ˆæœ¬å·®å¼‚ gitç›¸å…³æœ¯è¯­12345678910111213141516171819repository ä»“åº“branch åˆ†æ”¯summary æ‘˜è¦track è·Ÿè¸ªmodify ä¿®æ”¹stage æš‚å­˜commit æäº¤push æ¨é€pull æ‹‰å–clone å…‹éš†amend ä¿®æ”¹merge åˆå¹¶conflict å†²çªorigin æºupstream ä¸Šæ¸¸downstream ä¸‹æ¸¸verbose è¯¦æƒ…reflog å‚ç…§æ—¥å¿—å¤åˆ¶ä»£ç  gitåŸºç¡€ modifiedï¼š å·²ä¿®æ”¹ï¼Œ ä¿®æ”¹äº†é¡¹ç›®ä½†æ²¡æœ‰æäº¤åˆ°æœ¬åœ°æ•°æ®åº“ï¼Œ ä¹Ÿå°±æ˜¯æ²¡æœ‰git add stagedï¼š å·²æš‚å­˜ï¼Œ å°±æ˜¯æ‰§è¡Œäº†git addï¼Œä½†æ˜¯æ²¡æœ‰git commit committedï¼š å·²æäº¤ï¼Œ ä¿å­˜åœ¨æœ¬åœ°æ•°æ®åº“ï¼Œ å°±æ˜¯æ‰§è¡Œäº†git commit gitåŸºæœ¬å·¥ä½œæµç¨‹ å†™ä»£ç  å¯¹ä¿®æ”¹çš„æ–‡ä»¶è¿›è¡Œå¿«ç…§ï¼Œ ä¿å­˜åˆ°æš‚å­˜åŒºåŸŸä¸­ æäº¤ä»£ç ï¼Œ å°†æš‚å­˜åŒºåŸŸä¸­çš„æ–‡ä»¶å¿«ç…§ä¸Šä¼ åˆ°gitä¸­ åŸºæœ¬é…ç½®æŸ¥çœ‹å½“å‰çš„gité…ç½®ï¼š 123456git config --listgit config user.namegit config user.email&#x2F;&#x2F;é€šè¿‡git config -häº†è§£æ›´å¤šçš„gité…ç½®æŸ¥è¯¢å¤åˆ¶ä»£ç  ä¿®æ”¹å½“å‰é…ç½®(ä¸€èˆ¬åªéœ€è¦é…ç½®ä¸€æ¬¡ï¼Œ ä½†æ˜¯å¦‚æœæ¢äº†ç”µè„‘ï¼Œ æˆ–è€…æ›´æ¢äº†ç³»ç»Ÿæˆ‘ä»¬å°±éœ€è¦ä»æ–°é…ç½®ï¼‰ï¼š 123456&#x2F;&#x2F;ç”¨æˆ·åé…ç½®git config --global user.name &quot;xiaohuochai&quot;&#x2F;&#x2F;é‚®ç®±é…ç½®git config --global user.email &quot;121631835@qq.com&quot;å¤åˆ¶ä»£ç  é¡¹ç›®é…ç½®.gitignoreå½“æˆ‘ä»¬æäº¤é¡¹ç›®åˆ°gitæ—¶ï¼Œ æœ‰å¾ˆå¤šæ–‡ä»¶æ˜¯ä¸éœ€è¦æäº¤çš„ï¼Œ æ¯”å¦‚node_modules, .vscode, .ideaç­‰ç­‰ è¿™æ˜¯æˆ‘ä»¬éœ€è¦åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹æ–°å»º.gitignoreæ–‡ä»¶ 123456node_modules&#x2F;&#x2F;*&#x2F;node_modules&#x2F;.idea.vscodeå¤åˆ¶ä»£ç  é…ç½®sshå½“æˆ‘ä»¬ä»githubè¿œç¨‹æœåŠ¡å™¨pullå’Œpushä»£ç æ—¶ï¼Œ å¦‚ä½•éªŒè¯æäº¤å’Œæ‹‰å–çš„ä»£ç æ˜¯è°ï¼Ÿ ä¸ºäº†é¿å…æ¯æ¬¡è¾“å…¥ç”¨æˆ·åï¼Œ å¯†ç çš„éº»çƒ¦ï¼Œ æˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®sshæ¥è§£å†³ã€‚ æŸ¥çœ‹æœ¬æœºçš„sshï¼š 123456&#x2F;&#x2F;sshä¸€èˆ¬å­˜åœ¨.sshä¸­&#x2F;&#x2F;æ‰“å¼€å‘½ä»¤è¡Œcd ~&#x2F;.ssh &#x2F;&#x2F;è¿›å…¥å¯¹åº”ç›®å½•ls &#x2F;&#x2F;å¦‚æœæœ‰å¯ä»¥çœ‹åˆ°ç§é’¥id_rsaæ–‡ä»¶å’Œå…¬é’¥id_rsa.pubcat id_rsa.pub æˆ–è€… vim id_rsa.pub &#x2F;&#x2F;æŸ¥çœ‹æ–‡ä»¶å†…å®¹å¤åˆ¶ä»£ç  å¦‚æœæ²¡æœ‰ï¼Œ æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢å‘½ä»¤ç”Ÿæˆ 12ssh-keygenå¤åˆ¶ä»£ç  æ¥ä¸‹æ¥ï¼Œ æˆ‘ä»¬å¤åˆ¶å…¬é’¥çš„å†…å®¹ï¼Œç™»å½•github åœ¨å³ä¸Šè§’å¤´åƒä¸‹æ‹‰settings -&gt; SSH and GPG Keysä¸­ç‚¹å‡» New SSH Keyè¿›è¡Œæ·»åŠ ã€‚ é€šè¿‡ssh -T git@github.comå‘½ä»¤æ¥éªŒè¯SSHæ˜¯å¦é…ç½®æˆåŠŸã€‚ gitåŸºæœ¬æ“ä½œ åˆå§‹åŒ–æ–°ä»“åº“ 12git initå¤åˆ¶ä»£ç  æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€ 12git statuså¤åˆ¶ä»£ç  æ–‡ä»¶è·Ÿè¸ª 123git add xxx &#x2F;&#x2F;è·Ÿè¸ªæŸä¸ªæ–‡ä»¶git add . &#x2F;&#x2F;æ‰¹é‡è·Ÿè¸ªå¤åˆ¶ä»£ç  æ–‡ä»¶æ˜¯å¦addæˆåŠŸï¼Œ æˆ‘ä»¬å¯ä»¥é€šè¿‡git statuså†æ£€æŸ¥ä¸€æ¬¡ æ–‡ä»¶æäº¤æœ¬åœ°ä»“åº“ 1234git commit &#x2F;&#x2F;æäº¤æ–‡ä»¶åˆ°æœ¬åœ°ä»“åº“git commit -m &#39;xxx&#39; &#x2F;&#x2F;xxxæ˜¯ä½ æœ¬æ¬¡æäº¤çš„ä¿¡æ¯è¯´æ˜git commit -am &#39;xxx&#39; &#x2F;&#x2F;å°†æ‰€æœ‰å·²è·Ÿè¸ªçš„æ–‡ä»¶æš‚å­˜èµ·æ¥ä¸€å¹¶æäº¤å¤åˆ¶ä»£ç  æ¨é€è¿œç¨‹ä»“åº“ 1234567git push origin xxx&#x2F;&#x2F;ä½ å¯ä»¥é€šè¿‡-uæŒ‡å®šä¸€ä¸ªé»˜è®¤çš„æºï¼Œ è¿™æ ·ä»¥åpushå°±ä¸ç”¨åŠ origingit push -u origin xxx&#x2F;&#x2F;ä»¥åå°±å¯ä»¥git pushå¤åˆ¶ä»£ç  æ‹‰å–è¿œç¨‹ä»“åº“ 1234git pull origin xxx&#x2F;&#x2F;å¯ä»¥ç®€å†™git pullï¼Œ å¦‚æœæç¤ºno tracking informationï¼Œ æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢æ–¹æ³•å»ºç«‹è¿½è¸ªï¼Œåç»­å°±å¯ä»¥ç›´æ¥git pulläº†git branch --set-upstream branch-name origin&#x2F;branch-nameå¤åˆ¶ä»£ç  å·®å¼‚æ¯”è¾ƒ 12git diffå¤åˆ¶ä»£ç  æŸ¥çœ‹æäº¤å†å² 1234git log &#x2F;&#x2F;æŒ‰æäº¤æ—¶é—´åˆ—å‡ºæ‰€æœ‰çš„æ›´æ–°ï¼Œæœ€è¿‘çš„æ›´æ–°æ’åœ¨æœ€ä¸Šé¢git log --oneline &#x2F;&#x2F;æŸ¥çœ‹ç®€è¦çš„å†å²è®°å½•git reflog &#x2F;&#x2F;ç”¨æ¥è®°å½•æ¯ä¸€æ¬¡å‘½ä»¤ï¼Œ å¸¸ç”¨æ¥è¾…åŠ©ç‰ˆæœ¬åˆ‡æ¢å¤åˆ¶ä»£ç  ä¸€æ¬¡æ­£å¸¸çš„ä»£ç æäº¤æµç¨‹ 12345git pullgit add .git commit -m &#39;xxx&#39;git pushå¤åˆ¶ä»£ç  gitç‰ˆæœ¬åˆ‡æ¢æœ‰æ—¶å€™ä¸šåŠ¡åœºæ™¯ï¼Œ æˆ–è€…éœ€æ±‚å˜æ›´ç­‰å„ç§å› ç´ ï¼Œ éœ€è¦æˆ‘ä»¬åˆ‡æ¢å›ä¹‹å‰çš„æŸä¸ªç‰ˆæœ¬ã€‚ è¦è¿›è¡Œç‰ˆæœ¬åˆ‡æ¢ï¼Œ æˆ‘ä»¬å°±å¾—çŸ¥é“å½“å‰å¤„äºå“ªä¸ªç‰ˆæœ¬ï¼š 12git log --onelineå¤åˆ¶ä»£ç  å¸¦æœ‰HEADå­—æ ·çš„å°±æ˜¯æˆ‘ä»¬å½“å‰æ‰€åœ¨ç‰ˆæœ¬ï¼Œ é€šè¿‡git reset --hard idå‘½ä»¤åˆ‡æ¢ç‰ˆæœ¬ã€‚ idå¯ä»¥æ˜¯ï¼š 1234- HEAD^ : ä¸Šä¸ªç‰ˆæœ¬- HEAD^^: ä¸Šä¸Šä¸ªç‰ˆæœ¬- HEAD~10: ä¸Š10ä¸ªç‰ˆæœ¬å¤åˆ¶ä»£ç  å½“ä½ åˆ‡æ¢å›ä¸ŠæŸä¸ªç‰ˆæœ¬ä¹‹åï¼Œ é€šè¿‡git logä½ å°±çœ‹ä¸åˆ°æœ€æ–°ç‰ˆæœ¬äº†ï¼Œè¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨git reflogäº†ï¼Œ è¿™ä¸ªå‘½ä»¤ä¼šæŒ‰ç…§ä¹‹å‰ç»è¿‡çš„æ‰€æœ‰çš„commitè·¯å¾„æ’åˆ—ã€‚ gitåˆ†æ”¯ç®¡ç†æˆ‘ä»¬ä¸€èˆ¬å¼€å‘éƒ½ä¼šä»masteråˆ†æ”¯åˆ†ç¦»å‡ºdevæˆ–è€…å…¶ä»–å¼€å‘åˆ†æ”¯ï¼Œ ç”¨æ¥å¼€å‘ï¼Œ è¿™æ ·å³ä½¿å¼€å‘å‡ºç°é—®é¢˜ä¹Ÿä¸ä¼šå½±å“ä¸»åˆ†æ”¯ã€‚ ä½¿ç”¨git branch xxxåˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯ã€‚ ä½¿ç”¨git checkout xxxåˆ‡æ¢åˆ°æ–°çš„åˆ†æ”¯ branch, checkoutå¸¸ç”¨å‘½ä»¤: 12345678git checkout -b xxx &#x2F;&#x2F;å¯ä»¥å¿«é€Ÿæ–°å»ºå¹¶åˆ‡æ¢åˆ°æ–°çš„åˆ†æ”¯git branch -d xxx &#x2F;&#x2F;å½“åˆ†æ”¯åˆå¹¶åˆ°ä¸»åˆ†æ”¯ï¼Œ è¿™ä¸ªåˆ†æ”¯å°±å¯ä»¥é€šè¿‡-dåˆ é™¤äº†git branch -D xxx &#x2F;&#x2F;åˆ é™¤é‚£äº›æ²¡æœ‰è¢«åˆå¹¶çš„åˆ†æ”¯git branch -a &#x2F;&#x2F;æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯å¤åˆ¶ä»£ç  åˆ†æ”¯åˆå¹¶æ³¨æ„ï¼š åˆ†æ”¯åˆå¹¶æ—¶ï¼Œ ä½ ä¸€å®šè¦ä¿è¯ä½ åœ¨è¦åˆå¹¶åˆ°è¿™ä¸ªåˆ†æ”¯çš„ç›®æ ‡åˆ†æ”¯ä¸Š ä½¿ç”¨git merge xxxå³å¯å°†xxxåˆ†æ”¯åˆå¹¶åˆ°ä½ å½“å‰æ‰€åœ¨çš„åˆ†æ”¯ã€‚ æ­£å¸¸çš„åˆå¹¶åˆ†æ”¯å¾ˆç®€å•ï¼Œ è¿™æ ·å°±okäº†ï¼Œ ä½†æ˜¯åˆ†æ”¯åˆå¹¶ï¼Œ å¦‚æœåœ¨ä¸åŒçš„åˆ†æ”¯ä¿®æ”¹äº†åŒä¸€ä¸ªæ–‡ä»¶çš„åŒä¸€éƒ¨åˆ†ï¼Œ æ­¤æ—¶gitæ˜¯æ— æ³•åˆ¤æ–­è¯¥ä½¿ç”¨å“ªä¸ªåˆ†æ”¯çš„ä»£ç çš„ï¼Œ è¿™æ ·å°±ä¼šäº§ç”Ÿå†²çªï¼Œè™½ç„¶gitè¿›è¡Œäº†åˆå¹¶ï¼Œ ä½†å¹¶æ²¡æœ‰æäº¤ï¼Œ éœ€è¦æˆ‘ä»¬è§£å†³å†²çªï¼Œ é‡æ–°æäº¤ã€‚ æˆ‘ä»¬å¯ä»¥é€šè¿‡git statusæŸ¥çœ‹æ˜¯å“ªäº›æ–‡ä»¶å‘ç”Ÿäº†å†²çªï¼Œç„¶åé€ä¸€è§£å†³ï¼Œ å½“æˆ‘ä»¬æŠŠå†²çªçš„ä»£ç æŒ‰æ­£ç¡®çš„ä»£ç ä¿®å¤åï¼Œ éœ€è¦é‡æ–°git add, git commit, git pushã€‚ æ“ä½œè¿œç¨‹ä»“åº“cloneè¿œç¨‹ä»“åº“é€šè¿‡git clone urlæ¥å…‹éš†è¿œç¨‹ä»“åº“ æ¯”å¦‚ï¼š 123456789&#x2F;&#x2F;è¿™ä¸ªé»˜è®¤ä¼šåœ¨ä½ æ‹‰å–çš„è·¯å¾„ä¸‹æ–°å»ºä¸€ä¸ªblog-masonçš„æ–‡ä»¶å¤¹git clone https:&#x2F;&#x2F;github.com&#x2F;MasonEast&#x2F;blog-mason.git &#x2F;&#x2F;å¦‚æœä½ ä¸æƒ³è¦æ–‡ä»¶å¤¹blog-masonï¼Œ ä½ å¯ä»¥è¿™æ ·, åœ¨urlåé¢ï¼Œç©ºæ ¼åŠ æ–°åå­—git clone https:&#x2F;&#x2F;github.com&#x2F;MasonEast&#x2F;blog-mason.git newName&#x2F;&#x2F;å¦‚æœä½ å°±æƒ³è¦åœ¨å½“å‰è·¯å¾„ä¸‹æ”¾é¡¹ç›®æ–‡ä»¶ï¼Œ ä¸è¦é‚£ä¸ªå¤–é¢çš„æ–‡ä»¶å¤¹äº†ï¼Œ å¯ä»¥ç”¨.git clone https:&#x2F;&#x2F;github.com&#x2F;MasonEast&#x2F;blog-mason.git .å¤åˆ¶ä»£ç  æŸ¥çœ‹è¿œç¨‹ä»“åº“git remoteæˆ‘ä»¬å…‹éš†çš„ä»“åº“é€šè¿‡git remoteä¼šçœ‹åˆ°ä¸€ä¸ªå«originçš„è¿œç¨‹åº“ï¼Œ è¿™æ˜¯gité»˜è®¤æ ‡è¯†å…‹éš†çš„åŸå§‹ä»“åº“ é€šè¿‡git remote -væˆ–git remote --verboseæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹åˆ°æ›´åŠ è¯¦ç»†çš„ä¿¡æ¯ï¼Œå³å¯¹åº”çš„é¡¹ç›®åœ°å€ï¼Œ æ­£å¸¸ä¼šæœ‰ä¸¤ä¸ªï¼Œ ä½†å¦‚æœä½ æ²¡æœ‰pushæƒé™çš„è¯å°±åªèƒ½çœ‹åˆ°ä¸€ä¸ªfetchçš„åœ°å€ã€‚ 12345git remote -vorigin git@github.com:MasonEast&#x2F;blog-mason.git (fetch)origin git@github.com:MasonEast&#x2F;blog-mason.git (push)å¤åˆ¶ä»£ç  åˆ é™¤è¿œç¨‹åˆ†æ”¯1234git push origin :xxx&#x2F;&#x2F;ä¹Ÿå¯ä»¥git push origin --delete xxxå¤åˆ¶ä»£ç  åˆ é™¤è¿œç¨‹ä»“åº“12git remote rm xxxå¤åˆ¶ä»£ç  é‡å‘½åè¿œç¨‹ä»“åº“12git remote rename oldName newNameå¤åˆ¶ä»£ç  å…³äºè¯¯æ“ä½œgitä¸»è¦ç”¨äºç‰ˆæœ¬æ§åˆ¶ï¼Œ ååŒå¼€å‘ï¼Œ è¯¯æ“ä½œå¯ä»¥æ’¤é”€ï¼Œ ä½†æ˜¯æœ‰çš„æ’¤é”€æ˜¯ä¸å¯é€†çš„ï¼Œ æˆ‘ä»¬ä¸€å®šè¦æ…é‡å¯¹å¾…ï¼Œ ä¸ç„¶å¯èƒ½å¯¼è‡´éƒ¨åˆ†ä»£ç ä¸¢å¤±ã€‚ ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤åœºæ™¯ï¼š æŸæ¬¡æäº¤å®Œåï¼Œ å‘ç°å°‘æäº¤äº†æ–‡ä»¶ï¼Œ æˆ‘ä»¬éœ€è¦æ’¤é”€åˆšæ‰çš„æäº¤ï¼Œ ç„¶åé‡æ–°æäº¤ã€‚ 123git add xxx &#x2F;&#x2F;æ·»åŠ å°‘æäº¤çš„æ–‡ä»¶åˆ°æš‚å­˜åŒºgit commit --amend &#x2F;&#x2F;å¾€æœ€åä¸€æ¬¡æäº¤ä¸­è¿½åŠ å°‘æäº¤çš„æ–‡ä»¶ï¼Œ è¿™æ¬¡æäº¤ä¸ä¼šäº§ç”Ÿè®°å½•å¤åˆ¶ä»£ç  ç§»é™¤æœ¬åœ°ä»“åº“çš„æ–‡ä»¶åœºæ™¯ï¼š æˆ‘ä»¬é€šè¿‡git commitå°†æ–‡ä»¶æäº¤åˆ°æœ¬åœ°ä»“åº“åï¼Œ æ‰æƒ³èµ·æ¥æŠŠä¸æƒ³æäº¤çš„æ–‡ä»¶åŠ è¿›å»äº†ã€‚ 12git rm xxx å¤åˆ¶ä»£ç  ç§»é™¤æš‚å­˜åŒºçš„æ–‡ä»¶åœºæ™¯ï¼š æœ‰æ—¶å€™æˆ‘ä»¬ä¹ æƒ¯æ€§git add .ï¼Œ ä½†æœ‰çš„æ–‡ä»¶æˆ‘ä»¬ä¸åº”è¯¥æäº¤ï¼Œ è¿™æ—¶è¦ä»æš‚å­˜åŒºä¸­ç§»é™¤æ–‡ä»¶ã€‚ 1git reset HEAD xxx &#x2F;&#x2F;ä»æš‚å­˜åŒºä¸­ç§»é™¤xxxæ–‡ä»¶ è½¬è½½è‡ªæ˜é‡‘MasonEast https://juejin.im/post/5e0f401f6fb9a047f164fc9f?utm_source=gold_browser_extension#heading-22","tags":[]},{"title":"webpackæœ€ä½³é…ç½®æŒ‡åŒ—","date":"2020-01-03T09:12:02.278Z","path":"2020/01/03/webpackæœ€ä½³é…ç½®æŒ‡åŒ—/","text":"webpack æœ€ä½³é…ç½®æŒ‡åŒ—å‰è¨€å¯¹äºå…¥é—¨é€‰æ‰‹æ¥è®²ï¼Œwebpack é…ç½®é¡¹å¾ˆå¤šå¾ˆé‡ï¼Œå¦‚ä½•å¿«é€Ÿé…ç½®ä¸€ä¸ªå¯ç”¨äºçº¿ä¸Šç¯å¢ƒçš„ webpack å°±æ˜¯ä¸€ä»¶å€¼å¾—æ€è€ƒçš„äº‹æƒ…ã€‚å…¶å®ç†Ÿæ‚‰ webpack ä¹‹åä¼šå‘ç°å¾ˆç®€å•ï¼ŒåŸºç¡€çš„é…ç½®å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š entry ã€ output ã€ mode ã€ resolve ã€ module ã€ optimization ã€ plugin ã€ source map ã€ performance ç­‰ï¼Œæœ¬æ–‡å°±æ¥é‡ç‚¹åˆ†æä¸‹è¿™äº›éƒ¨åˆ†ã€‚ å†…é™„ä¸€å¼  webpack é›¶é…ç½®å¯¹æ¯”å›¾ç‰‡ï¼Œå…³æ³¨å…¬ä¼—å·ã€å‰ç«¯ç“¶å­å›ã€‘å›å¤ã€webpackã€‘å…è´¹è·å–pdfæ–‡ä»¶ã€‚ ä¸€ã€é…ç½®å…¥å£ entry1ã€å•å…¥å£å’Œå¤šå…¥å£å°†æºæ–‡ä»¶åŠ å…¥åˆ° webpack æ„å»ºæµç¨‹ï¼Œå¯ä»¥æ˜¯å•å…¥å£: 1234module.exports &#x3D; &#123; entry: &#96;.&#x2F;index.js&#96;,&#125;å¤åˆ¶ä»£ç  æ„å»ºåŒ…åç§° [name]ä¸º main ï¼› æˆ–å¤šå…¥å£ï¼š 123456module.exports &#x3D; &#123; entry: &#123; &quot;index&quot;: &#96;.&#x2F;index.js&#96;, &#125;,&#125;å¤åˆ¶ä»£ç  key:value é”®å€¼å¯¹çš„å½¢å¼ï¼š keyï¼šæ„å»ºåŒ…åç§°ï¼Œå³ [name] ï¼Œåœ¨è¿™é‡Œä¸º index valueï¼šå…¥å£è·¯å¾„ å…¥å£å†³å®š webapck ä»å“ªä¸ªæ¨¡å—å¼€å§‹ç”Ÿæˆä¾èµ–å…³ç³»å›¾ï¼ˆæ„å»ºåŒ…ï¼‰ï¼Œæ¯ä¸€ä¸ªå…¥å£æ–‡ä»¶éƒ½å¯¹åº”ç€ä¸€ä¸ªä¾èµ–å…³ç³»å›¾ã€‚ 2. åŠ¨æ€é…ç½®å…¥å£æ–‡ä»¶åŠ¨æ€æ‰“åŒ…æ‰€æœ‰å­é¡¹ç›®å½“æ„å»ºé¡¹ç›®åŒ…å«å¤šä¸ªå­é¡¹ç›®æ—¶ï¼Œæ¯æ¬¡å¢åŠ ä¸€ä¸ªå­ç³»ç»Ÿéƒ½éœ€è¦å°†å…¥å£æ–‡ä»¶å†™å…¥ webpack é…ç½®æ–‡ä»¶ä¸­ï¼Œå…¶å®æˆ‘ä»¬è®©webpack åŠ¨æ€è·å–å…¥å£æ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š 123456789&#x2F;&#x2F; ä½¿ç”¨ glob ç­‰å·¥å…·ä½¿ç”¨è‹¥å¹²é€šé…ç¬¦ï¼Œè¿è¡Œæ—¶è·å¾— entry çš„æ¡ç›®module.exports &#x3D; &#123; entry: glob.sync(&#39;.&#x2F;project&#x2F;**&#x2F;index.js&#39;).reduce((acc, path) &#x3D;&gt; &#123; const entry &#x3D; path.replace(&#39;&#x2F;index.js&#39;, &#39;&#39;) acc[entry] &#x3D; path return acc &#125;, &#123;&#125;),&#125;å¤åˆ¶ä»£ç  åˆ™ä¼šå°†æ‰€æœ‰åŒ¹é… ./project/**/index.js çš„æ–‡ä»¶ä½œä¸ºå…¥å£æ–‡ä»¶è¿›è¡Œæ‰“åŒ…ï¼Œå¦‚æœä½ æƒ³è¦å¢åŠ ä¸€ä¸ªå­é¡¹ç›®ï¼Œä»…ä»…éœ€è¦åœ¨ project åˆ›å»ºä¸€ä¸ªå­é¡¹ç›®ç›®å½•ï¼Œå¹¶åˆ›å»ºä¸€ä¸ª index.js ä½œä¸ºå…¥å£æ–‡ä»¶å³å¯ã€‚ è¿™ç§æ–¹å¼æ¯”è¾ƒé€‚åˆå…¥å£æ–‡ä»¶ä¸é›†ä¸­ä¸”è¾ƒå¤šçš„åœºæ™¯ã€‚ åŠ¨æ€æ‰“åŒ…æŸä¸€å­é¡¹ç›®åœ¨æ„å»ºå¤šç³»ç»Ÿåº”ç”¨æˆ–ç»„ä»¶åº“æ—¶ï¼Œæˆ‘ä»¬æ¯æ¬¡æ‰“åŒ…å¯èƒ½ä»…ä»…éœ€è¦æ‰“åŒ…æŸä¸€æ¨¡å—ï¼Œæ­¤æ—¶ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œçš„å½¢å¼è¯·æ±‚æ‰“å°æŸä¸€æ¨¡å—ï¼Œä¾‹å¦‚ï¼š 12npm run build --project componentså¤åˆ¶ä»£ç  åœ¨æ‰“åŒ…çš„æ—¶å€™è§£æå‘½ä»¤è¡Œå‚æ•°ï¼š 12345&#x2F;&#x2F; è§£æå‘½ä»¤è¡Œå‚æ•°const argv &#x3D; require(&#39;minimist&#39;)(process.argv.slice(2))&#x2F;&#x2F; é¡¹ç›®const project &#x3D; argv[&#39;project&#39;] || &#39;index&#39;å¤åˆ¶ä»£ç  ç„¶åé…ç½®å…¥å£ï¼š 123456module.exports &#x3D; &#123; entry: &#123; &quot;index&quot;: &#96;.&#x2F;$&#123;project&#125;&#x2F;index.js&#96;, &#125; &#125;å¤åˆ¶ä»£ç  ç›¸å½“äºï¼š 123456module.exports &#x3D; &#123; entry: &#123; &quot;index&quot;: &#96;.&#x2F;components&#x2F;index.js&#96;, &#125; &#125;å¤åˆ¶ä»£ç  å½“ç„¶ï¼Œä½ å¯ä»¥ä¼ å…¥å…¶å®ƒå‚æ•°ï¼Œä¹Ÿå¯ä»¥åº”ç”¨äºå¤šä¸ªåœ°æ–¹ï¼Œä¾‹å¦‚ resolve.alias ä¸­ã€‚ äºŒã€é…ç½®å‡ºå£ outputç”¨äºå‘ŠçŸ¥ webpack å¦‚ä½•æ„å»ºç¼–è¯‘åçš„æ–‡ä»¶ï¼Œå¯ä»¥è‡ªå®šä¹‰è¾“å‡ºæ–‡ä»¶çš„ä½ç½®å’Œåç§°: 1234567891011121314151617181920module.exports &#x3D; &#123; output: &#123; &#x2F;&#x2F; path å¿…é¡»ä¸ºç»å¯¹è·¯å¾„ &#x2F;&#x2F; è¾“å‡ºæ–‡ä»¶è·¯å¾„ path: path.resolve(__dirname, &#39;..&#x2F;..&#x2F;dist&#x2F;build&#39;), &#x2F;&#x2F; åŒ…åç§° filename: &quot;[name].bundle.js&quot;, &#x2F;&#x2F; æˆ–ä½¿ç”¨å‡½æ•°è¿”å›å(ä¸å¸¸ç”¨) &#x2F;&#x2F; filename: (chunkData) &#x3D;&gt; &#123; &#x2F;&#x2F; return chunkData.chunk.name &#x3D;&#x3D;&#x3D; &#39;main&#39; ? &#39;[name].js&#39;: &#39;[name]&#x2F;[name].js&#39;; &#x2F;&#x2F; &#125;, &#x2F;&#x2F; å—åï¼Œå…¬å…±å—å(éå…¥å£) chunkFilename: &#39;[name].[chunkhash].bundle.js&#39;, &#x2F;&#x2F; æ‰“åŒ…ç”Ÿæˆçš„ index.html æ–‡ä»¶é‡Œé¢å¼•ç”¨èµ„æºçš„å‰ç¼€ &#x2F;&#x2F; ä¹Ÿä¸ºå‘å¸ƒåˆ°çº¿ä¸Šèµ„æºçš„ URL å‰ç¼€ &#x2F;&#x2F; ä½¿ç”¨çš„æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œé»˜è®¤ä¸º &#39;&#39; publicPath: &#39;&#x2F;&#39;, &#125;&#125;å¤åˆ¶ä»£ç  åœ¨ webpack4 å¼€å‘æ¨¡å¼ä¸‹ï¼Œä¼šé»˜è®¤å¯åŠ¨ output.pathinfo ï¼Œå®ƒä¼šè¾“å‡ºä¸€äº›é¢å¤–çš„æ³¨é‡Šä¿¡æ¯ï¼Œå¯¹é¡¹ç›®è°ƒè¯•éå¸¸æœ‰ç”¨ï¼Œå°¤å…¶æ˜¯ä½¿ç”¨ eval devtool æ—¶ã€‚ filename ï¼š[name] ä¸º entry é…ç½®çš„ keyï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥æ˜¯ [id] ï¼ˆå†…éƒ¨å— id ï¼‰ã€ [hash]ã€[contenthash] ç­‰ã€‚ 1. æµè§ˆå™¨ç¼“å­˜ä¸ hash å€¼å¯¹äºæˆ‘ä»¬å¼€å‘çš„æ¯ä¸€ä¸ªåº”ç”¨ï¼Œæµè§ˆå™¨éƒ½ä¼šå¯¹é™æ€èµ„æºè¿›è¡Œç¼“å­˜ï¼Œå¦‚æœæˆ‘ä»¬æ›´æ–°äº†é™æ€èµ„æºï¼Œè€Œæ²¡æœ‰æ›´æ–°é™æ€èµ„æºåç§°ï¼ˆæˆ–è·¯å¾„ï¼‰ï¼Œæµè§ˆå™¨å°±å¯èƒ½å› ä¸ºç¼“å­˜çš„é—®é¢˜è·å–ä¸åˆ°æ›´æ–°çš„èµ„æºã€‚åœ¨æˆ‘ä»¬ä½¿ç”¨ webpack è¿›è¡Œæ‰“åŒ…çš„æ—¶å€™ï¼Œwebpack æä¾›äº† hash çš„æ¦‚å¿µï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ hash æ¥æ‰“åŒ…ã€‚ åœ¨å®šä¹‰åŒ…åç§°ï¼ˆä¾‹å¦‚ chunkFilename ã€ filenameï¼‰ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šç”¨åˆ°å“ˆå¸Œå€¼ï¼Œä¸åŒçš„å“ˆå¸Œå€¼ä½¿ç”¨çš„åœºæ™¯ä¸åŒï¼š hashbuild-specificï¼Œ å“ˆå¸Œå€¼å¯¹åº”æ¯ä¸€æ¬¡æ„å»ºï¼ˆ Compilation ï¼‰ï¼Œå³æ¯æ¬¡ç¼–è¯‘éƒ½ä¸åŒï¼Œå³ä½¿æ–‡ä»¶å†…å®¹éƒ½æ²¡æœ‰æ”¹å˜ï¼Œå¹¶ä¸”æ‰€æœ‰çš„èµ„æºéƒ½å…±äº«è¿™ä¸€ä¸ªå“ˆå¸Œå€¼ï¼Œæ­¤æ—¶ï¼Œæµè§ˆå™¨ç¼“å­˜å°±æ²¡æœ‰ç”¨äº†ï¼Œå¯ä»¥ç”¨åœ¨å¼€å‘ç¯å¢ƒï¼Œç”Ÿäº§ç¯å¢ƒä¸é€‚ç”¨ã€‚ chunkhashchunk-specificï¼Œ å“ˆå¸Œå€¼å¯¹åº”äº webpack æ¯ä¸ªå…¥å£ç‚¹ï¼Œæ¯ä¸ªå…¥å£éƒ½æœ‰è‡ªå·±çš„å“ˆå¸Œå€¼ã€‚å¦‚æœåœ¨æŸä¸€å…¥å£æ–‡ä»¶åˆ›å»ºçš„å…³ç³»ä¾èµ–å›¾ä¸Šå­˜åœ¨æ–‡ä»¶å†…å®¹å‘ç”Ÿäº†å˜åŒ–ï¼Œé‚£ä¹ˆç›¸åº”å…¥å£æ–‡ä»¶çš„ chunkhash æ‰ä¼šå‘ç”Ÿå˜åŒ–ï¼Œé€‚ç”¨äºç”Ÿäº§ç¯å¢ƒ contenthashcontent-specificï¼Œæ ¹æ®åŒ…å†…å®¹è®¡ç®—å‡ºçš„å“ˆå¸Œå€¼ï¼Œåªè¦åŒ…å†…å®¹ä¸å˜ï¼Œcontenthash å°±ä¸å˜ï¼Œé€‚ç”¨äºç”Ÿäº§ç¯å¢ƒ ä½†æˆ‘ä»¬ä¼šå‘ç°ï¼Œæœ‰æ—¶å†…å®¹æ²¡æœ‰å˜æ›´ï¼Œæ‰“åŒ…æ—¶ [contenthash] åè€Œå˜æ›´äº†çš„é—®é¢˜ï¼Œ webpack ä¹Ÿå…è®¸å“ˆå¸Œçš„åˆ‡ç‰‡ã€‚å¦‚æœä½ å†™ [hash:8] ï¼Œé‚£ä¹ˆå®ƒä¼šè·å–å“ˆå¸Œå€¼çš„å‰ 8 ä½ã€‚ æ³¨æ„ï¼š å°½é‡åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å“ˆå¸Œ æŒ‰éœ€åŠ è½½çš„å—ä¸å— filename å½±å“ï¼Œå— chunkFilename å½±å“ ä½¿ç”¨ hash/chunkhash/contenthash ä¸€èˆ¬ä¼šé…åˆ html-webpack-plugin ï¼ˆåˆ›å»º html ï¼Œå¹¶æ†ç»‘ç›¸åº”çš„æ‰“åŒ…æ–‡ä»¶ï¼‰ ã€clean-webpack-plugin ï¼ˆæ¸…é™¤åŸæœ‰æ‰“åŒ…æ–‡ä»¶ï¼‰ ä¸€èµ·ä½¿ç”¨ã€‚ 2. æ‰“åŒ…æˆåº“å½“ä½¿ç”¨ webapck æ„å»ºä¸€ä¸ªå¯ä»¥è¢«å…¶å®ƒæ¨¡å—å¼•ç”¨çš„åº“æ—¶ï¼š 1234567891011121314151617181920module.exports &#x3D; &#123; output: &#123; &#x2F;&#x2F; path å¿…é¡»ä¸ºç»å¯¹è·¯å¾„ &#x2F;&#x2F; è¾“å‡ºæ–‡ä»¶è·¯å¾„ path: path.resolve(__dirname, &#39;..&#x2F;..&#x2F;dist&#x2F;build&#39;), &#x2F;&#x2F; åŒ…åç§° filename: &quot;[name].bundle.js&quot;, &#x2F;&#x2F; å—åï¼Œå…¬å…±å—å(éå…¥å£) chunkFilename: &#39;[name].[chunkhash].bundle.js&#39;, &#x2F;&#x2F; æ‰“åŒ…ç”Ÿæˆçš„ index.html æ–‡ä»¶é‡Œé¢å¼•ç”¨èµ„æºçš„å‰ç¼€ &#x2F;&#x2F; ä¹Ÿä¸ºå‘å¸ƒåˆ°çº¿ä¸Šèµ„æºçš„ URL å‰ç¼€ &#x2F;&#x2F; ä½¿ç”¨çš„æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œé»˜è®¤ä¸º &#39;&#39; publicPath: &#39;&#x2F;&#39;, &#x2F;&#x2F; ä¸€æ—¦è®¾ç½®åè¯¥ bundle å°†è¢«å¤„ç†ä¸º library library: &#39;webpackNumbers&#39;, &#x2F;&#x2F; export çš„ library çš„è§„èŒƒï¼Œæœ‰æ”¯æŒ var, this, commonjs,commonjs2,amd,umd libraryTarget: &#39;umd&#39;, &#125;&#125;å¤åˆ¶ä»£ç  ä¸‰ã€é…ç½®æ¨¡å¼ modeï¼ˆwebpack4ï¼‰è®¾ç½® mode ï¼Œå¯ä»¥è®© webpack è‡ªåŠ¨è°ƒèµ·ç›¸åº”çš„å†…ç½®ä¼˜åŒ–ã€‚ 123456module.exports &#x3D; &#123; &#x2F;&#x2F; å¯ä»¥æ˜¯ noneã€developmentã€production &#x2F;&#x2F; é»˜è®¤ä¸º production mode: &#39;production&#39;&#125;å¤åˆ¶ä»£ç  æˆ–åœ¨å‘½ä»¤è¡Œé‡Œé…ç½®ï¼š 12&quot;build:prod&quot;: &quot;webpack --config config&#x2F;webpack.prod.config.js --mode production&quot;å¤åˆ¶ä»£ç  åœ¨è®¾ç½®äº† mode ä¹‹åï¼Œwebpack4 ä¼šåŒæ­¥é…ç½® process.env.NODE_ENV ä¸º development æˆ– production ã€‚ webpack4 æœ€å¼•äººæ³¨ç›®çš„ä¸»è¦æ˜¯ï¼š å‡å°ç¼–è¯‘æ—¶é—´ æ‰“åŒ…æ—¶é—´å‡å°äº†è¶…è¿‡ 60% é›¶é…ç½® æˆ‘ä»¬å¯ä»¥åœ¨æ²¡æœ‰ä»»ä½•é…ç½®æ–‡ä»¶çš„æƒ…å†µä¸‹å°† webpack ç”¨äºå„ç§é¡¹ç›® webpack4 æ”¯æŒé›¶é…ç½®ä½¿ç”¨ï¼Œè¿™é‡Œçš„é›¶é…ç½®å°±æ˜¯æŒ‡ï¼Œmode ä»¥åŠ entry ï¼ˆé»˜è®¤ä¸º src/index.jsï¼‰éƒ½å¯ä»¥é€šè¿‡å…¥å£æ–‡ä»¶æŒ‡å®šï¼Œå¹¶ä¸” webpack4 é’ˆå¯¹å¯¹ä¸åŒçš„ mode å†…ç½®ç›¸åº”çš„ä¼˜åŒ–ç­–ç•¥ã€‚ 1. productioné…ç½®ï¼š 12345&#x2F;&#x2F; webpack.prod.config.jsmodule.exports &#x3D; &#123; mode: &#39;production&#39;,&#125;å¤åˆ¶ä»£ç  ç›¸å½“äºé»˜è®¤å†…ç½®äº†ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384&#x2F;&#x2F; webpack.prod.config.jsmodule.exports &#x3D; &#123; performance: &#123; &#x2F;&#x2F; æ€§èƒ½è®¾ç½®,æ–‡ä»¶æ‰“åŒ…è¿‡å¤§æ—¶ï¼Œä¼šæŠ¥è­¦å‘Š hints: &#39;warning&#39; &#125;, output: &#123; &#x2F;&#x2F; æ‰“åŒ…æ—¶ï¼Œåœ¨åŒ…ä¸­ä¸åŒ…å«æ‰€å±æ¨¡å—çš„ä¿¡æ¯çš„æ³¨é‡Š pathinfo: false &#125;, optimization: &#123; &#x2F;&#x2F; ä¸ä½¿ç”¨å¯è¯»çš„æ¨¡å—æ ‡è¯†ç¬¦è¿›è¡Œè°ƒè¯• namedModules: false, &#x2F;&#x2F; ä¸ä½¿ç”¨å¯è¯»çš„å—æ ‡è¯†ç¬¦è¿›è¡Œè°ƒè¯• namedChunks: false, &#x2F;&#x2F; è®¾ç½® process.env.NODE_ENV ä¸º production nodeEnv: &#39;production&#39;, &#x2F;&#x2F; æ ‡è®°å—æ˜¯å¦æ˜¯å…¶å®ƒå—çš„å­é›† &#x2F;&#x2F; æ§åˆ¶åŠ è½½å—çš„å¤§å°ï¼ˆåŠ è½½è¾ƒå¤§å—æ—¶ï¼Œä¸åŠ è½½å…¶å­é›†ï¼‰ flagIncludedChunks: true, &#x2F;&#x2F; æ ‡è®°æ¨¡å—çš„åŠ è½½é¡ºåºï¼Œä½¿åˆå§‹åŒ…æ›´å° occurrenceOrder: true, &#x2F;&#x2F; å¯ç”¨å‰¯ä½œç”¨ sideEffects: true, &#x2F;&#x2F; ç¡®å®šæ¯ä¸ªæ¨¡å—çš„ä½¿ç”¨å¯¼å‡ºï¼Œ &#x2F;&#x2F; ä¸ä¼šä¸ºæœªä½¿ç”¨çš„å¯¼å‡ºç”Ÿæˆå¯¼å‡º &#x2F;&#x2F; æœ€å°åŒ–çš„æ¶ˆé™¤æ­»ä»£ç  &#x2F;&#x2F; optimization.usedExports æ”¶é›†çš„ä¿¡æ¯å°†è¢«å…¶ä»–ä¼˜åŒ–æˆ–ä»£ç ç”Ÿæˆæ‰€ä½¿ç”¨ usedExports: true, &#x2F;&#x2F; æŸ¥æ‰¾æ¨¡å—å›¾ä¸­å¯ä»¥å®‰å…¨çš„è¿æ¥åˆ°å…¶å®ƒæ¨¡å—çš„ç‰‡æ®µ concatenateModules: true, &#x2F;&#x2F; SplitChunksPlugin é…ç½®é¡¹ splitChunks: &#123; &#x2F;&#x2F; é»˜è®¤ webpack4 åªä¼šå¯¹æŒ‰éœ€åŠ è½½çš„ä»£ç åšåˆ†å‰² chunks: &#39;async&#39;, &#x2F;&#x2F; è¡¨ç¤ºåœ¨å‹ç¼©å‰çš„æœ€å°æ¨¡å—å¤§å°,é»˜è®¤å€¼æ˜¯30kb minSize: 30000, minRemainingSize: 0, &#x2F;&#x2F; æ—¨åœ¨ä¸HTTP&#x2F;2å’Œé•¿æœŸç¼“å­˜ä¸€èµ·ä½¿ç”¨ &#x2F;&#x2F; å®ƒå¢åŠ äº†è¯·æ±‚æ•°é‡ä»¥å®ç°æ›´å¥½çš„ç¼“å­˜ &#x2F;&#x2F; å®ƒè¿˜å¯ä»¥ç”¨äºå‡å°æ–‡ä»¶å¤§å°ï¼Œä»¥åŠ å¿«é‡å»ºé€Ÿåº¦ã€‚ maxSize: 0, &#x2F;&#x2F; åˆ†å‰²ä¸€ä¸ªæ¨¡å—ä¹‹å‰å¿…é¡»å…±äº«çš„æœ€å°å—æ•° minChunks: 1, &#x2F;&#x2F; æŒ‰éœ€åŠ è½½æ—¶çš„æœ€å¤§å¹¶è¡Œè¯·æ±‚æ•° maxAsyncRequests: 6, &#x2F;&#x2F; å…¥å£çš„æœ€å¤§å¹¶è¡Œè¯·æ±‚æ•° maxInitialRequests: 4, &#x2F;&#x2F; ç•Œå®šç¬¦ automaticNameDelimiter: &#39;~&#39;, &#x2F;&#x2F; å—åæœ€å¤§å­—ç¬¦æ•° automaticNameMaxLength: 30, cacheGroups: &#123; &#x2F;&#x2F; ç¼“å­˜ç»„ vendors: &#123; test: &#x2F;[\\\\&#x2F;]node_modules[\\\\&#x2F;]&#x2F;, priority: -10 &#125;, default: &#123; minChunks: 2, priority: -20, reuseExistingChunk: true &#125; &#125; &#125;, &#x2F;&#x2F; å½“æ‰“åŒ…æ—¶ï¼Œé‡åˆ°é”™è¯¯ç¼–è¯‘ï¼Œå°†ä¸ä¼šæŠŠæ‰“åŒ…æ–‡ä»¶è¾“å‡º &#x2F;&#x2F; ç¡®ä¿ webpack ä¸ä¼šè¾“å…¥ä»»ä½•é”™è¯¯çš„åŒ… noEmitOnErrors: true, checkWasmTypes: true, &#x2F;&#x2F; ä½¿ç”¨ optimization.minimizer || TerserPlugin æ¥æœ€å°åŒ–åŒ… minimize: true, &#125;, plugins: [ &#x2F;&#x2F; ä½¿ç”¨ terser æ¥ä¼˜åŒ– JavaScript new TerserPlugin(&#x2F;* ... *&#x2F;), &#x2F;&#x2F; å®šä¹‰ç¯å¢ƒå˜é‡ new webpack.DefinePlugin(&#123; &quot;process.env.NODE_ENV&quot;: JSON.stringify(&quot;production&quot;) &#125;), &#x2F;&#x2F; é¢„ç¼–è¯‘æ‰€æœ‰æ¨¡å—åˆ°ä¸€ä¸ªé—­åŒ…ä¸­ï¼Œæå‡ä»£ç åœ¨æµè§ˆå™¨ä¸­çš„æ‰§è¡Œé€Ÿåº¦ new webpack.optimize.ModuleConcatenationPlugin(), &#x2F;&#x2F; åœ¨ç¼–è¯‘å‡ºç°é”™è¯¯æ—¶ï¼Œä½¿ç”¨ NoEmitOnErrorsPlugin æ¥è·³è¿‡è¾“å‡ºé˜¶æ®µã€‚ &#x2F;&#x2F; è¿™æ ·å¯ä»¥ç¡®ä¿è¾“å‡ºèµ„æºä¸ä¼šåŒ…å«é”™è¯¯ new webpack.NoEmitOnErrorsPlugin() ]&#125;å¤åˆ¶ä»£ç  2. developmenté…ç½®ï¼š 12345&#x2F;&#x2F; webpack.dev.config.jsmodule.exports &#x3D; &#123; mode: &#39;development&#39;,&#125;å¤åˆ¶ä»£ç  ç›¸å½“äºé»˜è®¤å†…ç½®äº†ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455&#x2F;&#x2F; webpack.dev.config.jsmodule.exports &#x3D; &#123; devtool: &#39;eval&#39;, cache: true, performance: &#123; &#x2F;&#x2F; æ€§èƒ½è®¾ç½®,æ–‡ä»¶æ‰“åŒ…è¿‡å¤§æ—¶ï¼Œä¸æŠ¥é”™å’Œè­¦å‘Šï¼Œåªåšæç¤º hints: false &#125;, output: &#123; &#x2F;&#x2F; æ‰“åŒ…æ—¶ï¼Œåœ¨åŒ…ä¸­åŒ…å«æ‰€å±æ¨¡å—çš„ä¿¡æ¯çš„æ³¨é‡Š pathinfo: true &#125;, optimization: &#123; &#x2F;&#x2F; ä½¿ç”¨å¯è¯»çš„æ¨¡å—æ ‡è¯†ç¬¦è¿›è¡Œè°ƒè¯• namedModules: true, &#x2F;&#x2F; ä½¿ç”¨å¯è¯»çš„å—æ ‡è¯†ç¬¦è¿›è¡Œè°ƒè¯• namedChunks: true, &#x2F;&#x2F; è®¾ç½® process.env.NODE_ENV ä¸º development nodeEnv: &#39;development&#39;, &#x2F;&#x2F; ä¸æ ‡è®°å—æ˜¯å¦æ˜¯å…¶å®ƒå—çš„å­é›† flagIncludedChunks: false, &#x2F;&#x2F; ä¸æ ‡è®°æ¨¡å—çš„åŠ è½½é¡ºåº occurrenceOrder: false, &#x2F;&#x2F; ä¸å¯ç”¨å‰¯ä½œç”¨ sideEffects: false, usedExports: false, concatenateModules: false, splitChunks: &#123; hidePathInfo: false, minSize: 10000, maxAsyncRequests: Infinity, maxInitialRequests: Infinity, &#125;, &#x2F;&#x2F; å½“æ‰“åŒ…æ—¶ï¼Œé‡åˆ°é”™è¯¯ç¼–è¯‘ï¼Œä»æŠŠæ‰“åŒ…æ–‡ä»¶è¾“å‡º noEmitOnErrors: false, checkWasmTypes: false, &#x2F;&#x2F; ä¸ä½¿ç”¨ optimization.minimizer || TerserPlugin æ¥æœ€å°åŒ–åŒ… minimize: false, removeAvailableModules: false &#125;, plugins: [ &#x2F;&#x2F; å½“å¯ç”¨ HMR æ—¶ï¼Œä½¿ç”¨è¯¥æ’ä»¶ä¼šæ˜¾ç¤ºæ¨¡å—çš„ç›¸å¯¹è·¯å¾„ &#x2F;&#x2F; å»ºè®®ç”¨äºå¼€å‘ç¯å¢ƒ new webpack.NamedModulesPlugin(), &#x2F;&#x2F; webpack å†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªè‡ªå¢çš„ idï¼Œæ¯ä¸ª chunk éƒ½æœ‰ä¸€ä¸ª idã€‚ &#x2F;&#x2F; æ‰€ä»¥å½“å¢åŠ  entry æˆ–è€…å…¶ä»–ç±»å‹ chunk çš„æ—¶å€™ï¼Œid å°±ä¼šå˜åŒ–ï¼Œ &#x2F;&#x2F; å¯¼è‡´å†…å®¹æ²¡æœ‰å˜åŒ–çš„ chunk çš„ id ä¹Ÿå‘ç”Ÿäº†å˜åŒ– &#x2F;&#x2F; NamedChunksPlugin å°†å†…éƒ¨ chunk id æ˜ å°„æˆä¸€ä¸ªå­—ç¬¦ä¸²æ ‡è¯†ç¬¦ï¼ˆæ¨¡å—çš„ç›¸å¯¹è·¯å¾„ï¼‰ &#x2F;&#x2F; è¿™æ · chunk id å°±ç¨³å®šäº†ä¸‹æ¥ new webpack.NamedChunksPlugin(), &#x2F;&#x2F; å®šä¹‰ç¯å¢ƒå˜é‡ new webpack.DefinePlugin(&#123; &quot;process.env.NODE_ENV&quot;: JSON.stringify(&quot;development&quot;) &#125;), ]&#125;å¤åˆ¶ä»£ç  3. noneä¸è¿›è¡Œä»»ä½•é»˜è®¤ä¼˜åŒ–é€‰é¡¹ã€‚ é…ç½®ï¼š 12345&#x2F;&#x2F; webpack.com.config.jsmodule.exports &#x3D; &#123; mode: &#39;none&#39;,&#125;å¤åˆ¶ä»£ç  ç›¸å½“äºé»˜è®¤å†…ç½®äº†ï¼š 123456789101112131415161718192021222324252627282930&#x2F;&#x2F; webpack.com.config.jsmodule.exports &#x3D; &#123; performance: &#123; &#x2F;&#x2F; æ€§èƒ½è®¾ç½®,æ–‡ä»¶æ‰“åŒ…è¿‡å¤§æ—¶ï¼Œä¸æŠ¥é”™å’Œè­¦å‘Šï¼Œåªåšæç¤º hints: false &#125;, optimization: &#123; &#x2F;&#x2F; ä¸æ ‡è®°å—æ˜¯å¦æ˜¯å…¶å®ƒå—çš„å­é›† flagIncludedChunks: false, &#x2F;&#x2F; ä¸æ ‡è®°æ¨¡å—çš„åŠ è½½é¡ºåº occurrenceOrder: false, &#x2F;&#x2F; ä¸å¯ç”¨å‰¯ä½œç”¨ sideEffects: false, usedExports: false, concatenateModules: false, splitChunks: &#123; hidePathInfo: false, minSize: 10000, maxAsyncRequests: Infinity, maxInitialRequests: Infinity, &#125;, &#x2F;&#x2F; å½“æ‰“åŒ…æ—¶ï¼Œé‡åˆ°é”™è¯¯ç¼–è¯‘ï¼Œä»æŠŠæ‰“åŒ…æ–‡ä»¶è¾“å‡º noEmitOnErrors: false, checkWasmTypes: false, &#x2F;&#x2F; ä¸ä½¿ç”¨ optimization.minimizer || TerserPlugin æ¥æœ€å°åŒ–åŒ… minimize: false, &#125;, plugins: []&#125;å¤åˆ¶ä»£ç  4. productionã€ developmentã€none æ€»ç»“ img img img æ³¨æ„ï¼šå…³æ³¨å…¬ä¼—å·ã€å‰ç«¯ç“¶å­å›ã€‘å›å¤ã€webpackã€‘å…è´¹è·å–pdfåŸæ–‡ä»¶ã€‚ production æ¨¡å¼ä¸‹ç»™ä½ æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼š è¾ƒå°çš„è¾“å‡ºåŒ…ä½“ç§¯ æµè§ˆå™¨ä¸­æ›´å¿«çš„ä»£ç æ‰§è¡Œé€Ÿåº¦ å¿½ç•¥å¼€å‘ä¸­çš„ä»£ç  ä¸å…¬å¼€æºä»£ç æˆ–æ–‡ä»¶è·¯å¾„ æ˜“äºä½¿ç”¨çš„è¾“å‡ºèµ„äº§ development æ¨¡å¼ä¼šç»™äºˆä½ æœ€å¥½çš„å¼€å‘ä½“éªŒï¼š æµè§ˆå™¨è°ƒè¯•å·¥å…· å¿«é€Ÿå¢é‡ç¼–è¯‘å¯åŠ å¿«å¼€å‘å‘¨æœŸ è¿è¡Œæ—¶æä¾›æœ‰ç”¨çš„é”™è¯¯æ¶ˆæ¯ å°½ç®¡ webpack4 åœ¨å°½åŠ›è®©é›¶é…ç½®åšåˆ°æ›´å¤šï¼Œä½†ä»ç„¶æ˜¯æœ‰é™åº¦çš„ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹è¿˜æ˜¯éœ€è¦ä¸€ä¸ªé…ç½®æ–‡ä»¶ã€‚æˆ‘ä»¬å¯ä»¥åœ¨é¡¹ç›®çš„åˆæœŸä½¿ç”¨é›¶é…ç½®ï¼Œåœ¨åæœŸä¸šåŠ¡å¤æ‚çš„æ—¶å€™å†é…ç½®ã€‚ 5. ç¯å¢ƒå˜é‡ process.env.NODE_ENVç¬¬ä¸‰æ–¹æ¡†æ¶æˆ–åº“ï¼Œä»¥åŠæˆ‘ä»¬çš„ä¸šåŠ¡ä»£ç ï¼Œéƒ½ä¼šé’ˆå¯¹ä¸åŒçš„ç¯å¢ƒé…ç½®ï¼Œæ‰§è¡Œä¸åŒçš„é€»è¾‘ä»£ç ï¼Œä¾‹å¦‚ï¼š æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å®šä¹‰ç¯å¢ƒå˜é‡ï¼š æ–¹æ³•ä¸€ï¼šwebpack4 ä¸­ mode: â€˜productionâ€™ å·²ç»é»˜è®¤é…ç½®äº† process.env.NODE_ENV = â€˜productionâ€™ ï¼Œæ‰€ä»¥ webapck4 å¯ä»¥ä¸å®šä¹‰ å°½ç®¡ webpack4 ä¸­å®šä¹‰ mode ä¼šè‡ªåŠ¨é…ç½® process.env.NODE_ENV ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ä¸éœ€è¦æ‰‹åŠ¨é…ç½®ç¯å¢ƒå˜é‡äº†å—ï¼Ÿ å…¶å®ä¸ç„¶ï¼Œmode åªå¯ä»¥å®šä¹‰æˆ development æˆ– production ï¼Œè€Œåœ¨é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ä¸ä»…ä»…åªæœ‰å¼€å‘æˆ–ç”Ÿäº§ç¯å¢ƒï¼Œå¾ˆå¤šæƒ…å†µä¸‹éœ€è¦é…ç½®ä¸åŒçš„ç¯å¢ƒï¼ˆä¾‹å¦‚æµ‹è¯•ç¯å¢ƒï¼‰ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±éœ€è¦æ‰‹åŠ¨é…ç½®å…¶å®ƒç¯å¢ƒå˜é‡ï¼ˆä¾‹å¦‚æµ‹è¯•ç¯å¢ƒï¼Œå°±éœ€è¦å®šä¹‰ process.env.NODE_ENV ä¸º &#39;test&#39; ï¼‰ï¼Œä½ å¯ä»¥é‡‡å–ä»¥ä¸‹æ–¹å¼ï¼š æ–¹æ³•äºŒï¼šwebpack.DefinePlugin 12345&#x2F;&#x2F; webpackç¼–è¯‘è¿‡ç¨‹ä¸­è®¾ç½®å…¨å±€å˜é‡process.envnew webpack.DefinePlugin(&#123; &#39;process.env&#39;: require(&#39;..&#x2F;config&#x2F;dev.env.js&#39;)&#125;å¤åˆ¶ä»£ç  config/prod.env.js ï¼š 12345module.exports &#x3D;&#123; &#x2F;&#x2F; æˆ– &#39;&quot;production&quot;&#39; ï¼Œç¯å¢ƒå˜é‡çš„å€¼éœ€è¦æ˜¯ä¸€ä¸ªç”±åŒå¼•å·åŒ…è£¹çš„å­—ç¬¦ä¸² NODE_ENV: JSON.stringify(&#39;production&#39;) &#125;å¤åˆ¶ä»£ç  æ–¹æ³•ä¸‰ï¼šwebpack å‘½ä»¤æ—¶ï¼Œ NODE_ENV=development åœ¨ window ä¸­é…ç½® NODE_ENV=production å¯èƒ½ä¼šå¡ä½ï¼Œæ‰€ä»¥ä½¿ç”¨ cross-envï¼š 12cross-env NODE_ENV&#x3D;production webpack --config webpack.config.prod.jså¤åˆ¶ä»£ç  æ–¹æ³•å››ï¼šä½¿ç”¨ new webpack.EnvironmentPlugin([&#39;NODE_ENV&#39;]) EnvironmentPlugin æ˜¯ä¸€ä¸ªé€šè¿‡ webpack.DefinePlugin æ¥è®¾ç½® process.env ç¯å¢ƒå˜é‡çš„å¿«æ·æ–¹å¼ã€‚ 1234new webpack.EnvironmentPlugin(&#123; NODE_ENV: &#39;production&#39;,&#125;);å¤åˆ¶ä»£ç  æ³¨æ„ï¼šä¸Šé¢å…¶å®æ˜¯ç»™ NODE_ENV è®¾ç½®ä¸€ä¸ªé»˜è®¤å€¼ &#39;production&#39; ï¼Œå¦‚æœå…¶å®ƒåœ°æ–¹æœ‰å®šä¹‰ process.env.NODE_ENV ï¼Œåˆ™è¯¥é»˜è®¤å€¼æ— æ•ˆã€‚ å››ã€é…ç½®è§£æç­–ç•¥ resolveè‡ªå®šä¹‰å¯»æ‰¾ä¾èµ–æ¨¡å—æ—¶çš„ç­–ç•¥ï¼ˆä¾‹å¦‚ import _ from &#39;lodash&#39;ï¼‰: 123456789101112131415161718192021module.exports &#x3D; &#123; resolve: &#123; &#x2F;&#x2F; è®¾ç½®æ¨¡å—å¯¼å…¥è§„åˆ™ï¼Œimport&#x2F;requireæ—¶ä¼šç›´æ¥åœ¨è¿™äº›ç›®å½•æ‰¾æ–‡ä»¶ &#x2F;&#x2F; å¯ä»¥æŒ‡æ˜å­˜æ”¾ç¬¬ä¸‰æ–¹æ¨¡å—çš„ç»å¯¹è·¯å¾„ï¼Œä»¥å‡å°‘å¯»æ‰¾ï¼Œ &#x2F;&#x2F; é»˜è®¤ node_modules modules: [path.resolve(&#96;$&#123;project&#125;&#x2F;components&#96;), &#39;node_modules&#39;], &#x2F;&#x2F; importå¯¼å…¥æ—¶çœç•¥åç¼€ &#x2F;&#x2F; æ³¨æ„ï¼šå°½å¯èƒ½çš„å‡å°‘åç¼€å°è¯•çš„å¯èƒ½æ€§ extensions: [&#39;.js&#39;, &#39;.jsx&#39;, &#39;.react.js&#39;, &#39;.css&#39;, &#39;.json&#39;], &#x2F;&#x2F; importå¯¼å…¥æ—¶åˆ«åï¼Œå‡å°‘è€—æ—¶çš„é€’å½’è§£ææ“ä½œ alias: &#123; &#39;@components&#39;: path.resolve(&#96;$&#123;project&#125;&#x2F;components&#96;), &#39;@style&#39;: path.resolve(&#39;asset&#x2F;style&#39;), &#125;, &#x2F;&#x2F; å¾ˆå¤šç¬¬ä¸‰æ–¹åº“ä¼šé’ˆå¯¹ä¸åŒçš„ç¯å¢ƒæä¾›å‡ ä»½ä»£ç  &#x2F;&#x2F; webpack ä¼šæ ¹æ® mainFields çš„é…ç½®å»å†³å®šä¼˜å…ˆé‡‡ç”¨é‚£ä»½ä»£ç  &#x2F;&#x2F; å®ƒä¼šæ ¹æ® webpack é…ç½®ä¸­æŒ‡å®šçš„ target ä¸åŒï¼Œé»˜è®¤å€¼ä¹Ÿä¼šæœ‰æ‰€ä¸åŒ mainFields: [&#39;browser&#39;, &#39;module&#39;, &#39;main&#39;], &#125;,&#125;å¤åˆ¶ä»£ç  äº”ã€é…ç½®è§£æå’Œè½¬æ¢æ–‡ä»¶çš„ç­–ç•¥ moduleå†³å®šå¦‚ä½•å¤„ç†é¡¹ç›®ä¸­ä¸åŒç±»å‹çš„æ¨¡å—ï¼Œé€šå¸¸æ˜¯é…ç½® module.rules é‡Œçš„ Loader: 123456789101112131415161718192021222324252627282930module.exports &#x3D; &#123; module: &#123; &#x2F;&#x2F; æŒ‡æ˜ webpack ä¸å»è§£ææŸäº›å†…å®¹ï¼Œè¯¥æ–¹å¼æœ‰åŠ©äºæå‡ webpack çš„æ„å»ºæ€§èƒ½ noParse: &#x2F;jquery&#x2F;, rules: [ &#123; &#x2F;&#x2F; è¿™é‡Œç¼–è¯‘ jsã€jsx &#x2F;&#x2F; æ³¨æ„ï¼šå¦‚æœé¡¹ç›®æºç ä¸­æ²¡æœ‰ jsx æ–‡ä»¶å°±ä¸è¦å†™ &#x2F;\\.jsx?$&#x2F;ï¼Œæå‡æ­£åˆ™è¡¨è¾¾å¼æ€§èƒ½ test: &#x2F;\\.(js|jsx)$&#x2F;, &#x2F;&#x2F; æŒ‡å®šè¦ç”¨ä»€ä¹ˆ loader åŠå…¶ç›¸å…³ loader é…ç½® use: &#123; loader: &quot;babel-loader&quot;, options: &#123; &#x2F;&#x2F; babel-loader æ”¯æŒç¼“å­˜è½¬æ¢å‡ºçš„ç»“æœï¼Œé€šè¿‡ cacheDirectory é€‰é¡¹å¼€å¯ &#x2F;&#x2F; ä½¿ç”¨ cacheDirectory é€‰é¡¹å°† babel-loader çš„é€Ÿåº¦æé«˜2å€ cacheDirectory: true, &#x2F;&#x2F; Save disk space when time isn&#39;t as important cacheCompression: true, compact: true, &#125; &#125;, &#x2F;&#x2F; æ’é™¤ node_modules ç›®å½•ä¸‹çš„æ–‡ä»¶ &#x2F;&#x2F; node_modules ç›®å½•ä¸‹çš„æ–‡ä»¶éƒ½æ˜¯é‡‡ç”¨çš„ ES5 è¯­æ³•ï¼Œæ²¡å¿…è¦å†é€šè¿‡ Babel å»è½¬æ¢ exclude: &#x2F;node_modules&#x2F; &#x2F;&#x2F; ä¹Ÿå¯ä»¥é…ç½® includeï¼šéœ€è¦å¼•å…¥çš„æ–‡ä»¶ &#125; ] &#125;&#125;å¤åˆ¶ä»£ç  1. noParseæŒ‡æ˜ webpack ä¸å»è§£ææŸäº›å†…å®¹ï¼Œè¯¥æ–¹å¼æœ‰åŠ©äºæå‡ webpack çš„æ„å»ºæ€§èƒ½ã€‚ 2. ruleså¸¸è§çš„ loader æœ‰ï¼š babel-loaderï¼šè§£æ .js å’Œ .jsx æ–‡ä»¶ 12345678910111213141516171819202122232425262728&#x2F;&#x2F; é…ç½® .babelrc&#123; &quot;presets&quot;: [ [ &quot;@babel&#x2F;preset-env&quot;, ], &quot;@babel&#x2F;preset-react&quot; ], &quot;plugins&quot;: [ [ &quot;@babel&#x2F;plugin-proposal-class-properties&quot;, &#123; &quot;loose&quot;: true &#125; ], [ &quot;@babel&#x2F;plugin-transform-runtime&quot;, &#123; &quot;absoluteRuntime&quot;: false, &quot;corejs&quot;: false, &quot;helpers&quot;: true, &quot;regenerator&quot;: true, &quot;useESModules&quot;: false &#125; ], ]&#125;å¤åˆ¶ä»£ç  tsx-loaderï¼šå¤„ç† ts æ–‡ä»¶ less-loaderï¼šå¤„ç† less æ–‡ä»¶ï¼Œå¹¶å°†å…¶ç¼–è¯‘ä¸º css sass-loaderï¼šå¤„ç† sassã€scss æ–‡ä»¶ï¼Œå¹¶å°†å…¶ç¼–è¯‘ä¸º css postcss-loaderï¼š 12345&#x2F;&#x2F; postcss.config.jsmodule.exports &#x3D; &#123; &#x2F;&#x2F; è§£æCSSæ–‡ä»¶å¹¶ä¸”æ·»åŠ æµè§ˆå™¨å‰ç¼€åˆ° CSS å†…å®¹é‡Œ plugins: [require(&#39;autoprefixer&#39;)],&#125;;å¤åˆ¶ä»£ç  css-loaderï¼šå¤„ç† css æ–‡ä»¶ style-loaderï¼šå°† css æ³¨å…¥åˆ° DOM file-loaderï¼šå°†æ–‡ä»¶ä¸Šçš„import / require è§£æä¸º urlï¼Œå¹¶å°†è¯¥æ–‡ä»¶è¾“å‡ºåˆ°è¾“å‡ºç›®å½•ä¸­ url-loaderï¼šç”¨äºå°†æ–‡ä»¶è½¬æ¢æˆ base64 uri çš„ webpack åŠ è½½ç¨‹åº html-loaderï¼šå°† HTML å¯¼å‡ºä¸ºå­—ç¬¦ä¸²ï¼Œ å½“ç¼–è¯‘å™¨è¦æ±‚æ—¶ï¼Œå°† HTML æœ€å°åŒ– æ›´å¤š loaders å¯æŸ¥çœ‹ LOADERS ã€‚ å…­ã€é…ç½®ä¼˜åŒ– optimizationï¼ˆwebpack4ï¼‰webapck4 ä¼šæ ¹æ®ä½ æ‰€é€‰æ‹©çš„ mode è¿›è¡Œä¼˜åŒ–ï¼Œä½ å¯ä»¥æ‰‹åŠ¨é…ç½®ï¼Œå®ƒå°†ä¼šè¦†ç›–è‡ªåŠ¨ä¼˜åŒ–ï¼Œè¯¦ç»†é…ç½®è¯·è§ Optimization ã€‚ ä¸»è¦æ¶‰åŠä¸¤æ–¹é¢çš„ä¼˜åŒ–ï¼š æœ€å°åŒ–åŒ… æ‹†åŒ… 1. æœ€å°åŒ–åŒ… ä½¿ç”¨ optimization.removeAvailableModules åˆ é™¤å·²å¯ç”¨æ¨¡å— ä½¿ç”¨ optimization.removeEmptyChunks åˆ é™¤ç©ºæ¨¡å— ä½¿ç”¨ optimization.occurrenceOrder æ ‡è®°æ¨¡å—çš„åŠ è½½é¡ºåºï¼Œä½¿åˆå§‹åŒ…æ›´å° ä½¿ç”¨ optimization.providedExports ã€ optimization.usedExports ã€concatenateModules ã€optimization.sideEffects åˆ é™¤æ­»ä»£ç  ä½¿ç”¨ optimization.splitChunks æå–å…¬å…±åŒ… ä½¿ç”¨ optimization.minimizer || TerserPlugin æ¥æœ€å°åŒ–åŒ… 2. æ‹†åŒ…å½“åŒ…è¿‡å¤§æ—¶ï¼Œå¦‚æœæˆ‘ä»¬æ›´æ–°ä¸€å°éƒ¨åˆ†çš„åŒ…å†…å®¹ï¼Œé‚£ä¹ˆæ•´ä¸ªåŒ…éƒ½éœ€è¦é‡æ–°åŠ è½½ï¼Œå¦‚æœæˆ‘ä»¬æŠŠè¿™ä¸ªåŒ…æ‹†åˆ†ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä»…ä»…éœ€è¦é‡æ–°åŠ è½½å‘ç”Ÿå†…å®¹å˜æ›´çš„åŒ…ï¼Œè€Œä¸æ˜¯æ‰€æœ‰åŒ…ï¼Œæœ‰æ•ˆçš„åˆ©ç”¨äº†ç¼“å­˜ã€‚ æ‹†åˆ† node_moduleså¾ˆå¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸éœ€è¦æ‰‹åŠ¨æ‹†åˆ†åŒ…ï¼Œå¯ä»¥ä½¿ç”¨ optimization.splitChunks ï¼š 123456789101112131415const path &#x3D; require(&#39;path&#39;);module.exports &#x3D; &#123; entry: path.resolve(__dirname, &#39;src&#x2F;index.js&#39;), output: &#123; path: path.resolve(__dirname, &#39;dist&#39;), filename: &#39;[name].[contenthash].js&#39;, &#125;, optimization: &#123; splitChunks: &#123; &#x2F;&#x2F; å¯¹æ‰€æœ‰çš„åŒ…è¿›è¡Œæ‹†åˆ† chunks: &#39;all&#39;, &#125;, &#125;,&#125;;å¤åˆ¶ä»£ç  æˆ‘ä»¬ä¸å¿…åˆ¶å®šæ‹†åŒ…ç­–ç•¥ï¼Œchunks: all ä¼šè‡ªåŠ¨å°† node_modules ä¸­çš„æ‰€æœ‰å†…å®¹æ”¾å…¥ä¸€ä¸ªåä¸º vendorsã€œmain.js çš„æ–‡ä»¶ä¸­ã€‚ æ‹†åˆ†ä¸šåŠ¡ä»£ç 12345678910111213module.exports &#x3D; &#123; entry: &#123; main: path.resolve(__dirname, &#39;src&#x2F;index.js&#39;), ProductList: path.resolve(__dirname, &#39;src&#x2F;ProductList&#x2F;ProductList.js&#39;), ProductPage: path.resolve(__dirname, &#39;src&#x2F;ProductPage&#x2F;ProductPage.js&#39;), Icon: path.resolve(__dirname, &#39;src&#x2F;Icon&#x2F;Icon.js&#39;), &#125;, output: &#123; path: path.resolve(__dirname, &#39;dist&#39;), filename: &#39;[name].[contenthash:8].js&#39;, &#125;,&#125;;å¤åˆ¶ä»£ç  é‡‡ç”¨å¤šå…¥å£çš„æ–¹å¼ï¼Œå½“æœ‰ä¸šåŠ¡ä»£ç æ›´æ–°æ—¶ï¼Œæ›´æ–°ç›¸åº”çš„åŒ…å³å¯ æ‹†åˆ†ç¬¬ä¸‰æ–¹åº“12345678910111213141516171819202122232425262728293031const path &#x3D; require(&#39;path&#39;);const webpack &#x3D; require(&#39;webpack&#39;);module.exports &#x3D; &#123; entry: path.resolve(__dirname, &#39;src&#x2F;index.js&#39;), output: &#123; path: path.resolve(__dirname, &#39;dist&#39;), filename: &#39;[name].[contenthash].js&#39;, &#125;, optimization: &#123; runtimeChunk: &#39;single&#39;, splitChunks: &#123; chunks: &#39;all&#39;, maxInitialRequests: Infinity, minSize: 0, cacheGroups: &#123; vendor: &#123; test: &#x2F;[\\\\&#x2F;]node_modules[\\\\&#x2F;]&#x2F;, name(module) &#123; &#x2F;&#x2F; è·å–ç¬¬ä¸‰æ–¹åŒ…å const packageName &#x3D; module.context.match(&#x2F;[\\\\&#x2F;]node_modules[\\\\&#x2F;](.*?)([\\\\&#x2F;]|$)&#x2F;)[1]; &#x2F;&#x2F; npm è½¯ä»¶åŒ…åç§°æ˜¯ URL å®‰å…¨çš„ï¼Œä½†æ˜¯æŸäº›æœåŠ¡å™¨ä¸å–œæ¬¢@ç¬¦å· return &#96;npm.$&#123;packageName.replace(&#39;@&#39;, &#39;&#39;)&#125;&#96;; &#125;, &#125;, &#125;, &#125;, &#125;,&#125;;å¤åˆ¶ä»£ç  å½“ç¬¬ä¸‰æ–¹åŒ…æ›´æ–°æ—¶ï¼Œä»…æ›´æ–°ç›¸åº”çš„åŒ…å³å¯ã€‚ æ³¨æ„ï¼Œå½“åŒ…å¤ªå¤šæ—¶ï¼Œæµè§ˆå™¨ä¼šå‘èµ·æ›´å¤šçš„è¯·æ±‚ï¼Œå¹¶ä¸”å½“æ–‡ä»¶è¿‡å°æ—¶ï¼Œå¯¹ä»£ç å‹ç¼©ä¹Ÿæœ‰å½±å“ã€‚ åŠ¨æ€åŠ è½½ç°åœ¨æˆ‘ä»¬å·²ç»å¯¹åŒ…æ‹†åˆ†çš„å¾ˆå½»åº•äº†ï¼Œä½†ä»¥ä¸Šçš„æ‹†åˆ†ä»…ä»…æ˜¯å¯¹æµè§ˆå™¨ç¼“å­˜æ–¹é¢çš„ä¼˜åŒ–ï¼Œå‡å°é¦–å±åŠ è½½æ—¶é—´ï¼Œå®é™…ä¸Šæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æŒ‰éœ€åŠ è½½çš„æ–¹å¼æ¥è¿›ä¸€æ­¥æ‹†åˆ†ï¼Œå‡å°é¦–å±åŠ è½½æ—¶é—´ï¼š 12345678910111213141516171819import React, &#123; useState, useEffect &#125; from &#39;react&#39;;import &#39;.&#x2F;index.scss&#39;function Main() &#123; const [NeighborPage, setNeighborPage] &#x3D; useState(null) useEffect(() &#x3D;&gt; &#123; import(&#39;..&#x2F;neighbor&#39;).then((&#123; default: component &#125;) &#x3D;&gt; &#123; setNeighborPage(React.createElement(component)) &#125;); &#125;, []) return NeighborPage ? NeighborPage : &lt;div&gt;Loading...&lt;&#x2F;div&gt;;&#125;export default Mainå¤åˆ¶ä»£ç  ä¸ƒã€é…ç½® pluginé…ç½® Plugin å»å¤„ç†åŠä¼˜åŒ–å…¶å®ƒçš„éœ€æ±‚ï¼Œ 123456789101112131415161718192021222324module.exports &#x3D; &#123; plugins: [ &#x2F;&#x2F; ä¼˜åŒ– require new webpack.ContextReplacementPlugin(&#x2F;moment[\\&#x2F;\\\\]locale$&#x2F;, &#x2F;en|zh&#x2F;), &#x2F;&#x2F; ç”¨äºæå‡æ„å»ºé€Ÿåº¦ createHappyPlugin(&#39;happy-babel&#39;, [&#123; loader: &#39;babel-loader&#39;, options: &#123; presets: [&#39;@babel&#x2F;preset-env&#39;, &quot;@babel&#x2F;preset-react&quot;], plugins: [ [&#39;@babel&#x2F;plugin-proposal-class-properties&#39;, &#123; loose: true &#125;] ], &#x2F;&#x2F; babel-loader æ”¯æŒç¼“å­˜è½¬æ¢å‡ºçš„ç»“æœï¼Œé€šè¿‡ cacheDirectory é€‰é¡¹å¼€å¯ cacheDirectory: true, &#x2F;&#x2F; Save disk space when time isn&#39;t as important cacheCompression: true, compact: true, &#125; &#125;]) ]&#125;å¤åˆ¶ä»£ç  å¸¸ç”¨ pluginsï¼š html-webpack-pluginï¼šç”Ÿæˆ html æ–‡ä»¶ï¼Œå¹¶å°†åŒ…æ·»åŠ åˆ° html ä¸­ webpack-parallel-uglify-pluginï¼šå‹ç¼© jsï¼ˆå¤šè¿›ç¨‹å¹¶è¡Œå¤„ç†å‹ç¼©ï¼‰ happypackï¼šå¤šçº¿ç¨‹loaderï¼Œç”¨äºæå‡æ„å»ºé€Ÿåº¦ hard-source-webpack-pluginï¼šä¸ºæ¨¡å—æä¾›ä¸­é—´ç¼“å­˜æ­¥éª¤ï¼Œæ˜¾è‘—æé«˜æ‰“åŒ…é€Ÿåº¦ webpack-mergeï¼šåˆå¹¶ webpack é…ç½® mini-css-extract-pluginï¼šæŠ½ç¦» css optimize-css-assets-webpack-pluginï¼šå‹ç¼© css add-asset-html-webpack-pluginï¼šå°† JavaScript æˆ– CSS èµ„äº§æ·»åŠ åˆ° html-webpack-plugin ç”Ÿæˆçš„ HTML ä¸­ æ›´å¤šæ’ä»¶å¯è§ï¼šplugins å…«ã€é…ç½®devtoolï¼šsource mapé…ç½® webpack å¦‚ä½•ç”Ÿæˆ Source Mapï¼Œç”¨æ¥å¢å¼ºè°ƒè¯•è¿‡ç¨‹ã€‚ä¸åŒçš„å€¼ä¼šæ˜æ˜¾å½±å“åˆ°æ„å»º(build)å’Œé‡æ–°æ„å»º(rebuild)çš„é€Ÿåº¦ï¼š ç”Ÿäº§ç¯å¢ƒï¼šé»˜è®¤ä¸º null ï¼Œä¸€èˆ¬ä¸è®¾ç½®ï¼ˆ none ï¼‰æˆ– nosources-source-map å¼€å‘ç¯å¢ƒï¼šé»˜è®¤ä¸º eval ï¼Œä¸€èˆ¬è®¾ç½®ä¸º eval ã€ cheap-eval-source-map ã€cheap-module-eval-source-map ç­–ç•¥ä¸ºï¼š ä½¿ç”¨ cheap æ¨¡å¼å¯ä»¥å¤§å¹…æé«˜ souremap ç”Ÿæˆçš„æ•ˆç‡ã€‚ æ²¡æœ‰åˆ—ä¿¡æ¯ï¼ˆä¼šæ˜ å°„åˆ°è½¬æ¢åçš„ä»£ç ï¼Œè€Œä¸æ˜¯æ˜ å°„åˆ°åŸå§‹ä»£ç ï¼‰ï¼Œé€šå¸¸æˆ‘ä»¬è°ƒè¯•å¹¶ä¸å…³å¿ƒåˆ—ä¿¡æ¯ï¼Œè€Œä¸”å°±ç®— source map æ²¡æœ‰åˆ—ï¼Œæœ‰äº›æµè§ˆå™¨å¼•æ“ï¼ˆä¾‹å¦‚ v8ï¼‰ ä¹Ÿä¼šç»™å‡ºåˆ—ä¿¡æ¯ã€‚ ä½¿ç”¨ eval æ–¹å¼å¯å¤§å¹…æé«˜æŒç»­æ„å»ºæ•ˆç‡ã€‚å‚è€ƒå®˜æ–¹æ–‡æ¡£æä¾›çš„é€Ÿåº¦å¯¹æ¯”è¡¨æ ¼å¯ä»¥çœ‹åˆ° eval æ¨¡å¼çš„ç¼–è¯‘é€Ÿåº¦å¾ˆå¿«ã€‚ ä½¿ç”¨ module å¯æ”¯æŒ babel è¿™ç§é¢„ç¼–è¯‘å·¥å…·ï¼ˆåœ¨ webpack é‡Œåšä¸º loader ä½¿ç”¨ï¼‰ã€‚ å¦‚æœé»˜è®¤çš„ webpack minimizer å·²ç»è¢«é‡å®šä¹‰(ä¾‹å¦‚ terser-webpack-plugin )ï¼Œä½ å¿…é¡»æä¾› sourceMapï¼štrue é€‰é¡¹æ¥å¯ç”¨ source map æ”¯æŒã€‚ æ›´å¤šå¯æŸ¥çœ‹ï¼šdevtool ä¹ã€é…ç½®æ€§èƒ½ performanceå½“æ‰“åŒ…æ˜¯å‡ºç°è¶…è¿‡ç‰¹å®šæ–‡ä»¶é™åˆ¶çš„èµ„äº§å’Œå…¥å£ç‚¹ï¼Œperformance æ§åˆ¶ webpack å¦‚ä½•é€šçŸ¥ï¼š 1234567891011module.exports &#x3D; &#123; &#x2F;&#x2F; é…ç½®å¦‚ä½•æ˜¾ç¤ºæ€§èƒ½æç¤º performance: &#123; &#x2F;&#x2F; å¯é€‰ warningã€errorã€false &#x2F;&#x2F; falseï¼šæ€§èƒ½è®¾ç½®,æ–‡ä»¶æ‰“åŒ…è¿‡å¤§æ—¶ï¼Œä¸æŠ¥é”™å’Œè­¦å‘Šï¼Œåªåšæç¤º &#x2F;&#x2F; warningï¼šæ˜¾ç¤ºè­¦å‘Šï¼Œå»ºè®®ç”¨åœ¨å¼€å‘ç¯å¢ƒ &#x2F;&#x2F; errorï¼šæ˜¾ç¤ºé”™è¯¯ï¼Œå»ºè®®ç”¨åœ¨ç”Ÿäº§ç¯å¢ƒï¼Œé˜²æ­¢éƒ¨ç½²å¤ªå¤§çš„ç”Ÿäº§åŒ…ï¼Œä»è€Œå½±å“ç½‘é¡µæ€§èƒ½ hints: false &#125;&#125;å¤åˆ¶ä»£ç  åã€é…ç½®å…¶å®ƒ1. watch ä¸ watchOptionswatchç›‘è§†æ–‡ä»¶æ›´æ–°ï¼Œå¹¶åœ¨æ–‡ä»¶æ›´æ–°æ—¶é‡æ–°ç¼–è¯‘ï¼š 12345module.export &#x3D; &#123; &#x2F;&#x2F; å¯ç”¨ç›‘å¬æ¨¡å¼ watch: true,&#125;å¤åˆ¶ä»£ç  åœ¨ webpack-dev-server å’Œ webpack-dev-middleware ä¸­ï¼Œé»˜è®¤å¯ç”¨äº†ç›‘è§†æ¨¡å¼ã€‚ æˆ–è€…æˆ‘ä»¬å¯ä»¥åœ¨å‘½ä»¤è¡Œé‡Œå¯åŠ¨ç›‘å¬ï¼ˆ --watch ï¼‰ï¼š 12webpack --watch --config webpack.config.dev.jså¤åˆ¶ä»£ç  watchOptions123456789101112131415module.export &#x3D; &#123; watch: true, &#x2F;&#x2F; è‡ªå®šä¹‰ç›‘è§†æ¨¡å¼ watchOptions: &#123; &#x2F;&#x2F; æ’é™¤ç›‘å¬ ignored: &#x2F;node_modules&#x2F;, &#x2F;&#x2F; ç›‘å¬åˆ°å˜åŒ–å‘ç”Ÿåï¼Œå»¶è¿Ÿ 300msï¼ˆé»˜è®¤ï¼‰ å†å»æ‰§è¡ŒåŠ¨ä½œï¼Œ &#x2F;&#x2F; é˜²æ­¢æ–‡ä»¶æ›´æ–°å¤ªå¿«å¯¼è‡´é‡æ–°ç¼–è¯‘é¢‘ç‡å¤ªé«˜ aggregateTimeout: 300, &#x2F;&#x2F; åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å‘ç”Ÿå˜åŒ–æ˜¯é€šè¿‡ä¸åœçš„å»è¯¢é—®ç³»ç»ŸæŒ‡å®šæ–‡ä»¶æœ‰æ²¡æœ‰å˜åŒ–å®ç°çš„ &#x2F;&#x2F; é»˜è®¤ 1000ms è¯¢é—®ä¸€æ¬¡ poll: 1000 &#125;&#125;å¤åˆ¶ä»£ç  2. externalsæ’é™¤æ‰“åŒ…æ—¶çš„ä¾èµ–é¡¹ï¼Œä¸çº³å…¥æ‰“åŒ…èŒƒå›´å†…ï¼Œä¾‹å¦‚ä½ é¡¹ç›®ä¸­ä½¿ç”¨äº† jquery ï¼Œå¹¶ä¸”ä½ åœ¨ html ä¸­å¼•å…¥äº†å®ƒï¼Œé‚£ä¹ˆåœ¨æ‰“åŒ…æ—¶å°±ä¸éœ€è¦å†æŠŠå®ƒæ‰“åŒ…è¿›å»ï¼š 123456&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;code.jquery.com&#x2F;jquery-3.1.0.js&quot; integrity&#x3D;&quot;sha256-slogkvB1K3VOkzAI8QITxV3VzpOnkeNVsKvtkYLMjfk&#x3D;&quot; crossorigin&#x3D;&quot;anonymous&quot;&gt;&lt;&#x2F;script&gt;å¤åˆ¶ä»£ç  é…ç½®ï¼š 1234567module.exports &#x3D; &#123; &#x2F;&#x2F; æ‰“åŒ…æ—¶æ’é™¤ jquery æ¨¡å— externals: &#123; jquery: &#39;jQuery&#39; &#125;&#125;;å¤åˆ¶ä»£ç  3.targetæ„å»ºç›®æ ‡ï¼Œç”¨äºä¸º webpack æŒ‡å®šä¸€ä¸ªç¯å¢ƒï¼š 12345module.exports &#x3D; &#123; &#x2F;&#x2F; ç¼–è¯‘ä¸ºç±»æµè§ˆå™¨ç¯å¢ƒé‡Œå¯ç”¨ï¼ˆé»˜è®¤ï¼‰ target: &#39;web&#39;&#125;;å¤åˆ¶ä»£ç  4. cacheç¼“å­˜ç”Ÿæˆçš„ webpack æ¨¡å—å’Œå—ä»¥æé«˜æ„å»ºé€Ÿåº¦ã€‚åœ¨å¼€å‘æ¨¡å¼ä¸­ï¼Œç¼“å­˜è®¾ç½®ä¸º type: &#39;memory&#39; ï¼Œåœ¨ç”Ÿäº§æ¨¡å¼ä¸­ç¦ç”¨ã€‚cache: true æ˜¯ cache: {type: &#39;memory&#39;} çš„åˆ«åã€‚è¦ç¦ç”¨ç¼“å­˜ä¼ é€’ false ï¼š 1234module.exports &#x3D; &#123; cache: false&#125;å¤åˆ¶ä»£ç  åœ¨å†…å­˜ä¸­ï¼Œç¼“å­˜ä»…åœ¨ç›‘è§†æ¨¡å¼ä¸‹æœ‰ç”¨ï¼Œå¹¶ä¸”æˆ‘ä»¬å‡è®¾ä½ åœ¨å¼€å‘ä¸­ä½¿ç”¨ç›‘è§†æ¨¡å¼ã€‚ åœ¨ä¸è¿›è¡Œç¼“å­˜çš„æƒ…å†µä¸‹ï¼Œå†…å­˜å ç”¨ç©ºé—´è¾ƒå°ã€‚ 5. nameé…ç½®çš„åç§°ï¼Œç”¨äºåŠ è½½å¤šä¸ªé…ç½®ï¼š 123module.exports &#x3D; &#123; name: &#39;admin-app&#39;&#125;; è½¬è½½è‡ªæ˜é‡‘å‰ç«¯ç“¶å­å› https://juejin.im/post/5e0e1153e51d45414b74de65?utm_source=gold_browser_extension#heading-16","tags":[]},{"title":"æ„å»ºå¤§å‹Vue-jsé¡¹ç›®çš„10æ¡å»ºè®®","date":"2019-12-30T02:09:20.605Z","path":"2019/12/30/æ„å»ºå¤§å‹Vue-jsé¡¹ç›®çš„10æ¡å»ºè®®/","text":"æ„å»ºå¤§å‹ Vue.js é¡¹ç›®çš„10æ¡å»ºè®®ä¸‹é¢æ˜¯æˆ‘åœ¨å¼€å‘å¤§å‹ Vue é¡¹ç›®æ—¶çš„æœ€ä½³å®è·µã€‚è¿™äº›æŠ€å·§å°†å¸®åŠ©ä½ å¼€å‘æ›´é«˜æ•ˆã€æ›´æ˜“äºç»´æŠ¤å’Œå…±äº«çš„ä»£ç ã€‚ ä»Šå¹´åšè‡ªç”±èŒä¸šçš„æ—¶å€™ï¼Œæˆ‘æœ‰æœºä¼šå¼€å‘äº†ä¸€äº›å¤§å‹ Vue åº”ç”¨ç¨‹åºã€‚æˆ‘æ‰€è¯´çš„è¿™äº›é¡¹ç›®ï¼ŒVuex store è¶…è¿‡åä¸ªï¼ŒåŒ…å«å¤§é‡çš„ç»„ä»¶ï¼ˆæœ‰æ—¶å€™å‡ ç™¾ä¸ªï¼‰å’Œè§†å›¾é¡µé¢ã€‚å¯¹æˆ‘æ¥è¯´è¿™æ˜¯ä¸ªå¾ˆæœ‰ç›Šçš„ç»éªŒï¼Œå› ä¸ºæˆ‘å‘ç°äº†å¾ˆå¤šæœ‰æ„æ€çš„æ¨¡å¼ï¼Œå¯ä»¥è®©ä»£ç æ‹¥æœ‰æ›´å¥½çš„ä¼¸ç¼©æ€§ã€‚æˆ‘è¿˜å¿…é¡»ä¿®æ­£ä¸€äº›å¯¼è‡´è‘—åçš„æ„å¤§åˆ©é¢æ¡å¼ä»£ç å›°å¢ƒçš„é”™è¯¯å®è·µã€‚ å› æ­¤ï¼Œä»Šå¤©æˆ‘å°†ä¸ä½ åˆ†äº«10ä¸ªæœ€ä½³å®è·µï¼Œå¦‚æœä½ æ­£åœ¨å¤„ç†å¤§å‹ä»£ç åº“ï¼Œæˆ‘å»ºè®®ä½ å‚è€ƒè¿™äº›æ–¹æ³•ã€‚ 1. ä½¿ç”¨ slot, è®©ç»„ä»¶æ›´å¼ºå¤§ï¼Œä¹Ÿæ›´å®¹æ˜“ç†è§£æœ€è¿‘æˆ‘å†™äº†ç¯‡å…³äº Vue.js slot çš„æ–‡ç« ï¼Œå®ƒå¼ºè°ƒäº† slot å¦‚ä½•ä½¿ç»„ä»¶æ›´æ˜“äºé‡ç”¨å’Œç»´æŠ¤ï¼Œä»¥åŠä¸ºä»€ä¹ˆåº”è¯¥ä½¿ç”¨å®ƒä»¬ã€‚ ğŸ§ ä½†æ˜¯è¿™ä¸ Vue.js å¤§å‹é¡¹ç›®æœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿä¸€å¼ å›¾ç‰‡é€šå¸¸èƒœè¿‡åƒè¨€ä¸‡è¯­ï¼Œæ‰€ä»¥æˆ‘è¦ç»™ä½ æç»˜ä¸€å¹…å…³äºæˆ‘ç¬¬ä¸€æ¬¡åæ‚”æ²¡æœ‰ä½¿ç”¨å®ƒä»¬çš„ç”»é¢ã€‚ æœ‰ä¸€å¤©ï¼Œæˆ‘è¦åˆ›å»ºä¸€ä¸ª popupã€‚ä¹ä¸€çœ‹å¹¶æ²¡æœ‰ä»€ä¹ˆå¤æ‚çš„ä¸œè¥¿ï¼Œåªæ˜¯åŒ…å«äº†ä¸€ä¸ªæ ‡é¢˜ï¼Œä¸€ä¸ªæè¿°å’Œä¸€äº›æŒ‰é’®ã€‚æ‰€ä»¥æˆ‘æ‰€åšçš„å°±æ˜¯æŠŠä¸€åˆ‡é…ç½®ä¸€è‚¡è„‘å½“åš props ä¼ è¿›å»ã€‚æœ€ç»ˆæˆ‘å®šä¹‰äº†ä¸‰ä¸ª propï¼Œç”¨äºè‡ªå®šä¹‰ç»„ä»¶ï¼Œå½“ç”¨æˆ·å•å‡»æŒ‰é’®æ—¶å°†å‘é€ä¸€ä¸ªäº‹ä»¶ã€‚So easy ! ä½†æ˜¯ï¼Œéšç€é¡¹ç›®çš„å‘å±•ï¼Œå›¢é˜Ÿè¦æ±‚æˆ‘ä»¬åœ¨å…¶ä¸­å±•ç¤ºæ›´å¤šå…¶ä»–çš„æ–°å†…å®¹ï¼šè¡¨å•å­—æ®µã€ä¸åŒçš„æŒ‰é’®(å–å†³äºå®ƒæ˜¾ç¤ºåœ¨å“ªä¸ªé¡µé¢ä¸Š)ã€å¡ç‰‡ã€é¡µè„šï¼Œä»¥åŠåˆ—è¡¨ã€‚æˆ‘ä»¥ä¸ºï¼Œå¦‚æœç»§ç»­ä½¿ç”¨ prop æ¥è¿­ä»£è¿™ä¸ªç»„ä»¶ä¹Ÿæ²¡å•¥é—®é¢˜ã€‚ä½†æ˜¯æˆ‘æ»´ä¸ªç¥å“ªï¼Œæˆ‘æ˜¯å¤§é”™ç‰¹é”™ï¼ç»„ä»¶å¾ˆå¿«å˜å¾—éå¸¸å¤æ‚ï¼Œéš¾ä»¥ç†è§£ï¼Œå› ä¸ºå®ƒåŒ…å«äº†æ— æ•°çš„å­ç»„ä»¶ï¼Œç”¨äº†å¤ªå¤šçš„ propï¼Œå¹¶å‘é€äº†ä¸€å †çš„äº‹ä»¶ã€‚æˆ‘å¼€å§‹ä½“éªŒåˆ°äº†å¯æ€•çš„æƒ…å†µï¼Œå½“ä½ åšå‡ºä¸€ç‚¹æ”¹åŠ¨ï¼Œå…¶ä»–é¡µé¢çš„æŸä¸ªåœ°æ–¹å°±ä¼šå´©æºƒï¼æˆ‘ä»¿ä½›é€ äº†ä¸€ä¸ª Frankenstein æ€ªäººï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå¯ç»´æŠ¤çš„ç»„ä»¶!ğŸ¤– ç„¶è€Œï¼Œå¦‚æœæˆ‘ä»ä¸€å¼€å§‹å°±ä¾èµ– slotï¼Œæƒ…å†µå¯èƒ½ä¼šå¥½å¤šäº†ã€‚æœ€åæˆ‘é‡æ„äº†æ‰€æœ‰ä¸œè¥¿ï¼Œå¾—åˆ°äº†è¿™ä¸ªå°ç»„ä»¶ï¼šæ›´å®¹æ˜“ç»´æŠ¤ï¼Œç†è§£èµ·æ¥æ›´å¿«ï¼Œæ›´å¥½æ‰©å±•ï¼ 12345678910111213141516171819202122232425262728293031323334353637&lt;template&gt; &lt;div class&#x3D;&quot;c-base-popup&quot;&gt; &lt;div v-if&#x3D;&quot;$slot.header&quot; class&#x3D;&quot;c-base-popup__header&quot;&gt; &lt;slot name&#x3D;&quot;header&quot;&gt; &lt;&#x2F;div&gt; &lt;div v-if&#x3D;&quot;$slot.subheader&quot; class&#x3D;&quot;c-base-popup__subheader&quot;&gt; &lt;slot name&#x3D;&quot;subheader&quot;&gt; &lt;&#x2F;div&gt; &lt;div class&#x3D;&quot;c-base-popup__body&quot;&gt; &lt;h1&gt;&#123;&#123; title &#125;&#125;&lt;&#x2F;h1&gt; &lt;p v-if&#x3D;&quot;description&quot;&gt;&#123;&#123; description &#125;&#125;&lt;&#x2F;p&gt; &lt;&#x2F;div&gt; &lt;div v-if&#x3D;&quot;$slot.actions&quot; class&#x3D;&quot;c-base-popup__actions&quot;&gt; &lt;slot name&#x3D;&quot;actions&quot;&gt; &lt;&#x2F;div&gt; &lt;div v-if&#x3D;&quot;$slot.footer&quot; class&#x3D;&quot;c-base-popup__footer&quot;&gt; &lt;slot name&#x3D;&quot;footer&quot;&gt; &lt;&#x2F;div&gt; &lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&lt;script&gt;export default &#123; props: &#123; description: &#123; type: String, default: null &#125;, title: &#123; type: String, required: true &#125; &#125;&#125;&lt;&#x2F;script&gt;å¤åˆ¶ä»£ç  æˆ‘çš„è§‚ç‚¹æ˜¯ï¼Œä»ç»éªŒæ¥çœ‹ï¼Œé‚£äº›çŸ¥é“ä½•æ—¶ä½¿ç”¨ slot çš„å¼€å‘äººå‘˜æ‰€æ„å»ºçš„é¡¹ç›®ç¡®å®ä¼šå¯¹å…¶æœªæ¥çš„å¯ç»´æŠ¤æ€§äº§ç”Ÿå¾ˆå¤§çš„å½±å“ã€‚ç”±äºå‘é€çš„äº‹ä»¶æ›´å°‘ï¼Œä»£ç æ›´å®¹æ˜“ç†è§£ï¼Œè€Œä¸”æä¾›äº†æ›´å¤§çš„çµæ´»æ€§ï¼Œå¯ä»¥åœ¨å…¶ä¸­æ˜¾ç¤ºä»»ä½•ç»„ä»¶ã€‚ ï¸ æ•²é»‘æ¿ï¼šæ ¹æ®ç»éªŒï¼Œå½“ä½ å¼€å§‹åœ¨çˆ¶ç»„ä»¶ä¸­å¤åˆ¶å­ç»„ä»¶çš„ prop æ—¶ï¼Œä½ å°±åº”è¯¥è€ƒè™‘ä½¿ç”¨ slot äº†ã€‚ 2. åˆç†ç»„ç»‡ Vuex Storeé€šå¸¸ï¼ŒVue.js æ–°æ‰‹å¼€å§‹äº†è§£Vuexï¼Œå› ä¸ºä»–ä»¬åˆšå¥½ç¢°åˆ°äº†è¿™ä¸¤ä¸ªé—®é¢˜ï¼š ç»„ä»¶æ ‘ç»“æ„ä¸­ç›¸éš”å¤ªè¿œçš„ç»„ä»¶ä¹‹é—´è®¿é—®æ•°æ® ç»„ä»¶é”€æ¯åéœ€è¦æŒä¹…åŒ–æ•°æ® è¿™ä¸ªæ—¶å€™ä»–ä»¬å°±ä¼šåˆ›å»ºç¬¬ä¸€ä¸ª Vuex storeï¼Œå­¦ä¹ æ¨¡å—å¹¶å¼€å§‹åœ¨åº”ç”¨ç¨‹åºä¸­ç»„ç»‡å®ƒä»¬ã€‚ é—®é¢˜åœ¨äºï¼Œåˆ›å»ºæ¨¡å—æ—¶æ²¡æœ‰å•ä¸€çš„æ¨¡å¼å¯ä»¥éµå¾ªã€‚ç„¶è€Œï¼Œæˆ‘å¼ºçƒˆå»ºè®®ä½ ä»”ç»†è€ƒè™‘å¦‚ä½•ç»„ç»‡å®ƒä»¬ã€‚æ®æˆ‘æ‰€è§ï¼Œå¤§å¤šæ•°å¼€å‘äººå‘˜æ›´å–œæ¬¢æ ¹æ®åŠŸèƒ½æ¥ç»„ç»‡å®ƒä»¬ã€‚ä¾‹å¦‚: Auth. Blog. Inbox. Settings. å°±æˆ‘æ¥è¯´ï¼Œæˆ‘å‘ç°æ ¹æ®ä» API è·å–çš„æ•°æ®æ¨¡å‹æ¥ç»„ç»‡å®ƒä»¬æ›´å®¹æ˜“ç†è§£ã€‚ä¾‹å¦‚: Users Teams Messages Widgets Articles å¦‚ä½•é€‰æ‹©å–å†³äºä½ è‡ªå·±ã€‚å”¯ä¸€éœ€è¦è®°ä½çš„æ˜¯ï¼Œä»é•¿è¿œæ¥çœ‹ï¼Œä¸€ä¸ªç»„ç»‡è‰¯å¥½çš„ Vuex store ä¼šé€ å°±ä¸€ä¸ªæ›´é«˜æ•ˆçš„å›¢é˜Ÿã€‚å®ƒè¿˜å°†ä½¿æ–°äººåœ¨åŠ å…¥å›¢é˜Ÿæ—¶æ›´å®¹æ˜“å°†ä»–ä»¬çš„æƒ³æ³•å›´ç»•åœ¨ä½ çš„ä»£ç åŸºç¡€ä¸Šã€‚ 3. ä½¿ç”¨ action å‘èµ· API è°ƒç”¨å’Œæäº¤æ•°æ®æˆ‘çš„å¤§éƒ¨åˆ† API è°ƒç”¨ï¼ˆå¦‚æœä¸æ˜¯å…¨éƒ¨ï¼‰æ˜¯åœ¨Vuex action é‡Œé¢å®Œæˆçš„ã€‚ä½ å¯èƒ½ä¼šé—®ï¼šä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Ÿ ğŸ¤¨ ğŸ¤·â€â™€ï¸ ç®€å•æ¥è¯´ï¼Œå®ƒä»¬ä¸­çš„å¤§å¤šæ•°è·å–çš„æ•°æ®éœ€è¦æäº¤åˆ° storeé‡Œå»ã€‚å¦å¤–ï¼Œå®ƒä»¬è¿˜æä¾›äº†ä¸€å±‚å°è£…å’Œå¯é‡ç”¨æ€§ï¼Œæˆ‘å¾ˆå–œæ¬¢ç”¨ã€‚è¿˜æœ‰ä¸€äº›åŸå› å¦‚ä¸‹ï¼š å¦‚æœæˆ‘éœ€è¦åœ¨ä¸¤ä¸ªåœ°æ–¹ï¼ˆå‡è®¾æ˜¯åšå®¢é¡µé¢å’Œé¦–é¡µï¼‰è·å–æ–‡ç« çš„ç¬¬ä¸€é¡µï¼Œæˆ‘åªéœ€è¦ç”¨æ­£ç¡®çš„å‚æ•°è°ƒç”¨åˆé€‚çš„ dispatcher å°±è¡Œäº†ã€‚é™¤äº† dispatcher è°ƒç”¨ï¼Œæ— éœ€é‡å¤ä»£ç å°±å¯ä»¥å®Œæˆæ•°æ®çš„è·å–ï¼Œcommit åˆ° store å’Œè¿”å›ã€‚ å¦‚æœæˆ‘éœ€è¦å†™ä¸€äº›é¿å…é‡å¤è·å–ç¬¬ä¸€é¡µçš„é€»è¾‘ï¼Œæˆ‘å°±å¯ä»¥åœ¨ä¸€ä¸ªåœ°æ–¹å®Œæˆã€‚è¿™æ ·åšé™¤äº†ä¼šå‡è½»æœåŠ¡å™¨è´Ÿè½½ï¼Œè¿˜ä¼šå¢å¼ºæˆ‘å¯¹ä»£ç çš„ä¿¡å¿ƒã€‚ æˆ‘å¯ä»¥è·Ÿè¸ªè¿™äº›æ“ä½œä¸­çš„å¤§å¤šæ•° Mixpanelï¼ˆä¸€ä¸ªç½‘ç«™ç”¨æˆ·è¡Œä¸ºåˆ†æå·¥å…·ï¼‰ äº‹ä»¶ï¼Œè¿™ä½¿å¾—åˆ†æä»£ç éå¸¸å®¹æ˜“ç»´æŠ¤ã€‚æˆ‘ç¡®å®æœ‰ä¸€äº›åº”ç”¨ç¨‹åºï¼Œå…¶ä¸­æ‰€æœ‰çš„ Mixpanel è°ƒç”¨éƒ½æ˜¯åªåœ¨ action ä¸­å®Œæˆçš„ã€‚æˆ‘ä¸éœ€è¦äº†è§£å“ªäº›æ•°æ®è¢«è·Ÿè¸ªï¼Œå“ªäº›æ²¡æœ‰ï¼Œä»¥åŠä»€ä¹ˆæ—¶å€™å‘é€è¿™äº›ä¿¡æ¯ã€‚ä»¥è¿™ç§å·¥ä½œæ–¹å¼çš„ä¹è¶£ç®€ç›´æ— æ³•è¨€è¯´ã€‚ 4. ç”¨ mapStateï¼ŒmapGettersï¼ŒmapMutations å’Œ mapActions ç®€åŒ–ä»£ç é€šå¸¸ä¸éœ€è¦åˆ›å»ºå¤šä¸ªè®¡ç®—å±æ€§æˆ–æ–¹æ³•ï¼Œåªéœ€åœ¨ç»„ä»¶å†…éƒ¨è®¿é—® state/getters æˆ–è€…è°ƒç”¨ actions/mutations ã€‚ä½¿ç”¨mapStateï¼ŒmapGettersï¼ŒmapMutations å’Œ mapActions å¯ä»¥å¸®åŠ©ä½ ç®€åŒ–ä»£ç ï¼ŒæŠŠæ¥è‡ª store æ¨¡å—çš„æ•°æ®åˆ†ç»„åˆ°ä¸€èµ·ï¼Œè®©ä»£ç æ›´å®¹æ˜“ç†è§£ã€‚ 123456789101112131415161718192021222324&#x2F;&#x2F; NPMimport &#123; mapState, mapGetters, mapActions, mapMutations &#125; from &quot;vuex&quot;;export default &#123; computed: &#123; &#x2F;&#x2F; Accessing root properties ...mapState(&quot;my_module&quot;, [&quot;property&quot;]), &#x2F;&#x2F; Accessing getters ...mapGetters(&quot;my_module&quot;, [&quot;property&quot;]), &#x2F;&#x2F; Accessing non-root properties ...mapState(&quot;my_module&quot;, &#123; property: state &#x3D;&gt; state.object.nested.property &#125;) &#125;, methods: &#123; &#x2F;&#x2F; Accessing actions ...mapActions(&quot;my_module&quot;, [&quot;myAction&quot;]), &#x2F;&#x2F; Accessing mutations ...mapMutations(&quot;my_module&quot;, [&quot;myMutation&quot;]) &#125;&#125;;å¤åˆ¶ä»£ç  æœ‰å…³ä»¥ä¸Šå·¥å…·æ–¹æ³•çš„æ‰€æœ‰ä¿¡æ¯éƒ½åœ¨ Vuex å®˜æ–¹æ–‡æ¡£ã€‚ğŸ¤© 5. ä½¿ç”¨ API å·¥å‚æˆ‘é€šå¸¸å–œæ¬¢å†™ä¸€ä¸ªthis.$api åŠ©æ‰‹ï¼Œä»¥ä¾¿åœ¨ä»»ä½•åœ°æ–¹è°ƒç”¨ï¼Œè·å–åå° API èµ„æºã€‚åœ¨æˆ‘çš„é¡¹ç›®æ ¹ç›®å½•æœ‰ä¸€ä¸ªapi æ–‡ä»¶å¤¹ï¼ŒåŒ…å«äº†æ‰€æœ‰ç›¸å…³çš„ç±»ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼ˆä»…éƒ¨åˆ†ï¼‰ï¼š 123456apiâ”œâ”€â”€ auth.jsâ”œâ”€â”€ notifications.jsâ””â”€â”€ teams.jså¤åˆ¶ä»£ç  æ¯ä¸ªæ–‡ä»¶éƒ½å°†å…¶ç±»åˆ«ä¸‹çš„æ‰€æœ‰ API èµ„æºåˆ†ç»„ã€‚ä¸‹é¢æ˜¯æˆ‘åœ¨ Nuxt åº”ç”¨ä¸­ä½¿ç”¨æ’ä»¶åˆå§‹åŒ–è¿™ä¸ªæ¨¡å¼çš„æ–¹æ³•ï¼ˆåœ¨æ ‡å‡†çš„ Vue åº”ç”¨ä¸­çš„è¿‡ç¨‹ä¹Ÿç±»ä¼¼ï¼‰ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142&#x2F;&#x2F; PROJECT: APIimport Auth from &quot;@&#x2F;api&#x2F;auth&quot;;import Teams from &quot;@&#x2F;api&#x2F;teams&quot;;import Notifications from &quot;@&#x2F;api&#x2F;notifications&quot;;export default (context, inject) &#x3D;&gt; &#123; if (process.client) &#123; const token &#x3D; localStorage.getItem(&quot;token&quot;); &#x2F;&#x2F; Set token when defined if (token) &#123; context.$axios.setToken(token, &quot;Bearer&quot;); &#125; &#125; &#x2F;&#x2F; Initialize API repositories const repositories &#x3D; &#123; auth: Auth(context.$axios), teams: Teams(context.$axios), notifications: Notifications(context.$axios) &#125;; inject(&quot;api&quot;, repositories);&#125;;å¤åˆ¶ä»£ç export default $axios &#x3D;&gt; (&#123; forgotPassword(email) &#123; return $axios.$post(&quot;&#x2F;auth&#x2F;password&#x2F;forgot&quot;, &#123; email &#125;); &#125;, login(email, password) &#123; return $axios.$post(&quot;&#x2F;auth&#x2F;login&quot;, &#123; email, password &#125;); &#125;, logout() &#123; return $axios.$get(&quot;&#x2F;auth&#x2F;logout&quot;); &#125;, register(payload) &#123; return $axios.$post(&quot;&#x2F;auth&#x2F;register&quot;, payload); &#125;&#125;);å¤åˆ¶ä»£ç  ç°åœ¨ï¼Œæˆ‘å¯ä»¥ç®€å•åœ°åœ¨æˆ‘çš„ç»„ä»¶æˆ– Vuex action é‡Œåƒè¿™æ ·è°ƒç”¨å®ƒä»¬ï¼š 12345678910111213export default &#123; methods: &#123; onSubmit() &#123; try &#123; this.$api.auth.login(this.email, this.password); &#125; catch (error) &#123; console.error(error); &#125; &#125; &#125;&#125;;å¤åˆ¶ä»£ç  6. ä½¿ç”¨ $config è®¿é—®ç¯å¢ƒå˜é‡ï¼ˆåœ¨æ¨¡æ¿é‡Œç‰¹åˆ«æœ‰ç”¨ï¼‰ä½ çš„é¡¹ç›®å¯èƒ½åœ¨ä¸€äº›æ–‡ä»¶ä¸­å®šä¹‰äº†ä¸€äº›å…¨å±€é…ç½®å˜é‡ï¼š 12345configâ”œâ”€â”€ development.jsonâ””â”€â”€ production.jsonå¤åˆ¶ä»£ç  æˆ‘å–œæ¬¢é€šè¿‡ this.$config åŠ©æ‰‹å¿«é€Ÿè®¿é—®å®ƒä»¬ï¼Œç‰¹åˆ«æ˜¯åœ¨æ¨¡æ¿é‡Œã€‚åƒå¾€å¸¸ä¸€æ ·ï¼Œæ‰©å±• Vue å¯¹è±¡éå¸¸å®¹æ˜“ï¼š 1234567891011121314&#x2F;&#x2F; NPMimport Vue from &quot;vue&quot;;&#x2F;&#x2F; PROJECT: COMMONSimport development from &quot;@&#x2F;config&#x2F;development.json&quot;;import production from &quot;@&#x2F;config&#x2F;production.json&quot;;if (process.env.NODE_ENV &#x3D;&#x3D;&#x3D; &quot;production&quot;) &#123; Vue.prototype.$config &#x3D; Object.freeze(production);&#125; else &#123; Vue.prototype.$config &#x3D; Object.freeze(development);&#125;å¤åˆ¶ä»£ç  7. æŒ‰ç…§æŸä¸ªçº¦å®šæ¥ç»™ä»£ç æäº¤å‘½åéšç€é¡¹ç›®çš„å¢é•¿ï¼Œä½ å¯èƒ½éœ€è¦å®šæœŸæµè§ˆç»„ä»¶çš„å†å²è®°å½•ã€‚å¦‚æœä½ çš„å›¢é˜Ÿæ²¡æœ‰éµå¾ªç›¸åŒçš„çº¦å®šæ¥å‘½åä»–ä»¬çš„æäº¤ï¼Œé‚£ä¹ˆç†è§£æ¯ä¸ªæäº¤å°†ä¼šå˜å¾—æ›´åŠ å›°éš¾ã€‚ æˆ‘ä¸€ç›´æ¨èä½¿ç”¨ Angular æäº¤ä¿¡æ¯æŒ‡å—ã€‚æˆ‘åœ¨æ¯ä¸ªé¡¹ç›®ä¸­éƒ½éµå¾ªå®ƒï¼Œåœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œå…¶ä»–å›¢é˜Ÿæˆå‘˜å¾ˆå¿«å°±ä¼šå‘ç°éµå¾ªå®ƒå¸¦æ¥çš„å¥½å¤„ã€‚ éµå¾ªè¿™äº›æŒ‡å¯¼åŸåˆ™å¯ä»¥å¾—åˆ°æ›´å…·å¯è¯»æ€§çš„ä¿¡æ¯ï¼Œè¿™ä½¿å¾—åœ¨æŸ¥çœ‹é¡¹ç›®å†å²è®°å½•æ—¶æ›´å®¹æ˜“è·Ÿè¸ªæäº¤ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå®ƒæ˜¯è¿™æ ·å·¥ä½œçš„ï¼š 1234567git commit -am &quot;&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;&quot;# ä¸¾ä¾‹git commit -am &quot;docs(changelog): update changelog to beta.5&quot;git commit -am &quot;fix(release): need to depend on latest rxjs and zone.js&quot;å¤åˆ¶ä»£ç  çœ‹ä¸‹ä»–ä»¬çš„ README æ–‡ä»¶ äº†è§£æ›´å¤šäº†è§£æ›´å¤šå…³äºå®ƒå’Œç›¸å…³çº¦å®šã€‚ 8. é¡¹ç›®ä¸Šçº¿åå›ºå®š package ç‰ˆæœ¬æˆ‘çŸ¥é“ï¼Œæ‰€æœ‰ package éƒ½åº”è¯¥éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„åˆ™ã€‚ä½†ç°å®æƒ…å†µæ˜¯ï¼Œæœ‰äº›æ ¹æœ¬æ²¡æœ‰éµå®ˆã€‚ ä¸ºäº†é¿å…å› ä¸ºæŸä¸ªä¾èµ–é¡¹ç ´åäº†æ•´ä¸ªé¡¹ç›®è€Œä¸å¾—ä¸åœ¨åŠå¤œé†’æ¥ï¼Œé”å®šæ‰€æœ‰ package ç‰ˆæœ¬å¯ä»¥è®©ä½ çš„æ—©æ™¨å·¥ä½œå‹åŠ›æ›´å°ã€‚ å®ƒçš„æ„æ€å¾ˆç®€å•ï¼šé¿å…ä½¿ç”¨å¸¦ ^ å‰ç¼€çš„ç‰ˆæœ¬å·ï¼š 1234567891011121314151617181920212223242526&#123; &quot;name&quot;: &quot;my project&quot;, &quot;version&quot;: &quot;1.0.0&quot;, &quot;private&quot;: true, &quot;dependencies&quot;: &#123; &quot;axios&quot;: &quot;0.19.0&quot;, &quot;imagemin-mozjpeg&quot;: &quot;8.0.0&quot;, &quot;imagemin-pngquant&quot;: &quot;8.0.0&quot;, &quot;imagemin-svgo&quot;: &quot;7.0.0&quot;, &quot;nuxt&quot;: &quot;2.8.1&quot;, &#125;, &quot;devDependencies&quot;: &#123; &quot;autoprefixer&quot;: &quot;9.6.1&quot;, &quot;babel-eslint&quot;: &quot;10.0.2&quot;, &quot;eslint&quot;: &quot;6.1.0&quot;, &quot;eslint-friendly-formatter&quot;: &quot;4.0.1&quot;, &quot;eslint-loader&quot;: &quot;2.2.1&quot;, &quot;eslint-plugin-vue&quot;: &quot;5.2.3&quot; &#125;&#125;å¤åˆ¶ä»£ç  9. åœ¨æ˜¾ç¤ºå¤§é‡æ•°æ®æ—¶ä½¿ç”¨ Vue Virtual Scrollerå½“ä½ éœ€è¦åœ¨æŸä¸ªé¡µé¢ä¸­æ˜¾ç¤ºå¤§é‡çš„è¡Œï¼Œæˆ–è€…éœ€è¦å¾ªç¯å¤§é‡çš„æ•°æ®æ—¶ï¼Œä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°é¡µé¢å¯èƒ½ä¼šå¾ˆå¿«å˜å¾—éå¸¸æ…¢ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ å¯ä»¥ä½¿ç”¨vue-virtual-scollerã€‚ 123npm install vue-virtual-scrollerå¤åˆ¶ä»£ç  å®ƒå°†åªæ¸²æŸ“åˆ—è¡¨ä¸­å¯è§çš„é¡¹ï¼Œå¹¶é‡ç”¨ç»„ä»¶å’Œ dom å…ƒç´ ï¼Œæ•ˆç‡é«˜ï¼Œæ€§èƒ½å¥½ã€‚å®ƒçœŸçš„å¾ˆå®¹æ˜“ä½¿ç”¨ï¼Œå¦‚ä¸èˆ¬é¡ºæ»‘ï¼âœ¨ 123456789101112131415&lt;template&gt; &lt;RecycleScroller class&#x3D;&quot;scroller&quot; :items&#x3D;&quot;list&quot; :item-size&#x3D;&quot;32&quot; key-field&#x3D;&quot;id&quot; v-slot&#x3D;&quot;&#123; item &#125;&quot; &gt; &lt;div class&#x3D;&quot;user&quot;&gt; &#123;&#123; item.name &#125;&#125; &lt;&#x2F;div&gt; &lt;&#x2F;RecycleScroller&gt;&lt;&#x2F;template&gt;å¤åˆ¶ä»£ç  10. è·Ÿè¸ªç¬¬ä¸‰æ–¹åŒ…çš„å¤§å°å½“å¾ˆå¤šäººåœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸­å·¥ä½œæ—¶ï¼Œå¦‚æœæ²¡äººå…³æ³¨å®‰è£…åŒ…çš„æ•°é‡ï¼Œé‚£ä¹ˆå¾ˆå¿«å°±ä¼šè¶Šæ¥è¶Šå¤šã€‚ä¸ºäº†é¿å…åº”ç”¨ç¨‹åºå˜æ…¢(ç‰¹åˆ«æ˜¯åœ¨ç§»åŠ¨ç½‘ç»œå˜æ…¢çš„æƒ…å†µä¸‹)ï¼Œæˆ‘åœ¨ VS Code ä¸­ä½¿ç”¨äº† import cost æ’ä»¶ã€‚è¿™æ ·ï¼Œæˆ‘å°±å¯ä»¥ä»æˆ‘çš„ç¼–è¾‘å™¨ä¸­çœ‹åˆ°å¯¼å…¥çš„æ¨¡å—åº“æœ‰å¤šå¤§ï¼Œå¹¶ä¸”å¯ä»¥åœ¨å®ƒå˜å¾—å¤ªå¤§æ—¶æ£€æŸ¥å‡ºé—®é¢˜ã€‚ ä¾‹å¦‚ï¼Œåœ¨æœ€è¿‘çš„ä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œæ•´ä¸ª lodash åº“è¢«å¯¼å…¥(å¤§çº¦æœ‰24kBçš„gzipped)ã€‚ç»“æœåªä½¿ç”¨äº† cloneDeep æ–¹æ³•ã€‚é€šè¿‡ import cost æ’ä»¶å®šä½åˆ°è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æ˜¯è¿™æ ·è§£å†³çš„ï¼š 1234npm remove lodashnpm install lodash.clonedeepå¤åˆ¶ä»£ç  cloneDeep å‡½æ•°å¯ä»¥åœ¨éœ€è¦çš„åœ°æ–¹å¼•å…¥ï¼š 123import cloneDeep from &quot;lodash.clonedeep&quot;;å¤åˆ¶ä»£ç  ï¸ è¦è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œä½ å¯ä»¥ä½¿ç”¨ Webpack Bundle Analyzer ï¼Œç”¨äº¤äº’å¼çš„å¯ç¼©æ”¾åœ°å›¾å¯è§†åŒ–æ–‡ä»¶å¤§å°ã€‚ è½¬è½½è‡ªæ˜é‡‘ KaysonLi https://juejin.im/post/5dcbd5f66fb9a06061527cb9#heading-2","tags":[]},{"title":"å‰ç«¯æ€§èƒ½ä¼˜åŒ–(ä¸€)","date":"2019-12-29T01:46:18.206Z","path":"2019/12/29/å‰ç«¯æ€§èƒ½ä¼˜åŒ–(ä¸€)/","text":"å‰ç«¯æ€§èƒ½ä¼˜åŒ–ï¼ˆä¸€ï¼‰åœ¨è®¨è®ºå…·ä½“å¦‚ä½•ä¼˜åŒ–ä¹‹å‰ï¼Œå…ˆæ€è€ƒä¸€ä¸ªç»å…¸é—®é¢˜ï¼Œä»è¾“å…¥ URL åˆ°é¡µé¢åŠ è½½å®Œæˆåˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ URL ç»è¿‡ DNS è§£æä¸º IP åœ°å€ï¼Œç„¶åä¸ IP åœ°å€è¿›è¡Œ TCP è¿æ¥ï¼Œéšåå‘å‡º HTTP è¯·æ±‚ï¼ŒæœåŠ¡å™¨å¤„ç†å®Œè¯·æ±‚ä¹‹åå°†å†…å®¹é€šè¿‡ HTTP å‘é€ç»™å®¢æˆ·ç«¯ï¼Œæ‹¿åˆ°æ•°æ®åæµè§ˆå™¨å°±å¼€å§‹æ¸²æŸ“æµç¨‹ã€‚ç®€å•çš„è¯´åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼šDNS è§£æï¼ŒTCP è¿æ¥ï¼ŒHTTP è¯·æ±‚ï¼ŒHTTPå“åº”ï¼Œæµè§ˆå™¨è§£æå¹¶æ¸²æŸ“ã€‚ è¿™ä¸ªé—®é¢˜è§£å†³ä¹‹åï¼Œå°±å¯ä»¥ä»å„ä¸ªå±‚é¢åˆ†æå¦‚ä½•åšæ€§èƒ½ä¼˜åŒ–äº†ã€‚ DNS é¢„è§£æDNS é¢„è§£ææ˜¯æŒ‡æµè§ˆå™¨è§†å›¾åœ¨ç”¨æˆ·è®¿é—®é“¾æ¥ä¹‹å‰è§£æåŸŸåã€‚é‚£æ¥ä¸‹æ¥ç”¨æˆ·å¦‚æœç¡®å®è®¿é—®äº†è¯¥åŸŸåï¼Œé‚£ DNS çš„è§£ææ—¶é—´å°†ä¸ä¼šæœ‰å»¶è¿Ÿã€‚æµè§ˆå™¨å¯¹ç½‘ç«™ç¬¬ä¸€æ¬¡çš„åŸŸå DNS æŸ¥æ‰¾æµç¨‹ä¸ºï¼šæµè§ˆå™¨ç¼“å­˜ =&gt; ç³»ç»Ÿç¼“å­˜ =&gt; è·¯ç”±å™¨ç¼“å­˜ =&gt; ISP DNS ç¼“å­˜ =&gt; DNS æœåŠ¡å™¨ã€‚æ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦å¯¹å’Œå½“å‰é¡µé¢ä¸­åŒä¸€ä¸ªåŸŸçš„åŸŸåè¿›è¡Œé¢„è·å–ï¼ˆæµè§ˆå™¨ä¼šç¼“å­˜è§£æç»“æœï¼‰ã€‚ ä½¿ç”¨èµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼š 1234&#x2F;&#x2F; å¦‚æœéœ€è¦ç¦ç”¨éšå¼çš„ DNS prefetch è®¾ç½® content &#x3D; &quot;off&quot;&lt;meta http-equiv&#x3D;&quot;x-dns-prefetch-control&quot; content&#x3D;&quot;on&quot;&gt;&lt;link rel&#x3D;&quot;dns-prefetch&quot; href&#x3D;&quot;&#x2F;&#x2F;ha.aa.bb&quot;&gt;å¤åˆ¶ä»£ç  HTTP2 &amp;&amp; HTTP1å…ˆæ¥ä¸€ä¸ªä¾‹å­å¤§å®¶ç›´è§‚æ„Ÿå—ä¸‹ä¸¤è€…çš„å·®å¼‚ï¼Œå¯ä»¥çœ‹åˆ° HTTP/2 æ€§èƒ½æœ‰å¤§å¹…æé«˜ã€‚è¿™é‡Œå°±å¿…é¡»æåˆ°å…¶å¼•å…¥çš„å¤šè·¯å¤ç”¨æŠ€æœ¯ï¼Œåœ¨è¿™ä¸ªæŠ€æœ¯çš„æ”¯æŒä¸‹ï¼ŒåŒä¸€åŸŸåä¸‹çš„æ‰€æœ‰è¯·æ±‚éƒ½åœ¨ä¸€ä¸ªé€šé“å†…å®Œæˆã€‚è¿™ä¹Ÿæ˜¯å¼•å…¥äº†å¸§å’Œæµçš„æ¦‚å¿µï¼Œå¸§æ˜¯æ•°æ®æœ€å°ä¼ è¾“å•ä½ï¼Œä¸”æ ‡è®°äº†å±äºå“ªä¸ªæµï¼Œæµå°±æ˜¯å¤šä¸ªæ•°æ®å¸§ç»„æˆçš„æ•°æ®æµã€‚å¤šè·¯å¤ç”¨å°±æ˜¯ä¸€ä¸ªè¿æ¥ä¸‹å­˜åœ¨å¤šä¸ªæµã€‚è€Œ HTTP/1 ä¸­æ¯ä¸ªè¯·æ±‚éƒ½å¿…é¡»åˆ›å»ºä¸€ä¸ª TCP è¿æ¥ï¼Œæµè§ˆå™¨è¿˜é™åˆ¶äº†åŒä¸€ä¸ªåŸŸåä¸‹çš„è¯·æ±‚æ•°é‡ï¼Œå½“è¯·æ±‚èµ„æºè¾ƒå¤šçš„æ—¶å€™ä¼šå‡ºç°é˜Ÿå¤´é˜»å¡ã€‚ ä¸” HTTP/2 é‡‡ç”¨äºŒè¿›åˆ¶ä¼ è¾“ä»£æ›¿äº† HTTP/1 ä¸­çš„æ–‡æœ¬ä¼ è¾“ï¼Œè§£ææ›´åŠ é«˜æ•ˆã€‚ æµè§ˆå™¨ç¼“å­˜ç­–ç•¥ç¼“å­˜æ˜¯æ€§èƒ½ä¼˜åŒ–ä¸­æ€§ä»·æ¯”å¾ˆé«˜çš„ä¸€ç§ä¼˜åŒ–æ–¹å¼ï¼Œæ˜¾è‘—çš„å‡å°‘äº†ç½‘ç»œä¼ è¾“å¸¦æ¥çš„æŸè€—ã€‚ æµè§ˆå™¨çš„ç¼“å­˜æœºåˆ¶æœ‰å››ç§ï¼ŒæŒ‰ä¼˜å…ˆçº§æ’åˆ—å¦‚ä¸‹ï¼š Service Worker Memory Cache Disk Cache Push Cache å½“ä»¥ä¸Šéƒ½æ²¡æœ‰å‘½ä¸­èµ„æºçš„æ—¶å€™æ‰å»åšç½‘ç»œè¯·æ±‚ã€‚ Service WorkerService Worker æ˜¯è¿è¡Œåœ¨æµè§ˆå™¨èƒŒåçš„ç‹¬ç«‹çº¿ç¨‹ï¼Œä¸”è„±ç¦»æµè§ˆå™¨çª—å£ï¼Œå› æ­¤æ— æ³•ç›´æ¥è®¿é—® DOMã€‚ä¹Ÿæ­£æ˜¯ç‹¬ç«‹çš„ç‰¹ç‚¹ï¼Œæˆ‘ä»¬å¾€å¾€å¯ä»¥é€šè¿‡å®ƒå®ç°ç¦»çº¿ç¼“å­˜ï¼Œæ¶ˆæ¯æ¨é€å’Œç½‘ç»œä»£ç†ç­‰åŠŸèƒ½ã€‚ä½†ç”±äºæ¶‰åŠåˆ°ç½‘ç»œä»£ç†çš„ï¼Œä½¿ç”¨ Service Worker æ—¶ï¼Œä¼ è¾“åè®®å¿…é¡»ä¸º HTTPSã€‚ ä½¿ç”¨æ­¥éª¤åˆ†ä¸ºä¸‰æ­¥ï¼šæ³¨å†Œ Service Workerï¼›ç›‘å¬ install äº‹ä»¶ï¼Œå¹¶ç¼“å­˜éœ€è¦çš„æ–‡ä»¶ï¼›åœ¨ä¸‹æ¬¡è¯·æ±‚çš„æ—¶å€™é€šè¿‡æ‹¦æˆªè¯·æ±‚çš„æ–¹å¼æŸ¥è¯¢æ˜¯å¦å­˜åœ¨ç¼“å­˜ï¼Œå­˜åœ¨çš„è¯ç›´æ¥è¯»å–ç¼“å­˜æ–‡ä»¶ï¼Œå¦åˆ™è¯·æ±‚èµ„æºã€‚ æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“æˆ‘ä»¬æ²¡æœ‰åœ¨ Service Worker å‘½ä¸­ç¼“å­˜ï¼Œéœ€è¦è°ƒç”¨ fetch å‡½æ•°è·å–æ•°æ®æ—¶ï¼Œæµè§ˆå™¨ä¼šä¾æ¬¡æ ¹æ®ç¼“å­˜ä¼˜å…ˆçº§ç»§ç»­æŸ¥æ‰¾ï¼Œä½†æ­¤æ—¶æ‰¾åˆ°çš„æ•°æ®ä¾æ—§ä¼šæ˜¾ç¤ºæ˜¯ä» Service Worker ä¸­è·å–çš„ã€‚ Memory CacheMemory Cache æ˜¯æŒ‡å†…å­˜ä¸­çš„ç¼“å­˜ï¼Œæ˜¯é€Ÿåº¦éå¸¸å¿«çš„ä¸€ç§ç¼“å­˜ã€‚ä½†æ˜¯è™½ç„¶è¯»å–æ•ˆç‡é«˜ï¼Œå…¶ç”Ÿå­˜æ—¶é—´è¾ƒçŸ­ï¼Œä¸€æ—¦ Tab é¡µå…³é—­ï¼Œå†…å­˜ä¸­çš„ç¼“å­˜å°±è¢«é‡Šæ”¾äº†ã€‚ä½†æ˜¯å…·ä½“å“ªéƒ¨åˆ†å†…å®¹ä¼šè¢«ç¼“å­˜å¹¶ä¸ç¡®å®šï¼Œéœ€è¦æ ¹æ®ç³»ç»Ÿå†…å­˜çš„å…·ä½“æƒ…å†µåˆ¤æ–­ã€‚ Disk CacheDisk Cache æ˜¯æŒ‡å­˜åœ¨ç¡¬ç›˜ä¸­çš„ç¼“å­˜ï¼Œè¯»å–é€Ÿåº¦è¾ƒæ…¢ï¼Œä½†æ˜¯æ—¶æ•ˆæ€§è¾ƒé«˜ã€‚å³ä½¿åœ¨è·¨ç«™ç‚¹çš„æƒ…å†µä¸‹ï¼Œç›¸åŒåœ°å€çš„èµ„æºä¸€æ—¦è¢«ç¼“å­˜ä¸‹æ¥å°±ä¸ä¼šå†æ¬¡å»è¯·æ±‚æ•°æ®ã€‚ Push CacheHTTP/2 ä¸­çš„å†…å®¹ï¼Œä¸å¤ªäº†è§£~~æœ‰äº†è§£çš„åŒå­¦å¯ä»¥ä¸€èµ·äº¤æµä¸‹å‘€ ç¼“å­˜ç­–ç•¥å‰é¢æåˆ°äº†å„ç§ç±»å‹çš„ç¼“å­˜ï¼Œä½†æ˜¯ç©¶ç«Ÿè¦ä¸è¦ç¼“å­˜ï¼Œæ€ä¹ˆåˆ¤æ–­ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼Œè¿™äº›é—®é¢˜éƒ½è¦ä»ç¼“å­˜ç­–ç•¥ä¸­æ‰¾åˆ°ç­”æ¡ˆã€‚ æµè§ˆå™¨çš„ç¼“å­˜ç­–ç•¥åˆ†ä¸ºä¸¤ç§ï¼šå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜ã€‚ å¼ºç¼“å­˜å¼ºç¼“å­˜çš„å®ç°ä¾èµ– Expires å’Œ Cache-Control ä¸¤ä¸ªå­—æ®µæ¥æ§åˆ¶ã€‚å¼ºç¼“å­˜è¡¨ç¤ºç¼“å­˜æœŸé—´ä¸éœ€è¦å†æ¬¡è¯·æ±‚ï¼Œè¿”å›çŠ¶æ€ç  200ã€‚ å¼ºç¼“å­˜çš„æ—©æœŸå®ç°æ˜¯é  Expires å­—æ®µï¼Œè¿™ä¸ªå­—æ®µæ˜¯ä¸€ä¸ªæ—¶é—´æˆ³ï¼Œè¡¨ç¤ºåœ¨è¿™ä¸ªäº‹ä»¶å‰çš„ç¼“å­˜éƒ½æ˜¯æœ‰æ•ˆçš„ã€‚å¯ä»¥çœ‹åˆ°è¿™ä¸ªå­—æ®µååˆ†ä¾èµ–æœ¬åœ°æ—¶é—´ï¼Œå¦‚æœä¿®æ”¹å®¢æˆ·ç«¯æ—¶é—´å¯èƒ½å°±ä¼šå‡ºé—®é¢˜ã€‚ HTTP/1.1 å‡ºç°çš„ Cache-Control å¯ä»¥å®Œå…¨æ›¿ä»£ Expires å¹¶æä¾›æ›´ä¸°å¯Œçš„åŠŸèƒ½ã€‚å®ƒæä¾›äº†å¾ˆå¤šæŒ‡ä»¤ï¼š æŒ‡ä»¤ ä½œç”¨ public è¡¨ç¤ºå“åº”å¯ä»¥è¢«å®¢æˆ·ç«¯å’Œä»£ç†æœåŠ¡å™¨ç¼“å­˜ private è¡¨ç¤ºå“åº”åªèƒ½è¢«å®¢æˆ·ç«¯ç¼“å­˜ max-age=30 ç¼“å­˜ 30 s åè¿‡æœŸ s-maxage=30 è¦†ç›– max-age ï¼Œä½†åªåœ¨ä»£ç†æœåŠ¡å™¨ä¸­ç”Ÿæ•ˆ no-store ä¸ç¼“å­˜ä»»ä½•å“åº” no-cache èµ„æºè¢«ç¼“å­˜ä½†æ˜¯ç«‹å³å¤±æ•ˆï¼Œä¸‹æ¬¡ä¼šå‘èµ·è¯·æ±‚éªŒè¯èµ„æºæ˜¯å¦è¿‡æœŸ max-stale=30 30s å†…åŠæ—¶ç¼“å­˜è¿‡æœŸä¹Ÿä½¿ç”¨è¯¥ç¼“å­˜ min-fresh=30 å¸Œæœ›åœ¨ 30s å†…è·å–æœ€æ–°çš„å“åº” åå•†ç¼“å­˜å¦‚æœç¼“å­˜è¿‡æœŸäº†æˆ–æ˜¯è®¾ç½®äº† no-cacheï¼Œåˆ™è¿›å…¥åå•†ç¼“å­˜é˜¶æ®µã€‚åå•†ç¼“å­˜çš„å®ç°ä¾èµ–äºä¸¤ä¸ªå­—æ®µï¼šï¼šEtag ä»¥åŠ Last-modifiedã€‚å½“æµè§ˆå™¨å‘èµ·éªŒè¯è¯·æ±‚èµ„æºæ—¶ï¼Œå¦‚æœèµ„æºæ²¡æœ‰æ”¹åŠ¨ï¼Œå°±è¿”å› 304 çŠ¶æ€ç ï¼Œå¹¶æ›´æ–°ç¼“å­˜æœ‰æ•ˆæœŸã€‚ å½“æµè§ˆå™¨å‘èµ·è¯·æ±‚æ—¶ï¼Œä¼šå¸¦ä¸Š If-Modified-Since å­—æ®µï¼Œå®ƒçš„å€¼æ˜¯ä¸Šæ¬¡è¯·æ±‚èµ„æºæ—¶ Last-modified æä¾›çš„æ—¶é—´æˆ³ã€‚æœåŠ¡å™¨å†åˆ¤æ–­åœ¨è¿™ä¸ªæ—¶é—´æˆ³ä¹‹åæ˜¯å¦æœ‰æ”¹åŠ¨ã€‚ä½†æ˜¯è¿™ä¸ªæœºåˆ¶è¿˜æ˜¯å­˜åœ¨å¼Šç«¯çš„ï¼Œå› ä¸ºæ—¶é—´æˆ³æ˜¯ä»¥ç§’ä¸ºå•ä½è®¡ç®—çš„ï¼Œå¦‚æœå† 1s å†…çš„æ”¹åŠ¨æ˜¯æ— æ³•è¢«æ„ŸçŸ¥åˆ°çš„ã€‚ Etag å°±æ˜¯ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜å‡ºç°çš„ï¼Œæµè§ˆå™¨ä¼šå°†ä¸Šæ¬¡è¯·æ±‚èµ„æºè¿”å›ç»“æœæºå¸¦çš„ Etag ä½œä¸º If-None-Match çš„å€¼å‘é€ç»™æœåŠ¡å™¨ï¼Œæœ‰å˜åŠ¨çš„è¯å°±è¿”å›æ–°çš„èµ„æºã€‚Etag çš„ç¼ºé™·åœ¨äºæœåŠ¡å™¨éœ€è¦æœ‰é¢å¤–çš„å¼€é”€ï¼Œå¯èƒ½ä¼šå½±å“æ€§èƒ½ã€‚ é‚£å½“æ²¡æœ‰è®¾ç½®ç¼“å­˜ç­–ç•¥æ—¶ï¼Œæµè§ˆå™¨ä¼šæ€ä¹ˆåŠï¼Ÿé€šå¸¸ä¼šå–å“åº”å¤´ä¸­çš„ DATE å‡å» Last-modified å€¼çš„ 10% ä½œä¸ºç¼“å­˜æ—¶é—´ã€‚ å®é™…åº”ç”¨ç­–ç•¥å¤§è‡´äº†è§£äº†æµè§ˆå™¨ç¼“å­˜æœºåˆ¶ä¹‹åï¼Œè¦æ€ä¹ˆåˆ©ç”¨å®ƒä»¬æ¥æé«˜æ€§èƒ½å‘¢ï¼Ÿè¿™æ‰æ˜¯æˆ‘ä»¬çœŸæ­£è¦è§£å†³çš„é—®é¢˜ã€‚ å¯¹äºé¢‘ç¹å˜åŠ¨çš„èµ„æºï¼Œå¯ä»¥è®¾ç½® Cache-Control: no-cache ï¼Œè®©æµè§ˆå™¨æ¯æ¬¡éƒ½è¯·æ±‚æœåŠ¡å™¨éªŒè¯èµ„æºæ˜¯å¦æœ‰æ•ˆã€‚å¦‚æœæœ‰æ•ˆï¼Œå¯ä»¥æœ‰æ•ˆå‡å°‘å“åº”æ•°æ®å¤§å°ã€‚ å¯¹äºä¸€äº›æ‰“åŒ…è¿‡åçš„ä»£ç æ–‡ä»¶ï¼Œæ¯”å¦‚ webpack ï¼Œé€šå¸¸æˆ‘ä»¬éƒ½ä¼šå¯¹æ–‡ä»¶ååšå“ˆå¸Œå¤„ç†ï¼Œä¸€èˆ¬åªè¦æ–‡ä»¶æ”¹åŠ¨è¿‡äº†ï¼Œæ–‡ä»¶åå°±ä¼šæ”¹åŠ¨ã€‚æ‰€ä»¥å¯¹äºè¿™ç±»æ–‡ä»¶ï¼Œå¯ä»¥é‡‡ç”¨å¼ºç¼“å­˜ç­–ç•¥ï¼Œè®¾ç½®è¾ƒé•¿æ—¶é—´çš„ç¼“å­˜æ—¶é—´ï¼Œæ¯”å¦‚ Cache-Control: max-age=31536000ã€‚ æ„å»ºå·¥å…·ä¼˜åŒ–å‡å°‘æ‰“åŒ…æ—¶é—´ ä¼˜åŒ– Loader å°±æ‹¿ Babel ä¸¾ä¾‹ï¼Œé¦–å…ˆä¼˜åŒ– Loader çš„æ–‡ä»¶æœç´¢èŒƒå›´ï¼Œåˆç†åˆ©ç”¨ test ï¼Œincludeï¼Œexclude ï¼›ç¼“å­˜ç¼–è¯‘è¿‡çš„æ–‡ä»¶ï¼Œä¸‹æ¬¡åªéœ€è¦ç¼–è¯‘æ›´æ”¹è¿‡çš„ä»£ç å³å¯ï¼š 12loader: &#39;babel-loader?cacheDirectory&#x3D;true&#39;å¤åˆ¶ä»£ç  HappyPack HappyPack å°† loader çš„åŒæ­¥æ‰§è¡Œè½¬æ¢ä¸ºå¹¶è¡Œæ‰§è¡Œ 123456789plugins: [ new HappyPack(&#123; id: &#39;happybabel&#39;, loaders: [&#39;babel-loader?cacheDirectory&#39;], &#x2F;&#x2F; å¼€å¯ 4 ä¸ªçº¿ç¨‹ threads: 4 &#125;)]å¤åˆ¶ä»£ç  DllPlugin DllPlugin å°†åˆ¶å®šçš„åº“æå‰æ‰“åŒ…åå¼•å…¥ï¼Œä¸‹æ¬¡æ‰“åŒ…æ—¶åªæœ‰å½“åº“ç‰ˆæœ¬æ›´æ–°åæ‰éœ€è¦é‡æ–°æ‰“åŒ…ã€‚ 12345678910111213141516171819202122232425262728293031323334353637&#x2F;&#x2F; å•ç‹¬é…ç½®åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­&#x2F;&#x2F; webpack.dll.conf.jsconst path &#x3D; require(&#39;path&#39;)const webpack &#x3D; require(&#39;webpack&#39;)module.exports &#x3D; &#123; entry: &#123; &#x2F;&#x2F; æƒ³ç»Ÿä¸€æ‰“åŒ…çš„ç±»åº“ vendor: [&#39;react&#39;] &#125;, output: &#123; path: path.join(__dirname, &#39;dist&#39;), filename: &#39;[name].dll.js&#39;, library: &#39;[name]-[hash]&#39; &#125;, plugins: [ new webpack.DllPlugin(&#123; &#x2F;&#x2F; name å¿…é¡»å’Œ output.library ä¸€è‡´ name: &#39;[name]-[hash]&#39;, &#x2F;&#x2F; è¯¥å±æ€§éœ€è¦ä¸ DllReferencePlugin ä¸­ä¸€è‡´ context: __dirname, path: path.join(__dirname, &#39;dist&#39;, &#39;[name]-manifest.json&#39;) &#125;) ]&#125;&#x2F;&#x2F; å…ˆæ‰§è¡Œä¸Šé¢çš„é…ç½®æ–‡ä»¶ç”Ÿæˆä¾èµ–æ–‡ä»¶ï¼Œå†ä½¿ç”¨ DllReferencePlugin å°†ä¾èµ–æ–‡ä»¶å¼•å…¥é¡¹ç›®ä¸­&#x2F;&#x2F; webpack.conf.jsmodule.exports &#x3D; &#123; plugins: [ new webpack.DllReferencePlugin(&#123; context: __dirname, &#x2F;&#x2F; manifest å°±æ˜¯ä¹‹å‰æ‰“åŒ…å‡ºæ¥çš„ json æ–‡ä»¶ manifest: require(&#39;.&#x2F;dist&#x2F;vendor-manifest.json&#39;), &#125;) ]&#125;å¤åˆ¶ä»£ç  å‹ç¼©ä»£ç ä½“ç§¯ æŒ‰éœ€åŠ è½½ åœ¨å¼€å‘ SPA é¡¹ç›®æ—¶ï¼Œæ¯”è¾ƒå¥½çš„ä¸€ä¸ªå®è·µæ˜¯ï¼Œå¯ä»¥ä½¿ç”¨æŒ‰éœ€åŠ è½½å°†æ¯ä¸ªè·¯ç”±é¡µé¢å•ç‹¬æ‰“åŒ…ä¸ºä¸€ä¸ªæ–‡ä»¶ï¼Œé¿å…é¦–é¡µåŠ è½½æ–‡ä»¶è¿‡å¤§ï¼Œå½“ç„¶å¯¹äºå¤§å‹ç±»åº“ä¹ŸåŒæ ·é€‚ç”¨ã€‚ Scope Hoisting 12345&#x2F;&#x2F; a.jsexport const a &#x3D; 1&#x2F;&#x2F; index.jsexport &#123;a&#125; from &#39;.&#x2F;a.js&#39;å¤åˆ¶ä»£ç  æœ‰ä»¥ä¸Šä¸¤ä¸ªæ–‡ä»¶ï¼Œä½¿ç”¨ webpackæ‰“åŒ…åä¼šå˜ä¸ºï¼š 1234567891011[ &#x2F;* 0 *&#x2F; function (module, exports, require) &#123; &#x2F;&#x2F;... &#125;, &#x2F;* 1 *&#x2F; function (module, exports, require) &#123; &#x2F;&#x2F;... &#125;]å¤åˆ¶ä»£ç  ä½¿ç”¨äº† Scope Hoisting ä¹‹åï¼Œä»£ç ä¼šå°½é‡åˆå¹¶åˆ°ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œå˜ä¸ºï¼š 1234567[ &#x2F;* 0 *&#x2F; function (module, exports, require) &#123; &#x2F;&#x2F;... &#125;]å¤åˆ¶ä»£ç  å¯ä»¥çœ‹åˆ°ä»£ç é‡ä¼šå‡å°‘å¾ˆå¤šï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨ webpack ä¸­é…ç½® optimization.concatenateModules æ¥å¼€å¯ Scope Hoistingã€‚ Tree Shaking Tree Shaking ç”¨äºåˆ é™¤åº”ç”¨ä¸­æœªè¢«å¼•ç”¨çš„ä»£ç ï¼Œwebpack4 é»˜è®¤å¼€å¯äº†è¿™ä¸ªåŠŸèƒ½ã€‚ å›¾ç‰‡èµ„æºä¼˜åŒ–web åº”ç”¨ä¸­å›¾ç‰‡å‡ ä¹æ˜¯å¿…ä¸å¯å°‘çš„èµ„æºï¼Œä¹Ÿæ˜¯ååˆ†æŸè€—æ€§èƒ½çš„ä¸€ä¸ªç‚¹ã€‚å›¾ç‰‡ä¼˜åŒ–çš„æœ€å¥½åˆ‡å…¥ç‚¹åœ¨äºæ ¹æ®ä¸šåŠ¡åœºæ™¯åšå¥½å›¾ç‰‡é€‰å‹æ–¹æ¡ˆã€‚ JPG JPG çš„ç‰¹ç‚¹æ˜¯æœ‰æŸå‹ç¼©ï¼Œä½“ç§¯å°ï¼ŒåŠ è½½å¿«ï¼Œä½†ä¸æ”¯æŒé€æ˜ã€‚æ‰€ä»¥é€šå¸¸å¯ä»¥ç”¨äºå¤§çš„èƒŒæ™¯å›¾æˆ–æ˜¯è½®æ’­å›¾ç­‰è‰²å½©ä¸°å¯Œçš„å›¾ç‰‡ä¸­ã€‚ä¸é€‚ç”¨äºä¸€äº›çŸ¢é‡å›¾å½¢æˆ–æ˜¯å¯¹æ¯”æ¯”è¾ƒé²œæ˜çš„å›¾ç‰‡ã€‚ PNG PNG çš„ç‰¹ç‚¹æ˜¯æ— æŸå‹ç¼©ï¼Œè´¨é‡é«˜ï¼Œä½“ç§¯å¤§ã€‚é€šå¸¸ç”¨äºé€æ˜å›¾ç‰‡ï¼Œå° LOGOï¼Œæˆ–æ˜¯é¢œè‰²ç®€å•ä½†å¯¹æ¯”å¼ºçƒˆçš„å›¾ç‰‡ã€‚ SVG SVG çš„ç‰¹ç‚¹æ˜¯ä½“ç§¯å°ï¼Œä¸å¤±çœŸï¼Œå…¼å®¹æ€§å¥½ã€‚ä¸€èˆ¬é¡µé¢ä¸Šçš„å›¾æ ‡éƒ½å¯ä»¥ç”¨ SVG åˆ¶ä½œï¼Œåªæ˜¯æ¸²æŸ“æˆæœ¬è¾ƒé«˜ï¼Œå¯¹æ€§èƒ½å¯èƒ½ç•¥æœ‰å½±å“ã€‚ Base64 Base64 çš„ç‰¹ç‚¹æ˜¯æ–‡æœ¬æ–‡ä»¶ï¼Œå¯ç”¨äºé¡µé¢ä¸Šçš„å°å›¾æ ‡ã€‚ WebP WebP çš„ç‰¹ç‚¹æ˜¯æ”¯æŒé€æ˜ï¼Œæ”¯æŒåŠ¨æ€å›¾ç‰‡ï¼Œæ”¯æŒæœ‰æŸå‹ç¼©å’Œæ— æŸå‹ç¼©ã€‚ä½†æ˜¯å…¼å®¹æ€§å¤ªå·®ï¼Œä½†æ˜¯å¯¹äºå…¼å®¹ WebP çš„æµè§ˆå™¨å¯ä»¥å°½é‡å¤šä½¿ç”¨ã€‚ CSS å¾ˆå¤šæ—¶å€™ä¸€äº›æ•ˆæœå¯ä»¥ç›´æ¥é€šè¿‡ CSS å®ç°ï¼Œè¿™ä¸ªæ—¶å€™å°±å¤§èƒ†çš„æ”¾å¼ƒä½¿ç”¨å›¾ç‰‡å§ã€‚ é¢„åŠ è½½ &amp; é¢„æ¸²æŸ“ é¢„åŠ è½½ 12&lt;link rel&#x3D;&quot;preload&quot; href&#x3D;&quot;http:&#x2F;&#x2F;example.com&quot;&gt;å¤åˆ¶ä»£ç  å¦‚æœé¡µé¢æŸäº›èµ„æºå¯èƒ½ä¸ä¼šé©¬ä¸Šç”¨åˆ°ï¼Œä½†æ˜¯å¸Œæœ›å°½æ—©è·å–ï¼Œå¯ä»¥ä½¿ç”¨é¢„åŠ è½½ã€‚å®ƒä¼šå¼ºåˆ¶æµè§ˆå™¨è¯·æ±‚èµ„æºï¼Œä½†ä¸ä¼šé˜»å¡ onload äº‹ä»¶ã€‚é¢„åŠ è½½å¯ä»¥é™ä½é¦–å±åŠ è½½æ—¶é—´ï¼Œå› ä¸ºå¯ä»¥å°†ä¸€äº›ä¸å½±å“é¦–å±ä½†å¾ˆé‡è¦çš„æ–‡ä»¶å»¶ååŠ è½½ã€‚ é¢„æ¸²æŸ“ 12&lt;link rel&#x3D;&quot;prerender&quot; href&#x3D;&quot;http:&#x2F;&#x2F;example.com&quot;&gt; å¤åˆ¶ä»£ç  é¢„æ¸²æŸ“æ˜¯Chromeä¸­çš„ä¸€é¡¹åŠŸèƒ½ï¼Œå¯ä»¥æ”¹å–„ç”¨æˆ·å¯è§çš„é¡µé¢åŠ è½½æ—¶é—´ã€‚é¢„æ¸²æŸ“ç”±å¼•ç”¨é¡µé¢ä¸­çš„ `` å…ƒç´ è§¦å‘ã€‚ä¸ºé¢„æ¸²æŸ“çš„URLåˆ›å»ºä¸€ä¸ªéšè—é¡µé¢ï¼Œè¯¥é¡µé¢å°†å®Œå…¨åŠ è½½æ‰€æœ‰ç›¸å…³èµ„æºï¼Œä»¥åŠæ‰§è¡Œ JS æ–‡ä»¶ã€‚å¦‚æœç”¨æˆ·è¿›å…¥è¯¥é¡µé¢ï¼Œåˆ™éšè—é¡µé¢å°†è¢«äº¤æ¢åˆ°å½“å‰é€‰é¡¹å¡ä¸­å¹¶ä½¿å…¶å¯è§ã€‚ æ‡’åŠ è½½ &amp;&amp; æ‡’æ‰§è¡Œ æ‡’åŠ è½½ å¤§å¤šæ•°äººåº”è¯¥éƒ½æ¥è§¦è¿‡å›¾ç‰‡æ‡’åŠ è½½ï¼Œå®é™…ä¸Šå°±æ˜¯å°†ä¸å…³é”®çš„èµ„æºå»¶ååŠ è½½ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå½“å›¾ç‰‡æ²¡æœ‰å‡ºç°åœ¨å¯è§†åŒºåŸŸå†…ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆç»Ÿä¸€ç”¨ä¸€å¼ å ä½å›¾æ¥æ˜¾ç¤ºï¼Œå°†çœŸå®çš„ src å­˜å…¥è‡ªå®šä¹‰å±æ€§ä¸­ï¼Œå½“è¿›å…¥åˆ°åˆ°å¯è§†åŒºåŸŸåï¼Œå†æ›¿æ¢ src å±æ€§ã€‚ æ‡’æ‰§è¡Œ å°†æŸäº›æ¯”è¾ƒè€—æ—¶çš„ä¸”ä¸éœ€è¦åœ¨é¦–å±ä¸­ä½¿ç”¨çš„é€»è¾‘å»¶ååˆ°ä½¿ç”¨æ—¶å†è®¡ç®—ï¼Œä¸€èˆ¬ç”¨äºé¦–å±ä¼˜åŒ–ä¸­ã€‚ CDNCDN æ˜¯æŒ‡ä¸€ç»„åˆ†å¸ƒåœ¨å„ä¸ªåœ°åŒºçš„æœåŠ¡å™¨ã€‚è¿™äº›æœåŠ¡å™¨å­˜å‚¨æ•°æ®çš„å‰¯æœ¬ï¼Œå› æ­¤æœåŠ¡å™¨å¯ä»¥æ ¹æ®é‚£äº›æœåŠ¡å™¨è·ç¦»ç”¨æˆ·æœ€è¿‘æ¥æ»¡è¶³æ•°æ®çš„è¯·æ±‚ã€‚CDN é€‚åˆè¢«ç”¨äºå­˜æ”¾é™æ€èµ„æºã€‚ è½¬è½½è‡ªæ˜é‡‘imyjayhttps://juejin.im/post/5ddb6b75f265da7dfb15ec4e","tags":[]},{"title":"æ­£åˆ™è¡¨è¾¾å¼","date":"2019-12-28T03:44:30.334Z","path":"2019/12/28/æ­£åˆ™è¡¨è¾¾å¼/","text":"æ­£åˆ™è¡¨è¾¾å¼ä¸è¦èƒŒæ­£åˆ™è¡¨è¾¾å¼ä¸€ç›´æ˜¯å›°æ‰°å¾ˆå¤šç¨‹åºå‘˜çš„ä¸€é—¨æŠ€æœ¯ï¼Œå½“ç„¶ä¹ŸåŒ…æ‹¬æ›¾ç»çš„æˆ‘ã€‚å¤§å¤šæ•°æ—¶å€™æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­è¦ç”¨åˆ°æŸäº›æ­£åˆ™è¡¨è¾¾å¼çš„æ—¶å€™ï¼Œéƒ½ä¼šæ‰“å¼€è°·æ­Œæˆ–ç™¾åº¦ç›´æ¥æœç´¢ç„¶åæ‹·è´ç²˜è´´ã€‚å½“ä¸‹ä¸€æ¬¡å†é‡åˆ°ç›¸åŒé—®é¢˜çš„æ—¶å€™ï¼ŒåŒæ ·çš„åœºæ™¯åˆå†æ¥ä¸€éã€‚ä½œä¸ºä¸€é—¨ç”¨é€”å¾ˆå¹¿çš„æŠ€æœ¯ï¼Œæˆ‘ç›¸ä¿¡æ·±å…¥ç†è§£æ­£åˆ™è¡¨è¾¾å¼å¹¶èƒ½èä¼šè´¯é€šæ˜¯å€¼å¾—çš„ã€‚æ‰€ä»¥ï¼Œå¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©å¤§å®¶ç†æ¸…æ€è·¯ï¼Œææ‡‚æ­£åˆ™è¡¨è¾¾å¼å„ç§ç¬¦å·ä¹‹é—´çš„å†…åœ¨è”ç³»ï¼Œå½¢æˆçŸ¥è¯†ä½“ç³»ï¼Œå½“ä¸‹æ¬¡å†é‡åˆ°æ­£åˆ™è¡¨è¾¾å¼çš„æ—¶å€™å¯ä»¥ä¸å€ŸåŠ©æœç´¢å¼•æ“ï¼Œè‡ªå·±è§£å†³ã€‚ æ­£åˆ™è¡¨è¾¾å¼åˆ°åº•æ˜¯ä»€ä¹ˆæ­£åˆ™è¡¨è¾¾å¼(Regular Expression)å…¶å®å°±æ˜¯ä¸€é—¨å·¥å…·ï¼Œç›®çš„æ˜¯ä¸ºäº†å­—ç¬¦ä¸²æ¨¡å¼åŒ¹é…ï¼Œä»è€Œå®ç°æœç´¢å’Œæ›¿æ¢åŠŸèƒ½ã€‚å®ƒèµ·æºäºä¸Šä¸ª20ä¸–çºª50å¹´ä»£ç§‘å­¦å®¶åœ¨æ•°å­¦é¢†åŸŸåšçš„ä¸€äº›ç ”ç©¶å·¥ä½œï¼Œåæ¥æ‰è¢«å¼•å…¥åˆ°è®¡ç®—æœºé¢†åŸŸä¸­ã€‚ä»å®ƒçš„å‘½åæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œå®ƒæ˜¯ä¸€ç§ç”¨æ¥æè¿°è§„åˆ™çš„è¡¨è¾¾å¼ã€‚è€Œå®ƒçš„åº•å±‚åŸç†ä¹Ÿååˆ†ç®€å•ï¼Œå°±æ˜¯ä½¿ç”¨çŠ¶æ€æœºçš„æ€æƒ³è¿›è¡Œæ¨¡å¼åŒ¹é…ã€‚å¤§å®¶å¯ä»¥åˆ©ç”¨regexper.comè¿™ä¸ªå·¥å…·å¾ˆå¥½åœ°å¯è§†åŒ–è‡ªå·±å†™çš„æ­£åˆ™è¡¨è¾¾å¼: å¦‚/\\d\\w+/è¿™ä¸ªæ­£åˆ™ç”Ÿæˆçš„çŠ¶æ€æœºå›¾: å¯¹äºå…·ä½“çš„ç®—æ³•å®ç°ï¼Œå¤§å®¶å¦‚æœæ„Ÿå…´è¶£å¯ä»¥é˜…è¯»ã€Šç®—æ³•å¯¼è®ºã€‹ã€‚ ä»å­—ç¬¦å‡ºå‘æˆ‘ä»¬å­¦ä¹ ä¸€ä¸ªç³»ç»ŸåŒ–çš„çŸ¥è¯†ï¼Œä¸€å®šè¦ä»å…¶åŸºç¡€æ„æˆæ¥äº†è§£ã€‚æ­£åˆ™è¡¨è¾¾å¼çš„åŸºæœ¬ç»„æˆå…ƒç´ å¯ä»¥åˆ†ä¸ºï¼šå­—ç¬¦å’Œå…ƒå­—ç¬¦ã€‚å­—ç¬¦å¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯åŸºç¡€çš„è®¡ç®—æœºå­—ç¬¦ç¼–ç ï¼Œé€šå¸¸æ­£åˆ™è¡¨è¾¾å¼é‡Œé¢ä½¿ç”¨çš„å°±æ˜¯æ•°å­—ã€è‹±æ–‡å­—æ¯ã€‚è€Œå…ƒå­—ç¬¦ï¼Œä¹Ÿè¢«ç§°ä¸ºç‰¹æ®Šå­—ç¬¦ï¼Œæ˜¯ä¸€äº›ç”¨æ¥è¡¨ç¤ºç‰¹æ®Šè¯­ä¹‰çš„å­—ç¬¦ã€‚å¦‚^è¡¨ç¤ºé,|è¡¨ç¤ºæˆ–ç­‰ã€‚åˆ©ç”¨è¿™äº›å…ƒå­—ç¬¦ï¼Œæ‰èƒ½æ„é€ å‡ºå¼ºå¤§çš„è¡¨è¾¾å¼æ¨¡å¼(pattern)ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±æ¥ä»è¿™äº›åŸºæœ¬å•ä½å‡ºå‘ï¼Œæ¥å­¦ä¹ ä¸€ä¸‹å¦‚ä½•æ„å»ºæ­£åˆ™è¡¨è¾¾å¼ã€‚ å•ä¸ªå­—ç¬¦æœ€ç®€å•çš„æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥ç”±ç®€å•çš„æ•°å­—å’Œå­—æ¯ç»„æˆï¼Œæ²¡æœ‰ç‰¹æ®Šçš„è¯­ä¹‰ï¼Œçº¯ç²¹å°±æ˜¯ä¸€ä¸€å¯¹åº”çš„å…³ç³»ã€‚å¦‚æƒ³åœ¨â€™appleâ€™è¿™ä¸ªå•è¯é‡Œæ‰¾åˆ°â€˜aâ€™è¿™ä¸ªå­—ç¬¦ï¼Œå°±ç›´æ¥ç”¨/a/è¿™ä¸ªæ­£åˆ™å°±å¯ä»¥äº†ã€‚ ä½†æ˜¯å¦‚æœæƒ³è¦åŒ¹é…ç‰¹æ®Šå­—ç¬¦çš„è¯ï¼Œå°±å¾—è¯·å‡ºæˆ‘ä»¬ç¬¬ä¸€ä¸ªå…ƒå­—ç¬¦\\ï¼Œ å®ƒæ˜¯è½¬ä¹‰å­—ç¬¦å­—ç¬¦ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯è®©å…¶åç»­çš„å­—ç¬¦å¤±å»å…¶æœ¬æ¥çš„å«ä¹‰ã€‚ä¸¾ä¸ªä¾‹å­ï¼š æˆ‘æƒ³åŒ¹é…*è¿™ä¸ªç¬¦å·ï¼Œç”±äº*è¿™ä¸ªç¬¦å·æœ¬èº«æ˜¯ä¸ªç‰¹æ®Šå­—ç¬¦ï¼Œæ‰€ä»¥æˆ‘è¦åˆ©ç”¨è½¬ä¹‰å…ƒå­—ç¬¦\\æ¥è®©å®ƒå¤±å»å…¶æœ¬æ¥çš„å«ä¹‰ï¼š 12&#x2F;\\*&#x2F;å¤åˆ¶ä»£ç  å¦‚æœæœ¬æ¥è¿™ä¸ªå­—ç¬¦ä¸æ˜¯ç‰¹æ®Šå­—ç¬¦ï¼Œä½¿ç”¨è½¬ä¹‰ç¬¦å·å°±ä¼šè®©å®ƒæ‹¥æœ‰ç‰¹æ®Šçš„å«ä¹‰ã€‚æˆ‘ä»¬å¸¸å¸¸éœ€è¦åŒ¹é…ä¸€äº›ç‰¹æ®Šå­—ç¬¦ï¼Œæ¯”å¦‚ç©ºæ ¼ï¼Œåˆ¶è¡¨ç¬¦ï¼Œå›è½¦ï¼Œæ¢è¡Œç­‰, è€Œè¿™äº›å°±éœ€è¦æˆ‘ä»¬ä½¿ç”¨è½¬ä¹‰å­—ç¬¦æ¥åŒ¹é…ã€‚ä¸ºäº†ä¾¿äºè®°å¿†ï¼Œæˆ‘æ•´ç†äº†ä¸‹é¢è¿™ä¸ªè¡¨æ ¼ï¼Œå¹¶é™„ä¸Šè®°å¿†æ–¹å¼ï¼š ç‰¹æ®Šå­—ç¬¦ æ­£åˆ™è¡¨è¾¾å¼ è®°å¿†æ–¹å¼ æ¢è¡Œç¬¦ \\n new line æ¢é¡µç¬¦ \\f form feed å›è½¦ç¬¦ \\r return ç©ºç™½ç¬¦ \\s space åˆ¶è¡¨ç¬¦ \\t tab å‚ç›´åˆ¶è¡¨ç¬¦ \\v vertical tab å›é€€ç¬¦ [\\b] backspace,ä¹‹æ‰€ä»¥ä½¿ç”¨[]ç¬¦å·æ˜¯é¿å…å’Œ\\bé‡å¤ å¤šä¸ªå­—ç¬¦å•ä¸ªå­—ç¬¦çš„æ˜ å°„å…³ç³»æ˜¯ä¸€å¯¹ä¸€çš„ï¼Œå³æ­£åˆ™è¡¨è¾¾å¼çš„è¢«ç”¨æ¥ç­›é€‰åŒ¹é…çš„å­—ç¬¦åªæœ‰ä¸€ä¸ªã€‚è€Œè¿™æ˜¾ç„¶æ˜¯ä¸å¤Ÿçš„ï¼Œåªè¦å¼•å…¥é›†åˆåŒºé—´å’Œé€šé…ç¬¦çš„æ–¹å¼å°±å¯ä»¥å®ç°ä¸€å¯¹å¤šçš„åŒ¹é…äº†ã€‚ åœ¨æ­£åˆ™è¡¨è¾¾å¼é‡Œï¼Œé›†åˆçš„å®šä¹‰æ–¹å¼æ˜¯ä½¿ç”¨ä¸­æ‹¬å·[å’Œ]ã€‚å¦‚/[123]/è¿™ä¸ªæ­£åˆ™å°±èƒ½åŒæ—¶åŒ¹é…1,2,3ä¸‰ä¸ªå­—ç¬¦ã€‚é‚£å¦‚æœæˆ‘æƒ³åŒ¹é…æ‰€æœ‰çš„æ•°å­—æ€ä¹ˆåŠå‘¢ï¼Ÿä»0å†™åˆ°9æ˜¾ç„¶å¤ªè¿‡ä½æ•ˆï¼Œæ‰€ä»¥å…ƒå­—ç¬¦-å°±å¯ä»¥ç”¨æ¥è¡¨ç¤ºåŒºé—´èŒƒå›´ï¼Œåˆ©ç”¨/[0-9]/å°±èƒ½åŒ¹é…æ‰€æœ‰çš„æ•°å­—, /[a-z]/åˆ™å¯ä»¥åŒ¹é…æ‰€æœ‰çš„è‹±æ–‡å°å†™å­—æ¯ã€‚ å³ä¾¿æœ‰äº†é›†åˆå’ŒåŒºé—´çš„å®šä¹‰æ–¹å¼ï¼Œå¦‚æœè¦åŒæ—¶åŒ¹é…å¤šä¸ªå­—ç¬¦ä¹Ÿè¿˜æ˜¯è¦ä¸€ä¸€åˆ—ä¸¾ï¼Œè¿™æ˜¯ä½æ•ˆçš„ã€‚æ‰€ä»¥åœ¨æ­£åˆ™è¡¨è¾¾å¼é‡Œè¡ç”Ÿäº†ä¸€æ‰¹ç”¨æ¥åŒæ—¶åŒ¹é…å¤šä¸ªå­—ç¬¦çš„ç®€ä¾¿æ­£åˆ™è¡¨è¾¾å¼: åŒ¹é…åŒºé—´ æ­£åˆ™è¡¨è¾¾å¼ è®°å¿†æ–¹å¼ é™¤äº†æ¢è¡Œç¬¦ä¹‹å¤–çš„ä»»ä½•å­—ç¬¦ . å¥å·,é™¤äº†å¥å­ç»“æŸç¬¦ å•ä¸ªæ•°å­—, [0-9] \\d digit é™¤äº†[0-9] \\D not digit åŒ…æ‹¬ä¸‹åˆ’çº¿åœ¨å†…çš„å•ä¸ªå­—ç¬¦ï¼Œ[A-Za-z0-9_] \\w word éå•å­—å­—ç¬¦ \\W not word åŒ¹é…ç©ºç™½å­—ç¬¦,åŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦å’Œæ¢è¡Œç¬¦ \\s space åŒ¹é…éç©ºç™½å­—ç¬¦ \\S not space å¾ªç¯ä¸é‡å¤ä¸€å¯¹ä¸€å’Œä¸€å¯¹å¤šçš„å­—ç¬¦åŒ¹é…éƒ½è®²å®Œäº†ã€‚æ¥ä¸‹æ¥ï¼Œå°±è¯¥ä»‹ç»å¦‚ä½•åŒæ—¶åŒ¹é…å¤šä¸ªå­—ç¬¦ã€‚è¦å®ç°å¤šä¸ªå­—ç¬¦çš„åŒ¹é…æˆ‘ä»¬åªè¦å¤šæ¬¡å¾ªç¯ï¼Œé‡å¤ä½¿ç”¨æˆ‘ä»¬çš„ä¹‹å‰çš„æ­£åˆ™è§„åˆ™å°±å¯ä»¥äº†ã€‚é‚£ä¹ˆæ ¹æ®å¾ªç¯æ¬¡æ•°çš„å¤šä¸å°‘ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†ä¸º0æ¬¡ï¼Œ1æ¬¡ï¼Œå¤šæ¬¡ï¼Œç‰¹å®šæ¬¡ã€‚ 0 | 1å…ƒå­—ç¬¦?ä»£è¡¨äº†åŒ¹é…ä¸€ä¸ªå­—ç¬¦æˆ–0ä¸ªå­—ç¬¦ã€‚è®¾æƒ³ä¸€ä¸‹ï¼Œå¦‚æœä½ è¦åŒ¹é…colorå’Œcolourè¿™ä¸¤ä¸ªå•è¯ï¼Œå°±éœ€è¦åŒæ—¶ä¿è¯uè¿™ä¸ªå­—ç¬¦æ˜¯å¦å‡ºç°éƒ½èƒ½è¢«åŒ¹é…åˆ°ã€‚æ‰€ä»¥ä½ çš„æ­£åˆ™è¡¨è¾¾å¼åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š/colou?r/ã€‚ &gt;= 0å…ƒå­—ç¬¦*ç”¨æ¥è¡¨ç¤ºåŒ¹é…0ä¸ªå­—ç¬¦æˆ–æ— æ•°ä¸ªå­—ç¬¦ã€‚é€šå¸¸ç”¨æ¥è¿‡æ»¤æŸäº›å¯æœ‰å¯æ— çš„å­—ç¬¦ä¸²ã€‚ &gt;= 1å…ƒå­—ç¬¦+é€‚ç”¨äºè¦åŒ¹é…åŒä¸ªå­—ç¬¦å‡ºç°1æ¬¡æˆ–å¤šæ¬¡çš„æƒ…å†µã€‚ ç‰¹å®šæ¬¡æ•°åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦åŒ¹é…ç‰¹å®šçš„é‡å¤æ¬¡æ•°ï¼Œå…ƒå­—ç¬¦{å’Œ}ç”¨æ¥ç»™é‡å¤åŒ¹é…è®¾ç½®ç²¾ç¡®çš„åŒºé—´èŒƒå›´ã€‚å¦‚â€™aâ€™æˆ‘æƒ³åŒ¹é…3æ¬¡,é‚£ä¹ˆæˆ‘å°±ä½¿ç”¨/a{3}/è¿™ä¸ªæ­£åˆ™ï¼Œæˆ–è€…è¯´â€™aâ€™æˆ‘æƒ³åŒ¹é…è‡³å°‘ä¸¤æ¬¡å°±æ˜¯ç”¨/a{2,}/è¿™ä¸ªæ­£åˆ™ã€‚ ä»¥ä¸‹æ˜¯å®Œæ•´çš„è¯­æ³•ï¼š 12345678- &#123;x&#125;: xæ¬¡- &#123;min, max&#125;ï¼š ä»‹äºminæ¬¡åˆ°maxæ¬¡ä¹‹é—´- &#123;min, &#125;: è‡³å°‘minæ¬¡- &#123;0, max&#125;ï¼š è‡³å¤šmaxæ¬¡å¤åˆ¶ä»£ç  ç”±äºè¿™äº›å…ƒå­—ç¬¦æ¯”è¾ƒæŠ½è±¡ï¼Œä¸”å®¹æ˜“æ··æ·†ï¼Œæ‰€ä»¥æˆ‘ç”¨äº†è”æƒ³è®°å¿†çš„æ–¹å¼ç¼–äº†å£è¯€èƒ½ä¿è¯åœ¨ç”¨åˆ°çš„æ—¶å€™å°±èƒ½å›å¿†èµ·æ¥ã€‚ åŒ¹é…è§„åˆ™ å…ƒå­—ç¬¦ è”æƒ³æ–¹å¼ 0æ¬¡æˆ–1æ¬¡ ? ä¸”é—®,æ­¤äº‹æœ‰è¿˜æ—  0æ¬¡æˆ–æ— æ•°æ¬¡ * å®‡å®™æ´ªè’,è¾°å®¿åˆ—å¼ ï¼šå®‡å®™ä¼Šå§‹ï¼Œä»æ— åˆ°æœ‰ï¼Œæœ€åæ˜Ÿå®¿å¸ƒæ»¡æ˜Ÿç©º 1æ¬¡æˆ–æ— æ•°æ¬¡ + ä¸€åŠ , +1 ç‰¹å®šæ¬¡æ•° {x}, {min, max} å¯ä»¥æƒ³è±¡æˆä¸€ä¸ªæ•°è½´ï¼Œä»ä¸€ä¸ªç‚¹ï¼Œåˆ°ä¸€ä¸ªå°„çº¿å†åˆ°çº¿æ®µã€‚minå’Œmaxåˆ†åˆ«è¡¨ç¤ºäº†å·¦é—­å³é—­åŒºé—´çš„å·¦ç•Œå’Œå³ç•Œ ä½ç½®è¾¹ç•Œä¸Šé¢æˆ‘ä»¬æŠŠå­—ç¬¦çš„åŒ¹é…éƒ½ä»‹ç»å®Œäº†ï¼Œæ¥ç€æˆ‘ä»¬è¿˜éœ€è¦ä½ç½®è¾¹ç•Œçš„åŒ¹é…ã€‚åœ¨é•¿æ–‡æœ¬å­—ç¬¦ä¸²æŸ¥æ‰¾è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸éœ€è¦é™åˆ¶æŸ¥è¯¢çš„ä½ç½®ã€‚æ¯”å¦‚æˆ‘åªæƒ³åœ¨å•è¯çš„å¼€å¤´ç»“å°¾æŸ¥æ‰¾ã€‚ å•è¯è¾¹ç•Œå•è¯æ˜¯æ„æˆå¥å­å’Œæ–‡ç« çš„åŸºæœ¬å•ä½ï¼Œä¸€ä¸ªå¸¸è§çš„ä½¿ç”¨åœºæ™¯æ˜¯æŠŠæ–‡ç« æˆ–å¥å­ä¸­çš„ç‰¹å®šå•è¯æ‰¾å‡ºæ¥ã€‚å¦‚ï¼š 12The cat scattered his food all over the room.å¤åˆ¶ä»£ç  æˆ‘æƒ³æ‰¾åˆ°catè¿™ä¸ªå•è¯ï¼Œä½†æ˜¯å¦‚æœåªæ˜¯ä½¿ç”¨/cat/è¿™ä¸ªæ­£åˆ™ï¼Œå°±ä¼šåŒæ—¶åŒ¹é…åˆ°catå’Œscatteredè¿™ä¸¤å¤„æ–‡æœ¬ã€‚è¿™æ—¶å€™æˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨è¾¹ç•Œæ­£åˆ™è¡¨è¾¾å¼\\bï¼Œå…¶ä¸­bæ˜¯boundaryçš„é¦–å­—æ¯ã€‚åœ¨æ­£åˆ™å¼•æ“é‡Œå®ƒå…¶å®åŒ¹é…çš„æ˜¯èƒ½æ„æˆå•è¯çš„å­—ç¬¦(\\w)å’Œä¸èƒ½æ„æˆå•è¯çš„å­—ç¬¦(\\W)ä¸­é—´çš„é‚£ä¸ªä½ç½®ã€‚ ä¸Šé¢çš„ä¾‹å­æ”¹å†™æˆ/\\bcat\\b/è¿™æ ·å°±èƒ½åŒ¹é…åˆ°catè¿™ä¸ªå•è¯äº†ã€‚ å­—ç¬¦ä¸²è¾¹ç•ŒåŒ¹é…å®Œå•è¯ï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸‹ä¸€æ•´ä¸ªå­—ç¬¦ä¸²çš„è¾¹ç•Œæ€ä¹ˆåŒ¹é…ã€‚å…ƒå­—ç¬¦^ç”¨æ¥åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å¤´ã€‚è€Œå…ƒå­—ç¬¦$ç”¨æ¥åŒ¹é…å­—ç¬¦ä¸²çš„æœ«å°¾ã€‚æ³¨æ„çš„æ˜¯åœ¨é•¿æ–‡æœ¬é‡Œï¼Œå¦‚æœè¦æ’é™¤æ¢è¡Œç¬¦çš„å¹²æ‰°ï¼Œæˆ‘ä»¬è¦ä½¿ç”¨å¤šè¡Œæ¨¡å¼ã€‚è¯•ç€åŒ¹é…I am scq000è¿™ä¸ªå¥å­ï¼š 1234I am scq000.I am scq000.I am scq000.å¤åˆ¶ä»£ç  æˆ‘ä»¬å¯ä»¥ä½¿ç”¨/^I am scq000\\.$/mè¿™æ ·çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå…¶å®mæ˜¯multiple lineçš„é¦–å­—æ¯ã€‚æ­£åˆ™é‡Œé¢çš„æ¨¡å¼é™¤äº†må¤–æ¯”è¾ƒå¸¸ç”¨çš„è¿˜æœ‰iå’Œgã€‚å‰è€…çš„æ„æ€æ˜¯å¿½ç•¥å¤§å°å†™ï¼Œåè€…çš„æ„æ€æ˜¯æ‰¾åˆ°æ‰€æœ‰ç¬¦åˆçš„åŒ¹é…ã€‚ æœ€åï¼Œæ€»ç»“ä¸€ä¸‹ï¼š è¾¹ç•Œå’Œæ ‡å¿— æ­£åˆ™è¡¨è¾¾å¼ è®°å¿†æ–¹å¼ å•è¯è¾¹ç•Œ \\b boundary éå•è¯è¾¹ç•Œ \\B not boundary å­—ç¬¦ä¸²å¼€å¤´ ^ å°å¤´å°–å°–é‚£ä¹ˆå¤§ä¸ª å­—ç¬¦ä¸²ç»“å°¾ $ ç»ˆç»“è€…ï¼Œç¾å›½ç§‘å¹»ç”µå½±ï¼Œç¾å…ƒç¬¦$ å¤šè¡Œæ¨¡å¼ mæ ‡å¿— multiple of lines å¿½ç•¥å¤§å°å†™ iæ ‡å¿— ignore case, case-insensitive å…¨å±€æ¨¡å¼ gæ ‡å¿— global å­è¡¨è¾¾å¼å­—ç¬¦åŒ¹é…æˆ‘ä»¬ä»‹ç»çš„å·®ä¸å¤šäº†ï¼Œæ›´åŠ é«˜çº§çš„ç”¨æ³•å°±å¾—ç”¨åˆ°å­è¡¨è¾¾å¼äº†ã€‚é€šè¿‡åµŒå¥—é€’å½’å’Œè‡ªèº«å¼•ç”¨å¯ä»¥è®©æ­£åˆ™å‘æŒ¥æ›´å¼ºå¤§çš„åŠŸèƒ½ã€‚ ä»ç®€å•åˆ°å¤æ‚çš„æ­£åˆ™è¡¨è¾¾å¼æ¼”å˜é€šå¸¸è¦é‡‡ç”¨åˆ†ç»„ã€å›æº¯å¼•ç”¨å’Œé€»è¾‘å¤„ç†çš„æ€æƒ³ã€‚åˆ©ç”¨è¿™ä¸‰ç§è§„åˆ™ï¼Œå¯ä»¥æ¨æ¼”å‡ºæ— é™å¤æ‚çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚ åˆ†ç»„å…¶ä¸­åˆ†ç»„ä½“ç°åœ¨ï¼šæ‰€æœ‰ä»¥(å’Œ)å…ƒå­—ç¬¦æ‰€åŒ…å«çš„æ­£åˆ™è¡¨è¾¾å¼è¢«åˆ†ä¸ºä¸€ç»„ï¼Œæ¯ä¸€ä¸ªåˆ†ç»„éƒ½æ˜¯ä¸€ä¸ªå­è¡¨è¾¾å¼ï¼Œå®ƒä¹Ÿæ˜¯æ„æˆé«˜çº§æ­£åˆ™è¡¨è¾¾å¼çš„åŸºç¡€ã€‚å¦‚æœåªæ˜¯ä½¿ç”¨ç®€å•çš„(regex)åŒ¹é…è¯­æ³•æœ¬è´¨ä¸Šå’Œä¸åˆ†ç»„æ˜¯ä¸€æ ·çš„ï¼Œå¦‚æœè¦å‘æŒ¥å®ƒå¼ºå¤§çš„ä½œç”¨ï¼Œå¾€å¾€è¦ç»“åˆå›æº¯å¼•ç”¨çš„æ–¹å¼ã€‚ å›æº¯å¼•ç”¨æ‰€è°“å›æº¯å¼•ç”¨ï¼ˆbackreferenceï¼‰æŒ‡çš„æ˜¯æ¨¡å¼çš„åé¢éƒ¨åˆ†å¼•ç”¨å‰é¢å·²ç»åŒ¹é…åˆ°çš„å­å­—ç¬¦ä¸²ã€‚ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆæ˜¯å˜é‡ï¼Œå›æº¯å¼•ç”¨çš„è¯­æ³•åƒ\\1,\\2,â€¦.,å…¶ä¸­\\1è¡¨ç¤ºå¼•ç”¨çš„ç¬¬ä¸€ä¸ªå­è¡¨è¾¾å¼ï¼Œ\\2è¡¨ç¤ºå¼•ç”¨çš„ç¬¬äºŒä¸ªå­è¡¨è¾¾å¼ï¼Œä»¥æ­¤ç±»æ¨ã€‚è€Œ\\0åˆ™è¡¨ç¤ºæ•´ä¸ªè¡¨è¾¾å¼ã€‚ å‡è®¾ç°åœ¨è¦åœ¨ä¸‹é¢è¿™ä¸ªæ–‡æœ¬é‡ŒåŒ¹é…ä¸¤ä¸ªè¿ç»­ç›¸åŒçš„å•è¯ï¼Œä½ è¦æ€ä¹ˆåšå‘¢ï¼Ÿ 12Hello what what is the first thing, and I am am scq000.å¤åˆ¶ä»£ç  åˆ©ç”¨å›æº¯å¼•ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°å†™å‡º\\b(\\w+)\\s\\1è¿™æ ·çš„æ­£åˆ™ã€‚ å›æº¯å¼•ç”¨åœ¨æ›¿æ¢å­—ç¬¦ä¸²ä¸­ååˆ†å¸¸ç”¨ï¼Œè¯­æ³•ä¸Šæœ‰äº›è®¸åŒºåˆ«ï¼Œç”¨$1,$2â€¦æ¥å¼•ç”¨è¦è¢«æ›¿æ¢çš„å­—ç¬¦ä¸²ã€‚ä¸‹é¢ä»¥jsä»£ç ä½œæ¼”ç¤ºï¼š 1234var str &#x3D; &#39;abc abc 123&#39;;str.replace(&#x2F;(ab)c&#x2F;g,&#39;$1g&#39;);&#x2F;&#x2F; å¾—åˆ°ç»“æœ &#39;abg abg 123&#39;å¤åˆ¶ä»£ç  å¦‚æœæˆ‘ä»¬ä¸æƒ³å­è¡¨è¾¾å¼è¢«å¼•ç”¨ï¼Œå¯ä»¥ä½¿ç”¨éæ•è·æ­£åˆ™(?:regex)è¿™æ ·å°±å¯ä»¥é¿å…æµªè´¹å†…å­˜ã€‚ 12345var str &#x3D; &#39;scq000&#39;.str.replace(&#x2F;(scq00)(?:0)&#x2F;, &#39;$1,$2&#39;)&#x2F;&#x2F; è¿”å›scq00,$2&#x2F;&#x2F; ç”±äºä½¿ç”¨äº†éæ•è·æ­£åˆ™ï¼Œæ‰€ä»¥ç¬¬äºŒä¸ªå¼•ç”¨æ²¡æœ‰å€¼ï¼Œè¿™é‡Œç›´æ¥æ›¿æ¢ä¸º$2å¤åˆ¶ä»£ç  æœ‰æ—¶ï¼Œæˆ‘ä»¬éœ€è¦é™åˆ¶å›æº¯å¼•ç”¨çš„é€‚ç”¨èŒƒå›´ã€‚é‚£ä¹ˆé€šè¿‡å‰å‘æŸ¥æ‰¾å’Œåå‘æŸ¥æ‰¾å°±å¯ä»¥è¾¾åˆ°è¿™ä¸ªç›®çš„ã€‚ å‰å‘æŸ¥æ‰¾å‰å‘æŸ¥æ‰¾(lookahead)æ˜¯ç”¨æ¥é™åˆ¶åç¼€çš„ã€‚å‡¡æ˜¯ä»¥(?=regex)åŒ…å«çš„å­è¡¨è¾¾å¼åœ¨åŒ¹é…è¿‡ç¨‹ä¸­éƒ½ä¼šç”¨æ¥é™åˆ¶å‰é¢çš„è¡¨è¾¾å¼çš„åŒ¹é…ã€‚ä¾‹å¦‚happy happilyè¿™ä¸¤ä¸ªå•è¯ï¼Œæˆ‘æƒ³è·å¾—ä»¥happå¼€å¤´çš„å‰¯è¯ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨happ(?=ily)æ¥åŒ¹é…ã€‚å¦‚æœæˆ‘æƒ³è¿‡æ»¤æ‰€æœ‰ä»¥happå¼€å¤´çš„å‰¯è¯ï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥é‡‡ç”¨è´Ÿå‰å‘æŸ¥æ‰¾çš„æ­£åˆ™happ(?!ily)ï¼Œå°±ä¼šåŒ¹é…åˆ°happyå•è¯çš„happå‰ç¼€ã€‚ åå‘æŸ¥æ‰¾ä»‹ç»å®Œå‰å‘æŸ¥æ‰¾ï¼Œæ¥ç€æˆ‘ä»¬å†æ¥ä»‹ç»ä¸€ä¸‹å®ƒçš„åå‘æ“ä½œï¼šåå‘æŸ¥æ‰¾(lookbehind)ã€‚åå‘æŸ¥æ‰¾(lookbehind)æ˜¯é€šè¿‡æŒ‡å®šä¸€ä¸ªå­è¡¨è¾¾å¼ï¼Œç„¶åä»ç¬¦åˆè¿™ä¸ªå­è¡¨è¾¾å¼çš„ä½ç½®å‡ºå‘å¼€å§‹æŸ¥æ‰¾ç¬¦åˆè§„åˆ™çš„å­—ä¸²ã€‚ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼š appleå’Œpeopleéƒ½åŒ…å«pleè¿™ä¸ªåç¼€ï¼Œé‚£ä¹ˆå¦‚æœæˆ‘åªæƒ³æ‰¾åˆ°appleçš„pleï¼Œè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥é€šè¿‡é™åˆ¶appè¿™ä¸ªå‰ç¼€ï¼Œå°±èƒ½å”¯ä¸€ç¡®å®špleè¿™ä¸ªå•è¯äº†ã€‚ 12&#x2F;(?&lt;&#x3D;app)ple&#x2F;å¤åˆ¶ä»£ç  å…¶ä¸­(?&lt;=regex)çš„è¯­æ³•å°±æ˜¯æˆ‘ä»¬è¿™é‡Œè¦ä»‹ç»çš„åå‘æŸ¥æ‰¾ã€‚regexæŒ‡ä»£çš„å­è¡¨è¾¾å¼ä¼šä½œä¸ºé™åˆ¶é¡¹è¿›è¡ŒåŒ¹é…ï¼ŒåŒ¹é…åˆ°è¿™ä¸ªå­è¡¨è¾¾å¼åï¼Œå°±ä¼šç»§ç»­å‘åæŸ¥æ‰¾ã€‚å¦å¤–ä¸€ç§é™åˆ¶åŒ¹é…æ˜¯åˆ©ç”¨(? è¯­æ³•ï¼Œè¿™é‡Œç§°ä¸º**è´Ÿåå‘æŸ¥æ‰¾**ã€‚ä¸æ­£å‰å‘æŸ¥æ‰¾ä¸åŒçš„æ˜¯ï¼Œè¢«æŒ‡å®šçš„å­è¡¨è¾¾å¼ä¸èƒ½è¢«åŒ¹é…åˆ°ã€‚äºæ˜¯ï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¦‚æœæƒ³è¦æŸ¥æ‰¾appleçš„pleä¹Ÿå¯ä»¥è¿™ä¹ˆå†™æˆ/(?ã€‚ éœ€è¦æ³¨æ„çš„ï¼Œä¸æ˜¯æ¯ç§æ­£åˆ™å®ç°éƒ½æ”¯æŒåå‘æŸ¥æ‰¾ã€‚åœ¨javascriptä¸­æ˜¯ä¸æ”¯æŒçš„ï¼Œæ‰€ä»¥å¦‚æœæœ‰ç”¨åˆ°åå‘æŸ¥æ‰¾çš„æƒ…å†µï¼Œæœ‰ä¸€ä¸ªæ€è·¯æ˜¯å°†å­—ç¬¦ä¸²è¿›è¡Œç¿»è½¬ï¼Œç„¶åå†ä½¿ç”¨å‰å‘æŸ¥æ‰¾ï¼Œä½œå®Œå¤„ç†åå†ç¿»è½¬å›æ¥ã€‚çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š 1234&#x2F;&#x2F; æ¯”å¦‚æˆ‘æƒ³æ›¿æ¢appleçš„pleä¸ºplyvar str &#x3D; &#39;apple people&#39;;str.split(&#39;&#39;).reverse().join(&#39;&#39;).replace(&#x2F;elp(?&#x3D;pa)&#x2F;, &#39;ylp&#39;).split(&#39;&#39;).reverse().join(&#39;&#39;);å¤åˆ¶ä»£ç  ps: æ„Ÿè°¢è¯„è®ºåŒºæé†’ï¼Œä»es2018ä¹‹åï¼Œchromeä¸­çš„æ­£åˆ™è¡¨è¾¾å¼ä¹Ÿæ”¯æŒåå‘æŸ¥æ‰¾äº†ã€‚ä¸è¿‡ï¼Œåœ¨å®é™…é¡¹ç›®ä¸­è¿˜éœ€è¦æ³¨æ„å¯¹æ—§æµè§ˆå™¨çš„æ”¯æŒï¼Œä»¥é˜²çº¿ä¸Šå‡ºç°Bugã€‚è¯¦æƒ…è¯·æŸ¥çœ‹http://kangax.github.io/compat-table/es2016plus/#test-RegExp_Lookbehind_Assertions æœ€åå›é¡¾ä¸€ä¸‹è¿™éƒ¨åˆ†å†…å®¹ï¼š å›æº¯æŸ¥æ‰¾ æ­£åˆ™ è®°å¿†æ–¹å¼ å¼•ç”¨ \\0,\\1,\\2 å’Œ $0, $1, $2 è½¬ä¹‰+æ•°å­— éæ•è·ç»„ (?:) å¼•ç”¨è¡¨è¾¾å¼(()), æœ¬èº«ä¸è¢«æ¶ˆè´¹(?),å¼•ç”¨(:) å‰å‘æŸ¥æ‰¾ (?=) å¼•ç”¨å­è¡¨è¾¾å¼(())ï¼Œæœ¬èº«ä¸è¢«æ¶ˆè´¹(?), æ­£å‘çš„æŸ¥æ‰¾(=) å‰å‘è´ŸæŸ¥æ‰¾ (?!) å¼•ç”¨å­è¡¨è¾¾å¼(())ï¼Œæœ¬èº«ä¸è¢«æ¶ˆè´¹(?), è´Ÿå‘çš„æŸ¥æ‰¾(!) åå‘æŸ¥æ‰¾ (?&lt;=) å¼•ç”¨å­è¡¨è¾¾å¼(())ï¼Œæœ¬èº«ä¸è¢«æ¶ˆè´¹(?), åå‘çš„(&lt;ï¼Œå¼€å£å¾€å)ï¼Œæ­£çš„æŸ¥æ‰¾(=) åå‘è´ŸæŸ¥æ‰¾ (?&lt;!) å¼•ç”¨å­è¡¨è¾¾å¼(())ï¼Œæœ¬èº«ä¸è¢«æ¶ˆè´¹(?), åå‘çš„(&lt;ï¼Œå¼€å£å¾€å)ï¼Œè´Ÿçš„æŸ¥æ‰¾(!) é€»è¾‘å¤„ç†è®¡ç®—æœºç§‘å­¦å°±æ˜¯ä¸€é—¨åŒ…å«é€»è¾‘çš„ç§‘å­¦ã€‚è®©æˆ‘ä»¬å›å¿†ä¸€ä¸‹ç¼–ç¨‹è¯­è¨€å½“ä¸­ç”¨åˆ°çš„ä¸‰ç§é€»è¾‘å…³ç³»ï¼Œä¸æˆ–éã€‚ åœ¨æ­£åˆ™é‡Œé¢ï¼Œé»˜è®¤çš„æ­£åˆ™è§„åˆ™éƒ½æ˜¯ä¸çš„å…³ç³»æ‰€ä»¥è¿™é‡Œä¸è®¨è®ºã€‚ è€Œéå…³ç³»ï¼Œåˆ†ä¸ºä¸¤ç§æƒ…å†µï¼šä¸€ç§æ˜¯å­—ç¬¦åŒ¹é…ï¼Œå¦ä¸€ç§æ˜¯å­è¡¨è¾¾å¼åŒ¹é…ã€‚åœ¨å­—ç¬¦åŒ¹é…çš„æ—¶å€™ï¼Œéœ€è¦ä½¿ç”¨^è¿™ä¸ªå…ƒå­—ç¬¦ã€‚åœ¨è¿™é‡Œè¦ç€é‡è®°å¿†ä¸€ä¸‹ï¼šåªæœ‰åœ¨[å’Œ]å†…éƒ¨ä½¿ç”¨çš„^æ‰è¡¨ç¤ºéçš„å…³ç³»ã€‚å­è¡¨è¾¾å¼åŒ¹é…çš„éå…³ç³»å°±è¦ç”¨åˆ°å‰é¢ä»‹ç»çš„å‰å‘è´ŸæŸ¥æ‰¾å­è¡¨è¾¾å¼(?!regex)æˆ–åå‘è´ŸæŸ¥æ‰¾å­è¡¨è¾¾å¼`(?ã€‚ æˆ–å…³ç³»ï¼Œé€šå¸¸ç»™å­è¡¨è¾¾å¼è¿›è¡Œå½’ç±»ä½¿ç”¨ã€‚æ¯”å¦‚ï¼Œæˆ‘åŒæ—¶åŒ¹é…a,bä¸¤ç§æƒ…å†µå°±å¯ä»¥ä½¿ç”¨(a|b)è¿™æ ·çš„å­è¡¨è¾¾å¼ã€‚ é€»è¾‘å…³ç³» æ­£åˆ™å…ƒå­—ç¬¦ ä¸ æ—  é [^regex]å’Œ! æˆ– | æ€»ç»“å¯¹äºæ­£åˆ™æ¥è¯´ï¼Œç¬¦å·ä¹‹æŠ½è±¡å¾€å¾€è®©å¾ˆå¤šç¨‹åºå‘˜å´æ­¥ã€‚é’ˆå¯¹ä¸å¥½è®°å¿†çš„ç‰¹ç‚¹ï¼Œæˆ‘é€šè¿‡åˆ†ç±»å’Œè”æƒ³çš„æ–¹å¼åŠªåŠ›è®©å…¶å˜å¾—æœ‰æ„ä¹‰ã€‚æˆ‘ä»¬å…ˆä»ä¸€å¯¹ä¸€çš„å•å­—ç¬¦ï¼Œå†åˆ°å¤šå¯¹å¤šçš„å­å­—ç¬¦ä¸²ä»‹ç»ï¼Œç„¶åé€šè¿‡åˆ†ç»„ã€å›æº¯å¼•ç”¨å’Œé€»è¾‘å¤„ç†çš„æ–¹å¼æ¥æ„å»ºé«˜çº§çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚ åœ¨æœ€åï¼Œå‡ºä¸ªå¸¸ç”¨çš„æ­£åˆ™é¢è¯•é¢˜å§ï¼šè¯·å†™å‡ºä¸€ä¸ªæ­£åˆ™æ¥å¤„ç†æ•°å­—åƒåˆ†ä½ï¼Œå¦‚12345æ›¿æ¢ä¸º12,345ã€‚è¯·å°è¯•è‡ªå·±æ¨ç†æ¼”ç»å¾—å‡ºç­”æ¡ˆï¼Œè€Œä¸æ˜¯ä¾é æœç´¢å¼•æ“:)ã€‚ è½¬è½½è‡ªæ˜é‡‘ scq000 https://juejin.im/post/5cdcd42551882568651554e6#heading-18","tags":[]},{"title":"å‰ç«¯èŒæ–°çœ¼ä¸­çš„PromiseåŠä½¿ç”¨","date":"2019-12-27T08:24:42.691Z","path":"2019/12/27/å‰ç«¯èŒæ–°çœ¼ä¸­çš„PromiseåŠä½¿ç”¨/","text":"å‰ç«¯èŒæ–°çœ¼ä¸­çš„PromiseåŠä½¿ç”¨ ä¸€ä¸ª Promise å°±æ˜¯ä¸€ä¸ªä»£è¡¨äº†å¼‚æ­¥æ“ä½œæœ€ç»ˆå®Œæˆæˆ–è€…å¤±è´¥çš„å¯¹è±¡ã€‚è¿™æ˜¯MDNä¸Šå…³äºPromiseçš„è§£é‡Šã€‚åœ¨å‰ç«¯å¼€å‘ä¸­ï¼ŒPromiseç»å¸¸è¢«æ‹¿æ¥ç”¨äºå¤„ç†å¼‚æ­¥å’Œå›è°ƒçš„é—®é¢˜ï¼Œæ¥è§„é¿å›è°ƒåœ°ç‹±å’Œæ›´å¥½æ’å¸ƒå¼‚æ­¥ç›¸å…³çš„ä»£ç ã€‚æœ¬ç¯‡æ–‡ç« å¯¹äºPromiseä»¥åŠç›¸å…³çš„async/awaitè®°å½•ä¸€äº›è‡ªå·±çš„ç†è§£å’Œä½“ä¼šã€‚ ä¸€ã€Promiseçš„ä¸‰ç§çŠ¶æ€ä»å­—é¢çš„æ„æ€ç†è§£ï¼ŒPromiseå³æ˜¯æ‰¿è¯ºï¼Œæ—¢æ˜¯æ‰¿è¯ºï¼Œé‚£æ‰¿è¯ºçš„ç»“æœå°±ä¼šæœ‰æˆåŠŸå’Œå¤±è´¥ä¸¤ç§ã€‚è€Œä¸”ï¼Œæˆ‘ä»¬è®¸ä¸‹æ‰¿è¯ºä¹‹åä¸ä¼šç«‹å³å¾—åˆ°ç»“æœï¼Œåœ¨è·å¾—æˆåŠŸæˆ–æ˜¯å¤±è´¥çš„ç»“æœä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€ç‚¹æ—¶é—´æ¥å±¥è¡Œè¿™ä¸ªæ‰¿è¯ºã€‚Promiseçš„æ„é€ å…¶å®åƒæäº†æˆ‘ä»¬ç”Ÿæ´»ä¸­çš„æ‰¿è¯ºã€‚ ä¸Šé¢è¿™å¼ å›¾å°±æ˜¯Promiseçš„ç»“æ„å›¾ã€‚å°±åƒæˆ‘ä»¬ç”Ÿæ´»ä¸­çš„æ‰¿è¯ºä¸€æ ·ï¼ŒPromiseä¹Ÿå­˜åœ¨ä¸‰ç§çŠ¶æ€,ä¸€ç§æ˜¯å±¥è¡Œæ‰¿è¯ºçš„pendingçŠ¶æ€ï¼Œä¸€ç§æ˜¯æ‰¿è¯ºå¤±è´¥æ—¶çš„RejectedçŠ¶æ€ï¼Œå†å°±æ˜¯æ‰¿è¯ºæˆåŠŸæ—¶FullfilledçŠ¶æ€ã€‚ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä»¥çˆ±æƒ…çš„åä¹‰æ¥æ‰¿è¯ºä¸€ä¸‹ï¼š 12345678910111213141516171819let love &#x3D; new Promise((resolve, reject) &#x3D;&gt; &#123; setTimeout(() &#x3D;&gt; &#123; &#x2F;&#x2F;å¼€å§‹è°ˆæ‹çˆ±ï¼Œä¸è¿‡æ‹çˆ±çš„ç»“æœè¦ä»¥åæ‰çŸ¥é“ let happy &#x3D; Math.random() &gt;&#x3D; 0.3 ? true : false if ( happy ) &#123; resolve(&#39;marry&#39;) &#x2F;&#x2F;æ‹çˆ±æˆåŠŸï¼Œå†³å®šç»“å©š &#125; else &#123; reject(&#39;break&#39;) &#x2F;&#x2F;æ‹çˆ±å¤±è´¥ï¼Œå†³å®šåˆ†æ‰‹ &#125; &#125;, 500)&#125;)love.then(result &#x3D;&gt; &#123; console.log(result) &#x2F;&#x2F;å¤„ç†æ‹çˆ±æˆåŠŸçš„å›è°ƒï¼Œresultæ˜¯ä¸Šé¢resolveä¼ è¿‡æ¥çš„&#39;marry&#39;&#125;).catch(result &#x3D;&gt; &#123; console.log(result) &#x2F;&#x2F;å¤„ç†æ‹çˆ±å¤±è´¥çš„å›è°ƒï¼Œresultæ˜¯ä¸Šé¢rejectä¼ è¿‡æ¥çš„&#39;break&#39;&#125;)å¤åˆ¶ä»£ç  ä¸Šé¢çš„ä»£ç å°±æ˜¯ä¸€ä¸ªç®€å•å´å®Œæ•´çš„Promiseçš„ä¾‹å­ã€‚éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼ŒPromiseåœ¨ç»è¿‡pendingçŠ¶æ€è¾¾åˆ°æˆåŠŸæˆ–å¤±è´¥çŠ¶æ€æ—¶å°±ä¼šå‡å›ºï¼Œå³åˆ°è¾¾æˆåŠŸçŠ¶æ€åå†ä¹Ÿä¸ä¼šå¤±è´¥ï¼Œå¤±è´¥ä»¥åä¹Ÿä¸ä¼šå›åˆ°æˆåŠŸçŠ¶æ€ã€‚ æ‰€ä»¥ä¸‹é¢çš„Promiseä¸€å®šæ˜¯å¤±è´¥çŠ¶æ€çš„ï¼Œå³ä¾¿rejectåé¢è·Ÿäº†resolveä¹Ÿæ²¡ç”¨ã€‚æ­£æ‰€è°“ï¼šè‹¥çˆ±ï¼Œè¯·æ·±çˆ±ï¼Œè‹¥å¼ƒï¼Œè¯·å½»åº•ï¼Œä¸è¦æš§æ˜§ï¼Œä¼¤äººä¼¤å·±ã€‚æŸæ‹‰å›¾è¿™è¯ï¼Œè¯´çš„å°±æ˜¯Promiseçš„çŠ¶æ€å‡å›ºã€‚ 1234567891011let love &#x3D; new Promise((resolve, reject) &#x3D;&gt; &#123; reject(&#39;break&#39;) resolve(&#39;marry&#39;)&#125;)love.then(result &#x3D;&gt; &#123; console.log(result)&#125;).catch(result &#x3D;&gt; &#123; console.log(result)&#125;)å¤åˆ¶ä»£ç  äºŒã€Promiseçš„thenä¸catchçš„å‡ ç§å†™æ³•ç¬¬ä¸€ç§ï¼Œæœ€å¸¸è§çš„å°±æ˜¯ä¸Šé¢çš„å†™æ³•, ä½¿ç”¨thenæ¥æ•æ‰resolveçŠ¶æ€ï¼Œä½¿ç”¨catchæ¥æ•æ‰rejectçŠ¶æ€1234567love.then(result &#x3D;&gt; &#123; console.log(result)&#125;).catch(result &#x3D;&gt; &#123; console.log(result)&#125;)å¤åˆ¶ä»£ç  ç¬¬äºŒç§ï¼Œä¸å†™catch, æŠŠç”¨æ¥æ•æ‰rejectçŠ¶æ€çš„å‡½æ•°ä¹Ÿå†™åˆ°thené‡Œï¼Œä½†æ˜¯æ•ˆæœå’Œä¸Šé¢ä¸€æ ·123456love.then(result &#x3D;&gt; &#123; console.log(result)&#125;, result &#x3D;&gt; &#123; console.log(result)&#125;)å¤åˆ¶ä»£ç  ç¬¬ä¸‰ç§ï¼Œåˆ†å¼€å†™ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„12345678love.then(result &#x3D;&gt; &#123; &#x2F;&#x2F;åªæ•æ‰å’Œå¤„ç†æˆåŠŸçŠ¶æ€ console.log(result)&#125;)love.catch(result &#x3D;&gt; &#123; &#x2F;&#x2F;åªæ•æ‰å’Œå¤„ç†å¤±è´¥çŠ¶æ€ console.log(result) &#125;)å¤åˆ¶ä»£ç  ä¸‰ã€å¿«é€Ÿæ„å»ºä¸€ä¸ªæˆåŠŸæˆ–æ˜¯å¤±è´¥çŠ¶æ€çš„PromisePromiseè‡ªå¸¦äº†ä¸¤ç§æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å®ƒä»¬å¿«é€Ÿæ„å»ºä¸€ä¸ªPromiseï¼Œä¸€ä¸ªæ˜¯Promise.resolve(), ç”¨äºæ„å»ºæˆåŠŸçŠ¶æ€çš„Promise;å¦ä¸€ä¸ªæ˜¯Promise.reject()ï¼Œç”¨äºæ„å»ºå¤±è´¥çŠ¶æ€çš„Promiseã€‚ 123456789101112let p1 &#x3D; Promise.resolve(&#39;success&#39;)console.log(p1) &#x2F;&#x2F; æ‰“å‡ºæ¥çš„æ˜¯ Promise &#123;&#39;success&#39;&#125;p1.then(result &#x3D;&gt; &#123; console.log(result) &#x2F;&#x2F;æ‰“å‡ºæ¥ä¸Šé¢resolveä¼ è¿‡æ¥çš„å­—ç¬¦ä¸²&#39;success&#39;&#125;)let p2 &#x3D; Promise.reject(&#39;failed&#39;) &#x2F;&#x2F;ä¸Šé¢æ˜¯ä¸€ä¸ªæˆåŠŸçŠ¶æ€Promiseï¼Œè¿™æ˜¯ä¸€å¤±è´¥çŠ¶æ€çš„Promisep2.catch(result &#x3D;&gt; &#123; console.log(result)&#125;)å¤åˆ¶ä»£ç  å››ã€ä½¿ç”¨Promise.all()æ¥å¤„ç†ä¸€ç±»å‰ç«¯åœºæ™¯åœ¨å‰ç«¯çš„å¼€å‘å®è·µä¸­ï¼Œæˆ‘ä»¬æœ‰æ—¶ä¼šé‡åˆ°éœ€è¦å‘é€å¤šä¸ªè¯·æ±‚å¹¶æ ¹æ®è¯·æ±‚é¡ºåºè¿”å›æ•°æ®çš„éœ€æ±‚ï¼Œæ¯”å¦‚ï¼Œæˆ‘ä»¬è¦å‘é€aã€bã€cä¸‰ä¸ªè¯·æ±‚ï¼Œè¿™ä¸‰ä¸ªè¯·æ±‚è¿”å›çš„æ•°æ®åˆ†åˆ«ä¸ºa1ã€a2ã€a3ï¼Œè€Œæˆ‘ä»¬æƒ³è¦a1ã€a2ã€a3æŒ‰ç…§æˆ‘ä»¬å¸Œæœ›çš„é¡ºåºè¿”å›ã€‚é‚£ä¹ˆï¼Œä½¿ç”¨Promise.all()æ–¹æ³•å¯ä»¥å®Œç¾çš„è§£å†³è¿™ä¸€é—®é¢˜ã€‚ å‡è®¾ä½¿ç”¨ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627&#x2F;&#x2F;æ¨¡æ‹Ÿå¼‚æ­¥è¯·æ±‚çš„å‡½æ•°let request &#x3D; (name, time) &#x3D;&gt; &#123; return new Promise((resolve, reject) &#x3D;&gt; &#123; setTimeout(() &#x3D;&gt; &#123; let random &#x3D; Math.random() if (random &gt;&#x3D; 0.2) &#123; resolve(&#96;$&#123;name&#125;æˆåŠŸäº†&#96;) &#125; else &#123; reject(&#96;$&#123;name&#125;å¤±è´¥äº†&#96;) &#125; &#125;, time) &#125;)&#125;&#x2F;&#x2F;æ„å»ºä¸‰ä¸ªPromiseå®ä¾‹let a &#x3D; request(&#39;å°æ˜&#39;, 1000)let b &#x3D; request(&#39;å°çº¢&#39;, 500)let c &#x3D; request(&#39;å°å&#39;, 1500)&#x2F;&#x2F;ä½¿ç”¨Promise.all(), æ³¨æ„å®ƒæ¥æ”¶çš„æ˜¯ä¸€ä¸ªæ•°ç»„ä½œä¸ºå‚æ•° Promise.all([b,a,c]).then(result &#x3D;&gt; &#123; console.log(result)&#125;).catch(result &#x3D;&gt; &#123; console.log(result)&#125;)å¤åˆ¶ä»£ç  æŠŠä¸Šé¢çš„ä»£ç å¤åˆ¶ä¸‹æ¥æ”¾åˆ°æµè§ˆå™¨çš„è°ƒè¯•æ§åˆ¶å°é‡Œå¤šæ‰§è¡Œå‡ æ¬¡ï¼ˆç¬¬äºŒæ¬¡æ‰§è¡Œéœ€è¦åˆ·æ–°ï¼‰ä¼šå‘ç”Ÿä»€ä¹ˆäº‹æƒ…å‘¢ï¼Ÿä½ å¯èƒ½çŒœåˆ°äº†ï¼šå¦‚æœä¸‰ä¸ªè¯·æ±‚éƒ½æˆåŠŸçš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸‰ä¸ªè¯·æ±‚æ‰€è¿”å›çš„æ•°æ®å°±æ˜¯æŒ‰ç…§å‘é€è¯·æ±‚çš„é¡ºåºæ’åˆ—çš„ï¼Œå³[â€˜å°çº¢æˆåŠŸäº†â€™, â€˜å°æ˜æˆåŠŸäº†â€™, â€˜å°åæˆåŠŸäº†â€™]ï¼Œè€Œä¸”è¿˜æ˜¯ä»¥æ•°ç»„å½¢å¼è¿”å›çš„ï¼›è€Œå½“å…¶ä¸­æœ‰è¯·æ±‚å¤±è´¥äº†çš„è¯ï¼Œå°±åªä¼šè¿”å›æœ€å…ˆå¤±è´¥çš„ç»“æœã€‚ å½“ç„¶ï¼Œé™¤äº†è¿™ä¸ªåœºæ™¯ä»¥å¤–ï¼ŒPromise.all()æ–¹æ³•è¿˜èƒ½ç”¨äºå…¶å®ƒåœ°æ–¹ã€‚æ¯”å¦‚è¯´ï¼Œä¸€ä¸ªé¡µé¢ä¸Šæœ‰ä¸¤ä¸ªè¯·æ±‚ï¼Œåªæœ‰æ‹¿åˆ°äº†è¿™ä¸¤ä¸ªè¯·æ±‚çš„æ•°æ®ï¼Œé¡µé¢æ‰ä¼šå±•ç¤ºï¼Œåœ¨è¿™ä¹‹å‰ä¼šæ˜¾ç¤ºä¸€ä¸ªloadingåŠ è½½å›¾ã€‚ä½¿ç”¨Promise.all()ä¹Ÿæ˜¯å¯ä»¥éå¸¸ç®€æ´çš„è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ äº”ã€Promiseçš„é“¾å¼è°ƒç”¨ä¸Šé¢è¯´è¿‡çš„thenæ–¹æ³•ï¼Œåœ¨æ¯æ¬¡ä½¿ç”¨åä¾ç„¶ä¼šç»§ç»­è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ã€‚ 123456let p &#x3D; Promise.resolve(&#39;success&#39;)let response &#x3D; p.then(result &#x3D;&gt; &#123; console.log(result)&#125;)console.log(response) &#x2F;&#x2F;æ‰“å‡ºæ¥çš„responseæ˜¯ä¸€ä¸ªPromiseå¯¹è±¡å¤åˆ¶ä»£ç  å› ä¸ºthenä¹‹åè¿”å›çš„è¿˜æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥ç»§ç»­thenï¼Œåªä¸è¿‡åé¢thenæ‹¿åˆ°çš„å‚æ•°æ˜¯ä¸Šä¸€ä¸ªthené‡Œreturnçš„å†…å®¹ï¼Œè€Œè¿™ä¸ªreturnçš„å†…å®¹æ—¢å¯ä»¥æ˜¯æ™®é€šçš„å­—ç¬¦ä¸²ã€æ•°å­—ç­‰ï¼ˆæœ€åéƒ½ä¼šè¢«å°è£…æˆPromiseï¼‰ä¹Ÿå¯ä»¥æ˜¯è‡ªå·±å†™çš„ä¸€ä¸ªPromiseå¯¹è±¡ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬æ¥ç€ä¸Šé¢çˆ±çš„æ‰¿è¯ºç»§ç»­å†™ä¸€ä¸ªé“¾å¼è°ƒç”¨çš„ä¾‹å­ï¼š 12345678910111213141516171819202122232425262728293031let love &#x3D; new Promise((resolve, reject) &#x3D;&gt; &#123; setTimeout(() &#x3D;&gt; &#123; let happy &#x3D; Math.random() &gt;&#x3D; 0.3 ? true : false if ( happy ) &#123; resolve(&#39;marry&#39;) &#125; else &#123; reject(&#39;break&#39;) &#125; &#125;, 500)&#125;)let haveChild &#x3D; new Promise((resolve, reject) &#x3D;&gt; &#123; setTimeout(() &#x3D;&gt; &#123; resolve(&#39;å­©å­ç”Ÿäº†ï¼&#39;) &#125;, 1000)&#125;)love.then(result &#x3D;&gt; &#123; console.log(result) return haveChild &#x2F;&#x2F; è¿™é‡Œè¿”å›ä¸€ä¸ªPromiseå¯¹è±¡,å®ƒçš„resolveä¼šè¢«ä¸‹ä¸€ä¸ªthenæ•æ‰&#125;).then(result &#x3D;&gt; &#123; console.log(result) return &#39;æœ€åï¼Œä»–ä»¬ç™½å¤´å•è€ï¼&#39; &#x2F;&#x2F;è¿™é‡Œè¿”å›çš„å­—ç¬¦ä¸²ä¼šä¼ ç»™ä¸‹ä¸€ä¸ªthen&#125;).then(result &#x3D;&gt; &#123; console.log(result)&#125;).catch(error &#x3D;&gt; &#123; console.log(error)&#125;)å¤åˆ¶ä»£ç  è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨é“¾å¼è°ƒç”¨çš„æœ€ä¸€å®šè¦åŠ ä¸Šä¸€ä¸ªcatchæ¥æ•æ‰é“¾æ¡ä¸­å¯èƒ½å‡ºç°çš„é”™è¯¯ï¼ å…­ã€Promiseé“¾å¼è°ƒç”¨å¯ä»¥å¤„ç†çš„ä¸€ä¸ªä¸šåŠ¡åœºæ™¯å½“æˆ‘ä»¬éœ€è¦å‘é€å¤šä¸ªè¯·æ±‚ï¼Œè€Œåä¸€ä¸ªè¯·æ±‚æ€»æ˜¯ä¾èµ–å‰ä¸€ä¸ªè¯·æ±‚çš„ç»“æœæ—¶ï¼ŒPromiseçš„é“¾å¼æ“ä½œå°±å¯ä»¥æ´¾ä¸Šç”¨åœºäº†ã€‚ æˆ‘ä»¬ä½¿ç”¨axiosæ¥æ¼”ç¤ºï¼Œaxiosæœ¬èº«å°±ä½¿ç”¨Promiseè¿›è¡Œå°è£…ï¼Œä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516let request &#x3D; (url) &#x3D;&gt; &#123; let result &#x3D; axios.get(url) &#x2F;&#x2F;resultæ˜¯Promiseå¯¹è±¡ result.then(response &#x3D;&gt; &#123; return response &#125;).catch(error &#x3D;&gt; &#123; throw new Error(&#39;å‡ºé”™äº†!&#39;) &#125;)&#125;request(url0).then(response &#x3D;&gt; &#123; return request(response.data.link)&#125;).then(result &#x3D;&gt; &#123; console.log(result)&#125;).catch(error &#x3D;&gt; &#123; console.log(error)&#125;)","tags":[]},{"title":"DartåŸºç¡€","date":"2019-12-27T02:14:47.976Z","path":"2019/12/27/DartåŸºç¡€/","text":"ä¸€. Dartä»‹ç»å’Œå®‰è£…1.1. è®¤è¯†DartGoogleä¸ºFlutteré€‰æ‹©äº†Dartå°±å·²ç»æ˜¯æ—¢å®šçš„äº‹å®ï¼Œæ— è®ºä½ å¤šä¹ˆæƒ³ç”¨ä½ ç†Ÿæ‚‰çš„è¯­è¨€ï¼Œæ¯”å¦‚JavaScriptã€Javaã€Swiftã€C++ç­‰æ¥å¼€å‘Flutterï¼Œè‡³å°‘ç›®å‰éƒ½æ˜¯ä¸å¯ä»¥çš„ã€‚ åœ¨è®²è§£Dartçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¼šå‡å®šä½ å·²ç»æœ‰ä¸€å®šçš„ç¼–ç¨‹è¯­è¨€åŸºç¡€ï¼Œæ¯”å¦‚JavaScriptã€Javaã€Pythonã€C++ç­‰ã€‚ å…¶å®å¦‚æœä½ å¯¹ç¼–ç¨‹è¯­è¨€è¶³å¤Ÿçš„è‡ªä¿¡ï¼ŒDartçš„å­¦ä¹ è¿‡ç¨‹ç”šè‡³å¯ä»¥ç›´æ¥å¿½ç•¥ï¼š å› ä¸ºä½ å­¦è¿‡Nç§ç¼–ç¨‹è¯­è¨€ä¹‹åï¼Œä½ ä¼šå‘ç°ä»–ä»¬çš„å·®å¼‚æ˜¯å¹¶ä¸å¤§ï¼› æ— éå°±æ˜¯è¯­æ³•ä¸Šçš„å·®å¼‚+æŸäº›è¯­è¨€æœ‰æŸäº›ç‰¹æ€§ï¼Œè€ŒæŸäº›è¯­è¨€æ²¡æœ‰æŸäº›ç‰¹æ€§è€Œå·²ï¼› åœ¨æˆ‘åˆæ¬¡æ¥è§¦Flutterçš„æ—¶å€™ï¼Œå¹¶æ²¡æœ‰ä¸“é—¨å»çœ‹Dartçš„è¯­æ³•ï¼Œè€Œæ˜¯å¯¹äºæŸäº›è¯­æ³•ä¸å¤ªç†Ÿç»ƒçš„æ—¶å€™å›å¤´å»äº†è§£è€Œå·²ï¼› æ‰€ä»¥ï¼Œå¦‚æœä½ å¯¹ç¼–ç¨‹è¯­è¨€å·²ç»è¶³å¤Ÿäº†è§£ï¼Œå¯ä»¥è·³è¿‡æˆ‘ä»¬æ¥ä¸‹æ¥çš„Dartå­¦ä¹ ï¼š æˆ‘ä¹Ÿå¹¶ä¸ä¼šæ‰€æœ‰ç‰¹æ€§éƒ½ä¸€ä¸€ç½—åˆ—ï¼Œæˆ‘ä¼šæŒ‘å‡ºæ¯”è¾ƒé‡è¦çš„è¯­è¨€ç‰¹æ€§æ¥ä¸“é—¨è®²è§£ï¼› æŸäº›ç‰¹æ€§å¯èƒ½ä¼šç­‰åˆ°åé¢è®²è§£Flutterçš„ä¸€äº›çŸ¥è¯†çš„æ—¶å€™å•ç‹¬æ‹¿å‡ºæ¥è®²è§£ï¼› ä¸‹é¢ï¼Œæˆ‘ä»¬å°±ä»å®‰è£…Dartå¼€å§‹å§ï¼ 1.2. å®‰è£…Dart ä¸ºä»€ä¹ˆè¿˜éœ€è¦å®‰è£…Dartå‘¢ï¼Ÿ äº‹å®ä¸Šåœ¨å®‰è£…Flutter SDKçš„æ—¶å€™ï¼Œå®ƒå·²ç»å†…ç½®äº†Dartäº†ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥ç›´æ¥ä½¿ç”¨Flutterå»è¿›è¡ŒDartçš„ç¼–å†™å¹¶ä¸”è¿è¡Œã€‚ ä½†æ˜¯ï¼Œå¦‚æœä½ æƒ³å•ç‹¬å­¦ä¹ Dartï¼Œå¹¶ä¸”è¿è¡Œè‡ªå·±çš„Dartä»£ç ï¼Œæœ€å¥½å»å®‰è£…ä¸€ä¸ªDart SDKã€‚ ä¸‹è½½Dart SDK åˆ°Dartçš„å®˜æ–¹ï¼Œæ ¹æ®ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸‹è½½å¯¹åº”çš„Dart å®˜æ–¹ç½‘ç«™ï¼šdart.dev/get-dart æ— è®ºæ˜¯ä»€ä¹ˆæ“ä½œç³»ç»Ÿï¼Œå®‰è£…æ–¹å¼éƒ½æ˜¯æœ‰ä¸¤ç§ï¼šé€šè¿‡å·¥å…·å®‰è£…å’Œç›´æ¥ä¸‹è½½SDKï¼Œé…ç½®ç¯å¢ƒå˜é‡ 1.é€šè¿‡å·¥å…·å®‰è£… Windowså¯ä»¥é€šè¿‡Chocolatey macOSå¯ä»¥é€šè¿‡homebrew å…·ä½“å®‰è£…æ“ä½œå®˜ç½‘ç½‘ç«™æœ‰è¯¦ç»†çš„è§£é‡Š 2.ç›´æ¥ä¸‹è½½SDKï¼Œé…ç½®ç¯å¢ƒå˜é‡ ä¸‹è½½åœ°å€ï¼šdart.dev/tools/sdk/aâ€¦ æˆ‘é‡‡ç”¨äº†è¿™ä¸ªå®‰è£…æ–¹å¼ã€‚ ä¸‹è½½å®Œæˆåï¼Œæ ¹æ®è·¯å¾„é…ç½®ç¯å¢ƒå˜é‡å³å¯ã€‚ 1.3. VSCodeé…ç½®å­¦ä¹ Dartè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä½¿ç”¨VSCodeä½œä¸ºç¼–è¾‘å™¨ ä¸€æ–¹é¢ç¼–å†™ä»£ç éå¸¸æ–¹ä¾¿ï¼Œè€Œä¸”ç•Œé¢é£æ ¼æˆ‘ä¹Ÿå¾ˆå–œæ¬¢ å¦ä¸€æ–¹é¢æˆ‘å¯ä»¥å¿«é€Ÿåœ¨ç»ˆç«¯çœ‹åˆ°æˆ‘ç¼–å†™ä»£ç çš„æ•ˆæœ ä½¿ç”¨VSCodeç¼–å†™Dartéœ€è¦å®‰è£…Dartæ’ä»¶ï¼šæˆ‘ç›®å‰ç»™è¿™ä¸ªVSCodeè£…äº†å››ä¸ªæ’ä»¶ Dartå’ŒFlutteræ’ä»¶æ˜¯ä¸ºFlutterå¼€å‘å‡†å¤‡çš„ Atom One Dark Themeæ˜¯æˆ‘ä¸ªäººæ¯”è¾ƒå–œæ¬¢çš„ä¸€ä¸ªä¸»é¢˜ Code Runnerå¯ä»¥ç‚¹å‡»å³ä¸Šè§’çš„æŒ‰é’®è®©æˆ‘å¿«é€Ÿè¿è¡Œä»£ç  äºŒ. Hello Dart2.1. Hello Worldæ¥ä¸‹æ¥ï¼Œå°±å¯ä»¥æ­¥å…¥æ­£é¢˜äº†ã€‚å­¦ä¹ ç¼–ç¨‹è¯­è¨€ï¼Œä»ç¥–ä¼ çš„Hello Worldå¼€å§‹ã€‚ åœ¨VSCodeä¸­æ–°å»ºä¸€ä¸ªhelloWorld.dartæ–‡ä»¶ï¼Œæ·»åŠ ä¸‹é¢çš„å†…å®¹ï¼š 123main(List&lt;String&gt; args) &#123; print(&#39;Hello World&#39;);&#125; ç„¶ååœ¨ç»ˆç«¯æ‰§è¡Œdart helloWorld.dartï¼Œå°±èƒ½çœ‹åˆ°Hello Worldçš„ç»“æœäº†ã€‚ å®Œæˆäº†è¿™ä¸ªæ‰§è¡Œè¿‡ç¨‹ä¹‹åï¼Œä»¥ä½ ä¹‹å‰å­¦ä¹ çš„ç¼–ç¨‹è¯­è¨€æ¥çœ‹ï¼Œä½ èƒ½å¾—åˆ°å¤šå°‘ä¿¡æ¯å‘¢ï¼Ÿ 2.2. ç¨‹åºçš„åˆ†ææ¥ä¸‹æ¥ï¼Œå°±æ˜¯æˆ‘è‡ªå·±çš„æ€»ç»“ï¼š ä¸€ã€Dartè¯­è¨€çš„å…¥å£ä¹Ÿæ˜¯mainå‡½æ•°ï¼Œå¹¶ä¸”å¿…é¡»æ˜¾ç¤ºçš„è¿›è¡Œå®šä¹‰ï¼› äºŒã€Dartçš„å…¥å£å‡½æ•°mainæ˜¯æ²¡æœ‰è¿”å›å€¼çš„ï¼› ä¸‰ã€ä¼ é€’ç»™ 1main çš„å‘½ä»¤è¡Œå‚æ•°ï¼Œæ˜¯é€šè¿‡ 1List&lt;String&gt; å®Œæˆçš„ã€‚ ä»å­—é¢å€¼å°±å¯ä»¥ç†è§£Listæ˜¯Dartä¸­çš„é›†åˆç±»å‹ã€‚ å…¶ä¸­çš„æ¯ä¸€ä¸ªStringéƒ½è¡¨ç¤ºä¼ é€’ç»™mainçš„ä¸€ä¸ªå‚æ•°ï¼› å››ã€å®šä¹‰å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨å•å¼•å·æˆ–åŒå¼•å·ï¼› äº”ã€æ¯è¡Œè¯­å¥å¿…é¡»ä½¿ç”¨åˆ†å·ç»“å°¾ï¼Œå¾ˆå¤šè¯­è¨€å¹¶ä¸éœ€è¦åˆ†å·ï¼Œæ¯”å¦‚Swiftã€JavaScriptï¼› ä¸‰. å®šä¹‰å˜é‡3.1. æ˜ç¡®å£°æ˜(Explicit)æ˜ç¡®å£°æ˜å˜é‡çš„æ–¹å¼, æ ¼å¼å¦‚ä¸‹: 1å˜é‡ç±»å‹ å˜é‡åç§° &#x3D; èµ‹å€¼; ç¤ºä¾‹ä»£ç : 1234String name &#x3D; &#39;coderwhy&#39;;int age &#x3D; 18;double height &#x3D; 1.88;print(&#39;$&#123;name&#125;, $&#123;age&#125;, $&#123;height&#125;&#39;); &#x2F;&#x2F; æ‹¼æ¥æ–¹å¼åç»­ä¼šè®²è§£ æ³¨æ„äº‹é¡¹: å®šä¹‰çš„å˜é‡å¯ä»¥ä¿®æ”¹å€¼, ä½†æ˜¯ä¸èƒ½èµ‹å€¼å…¶ä»–ç±»å‹ 123String content &#x3D; &#39;Hello Dart&#39;;content &#x3D; &#39;Hello World&#39;; &#x2F;&#x2F; æ­£ç¡®çš„content &#x3D; 111; &#x2F;&#x2F; é”™è¯¯çš„, å°†ä¸€ä¸ªintå€¼èµ‹å€¼ç»™ä¸€ä¸ªStringå˜é‡ 3.2. ç±»å‹æ¨å¯¼(Type Inference)ç±»å‹æ¨å¯¼å£°æ˜å˜é‡çš„æ–¹å¼, æ ¼å¼å¦‚ä¸‹: 1var&#x2F;dynamic&#x2F;const&#x2F;final å˜é‡åç§° &#x3D; èµ‹å€¼; 3.3.1. varçš„ä½¿ç”¨varçš„ä½¿ç”¨ç¤ºä¾‹: runtimeTypeç”¨äºè·å–å˜é‡å½“å‰çš„ç±»å‹ 123var name &#x3D; &#39;coderwhy&#39;;name &#x3D; &#39;kobe&#39;;print(name.runtimeType); &#x2F;&#x2F; String varçš„é”™è¯¯ç”¨æ³•: 12var age &#x3D; 18;age &#x3D; &#39;why&#39;; &#x2F;&#x2F; ä¸å¯ä»¥å°†Stringèµ‹å€¼ç»™ä¸€ä¸ªintç±»å‹ 3.3.2. dynamicçš„ä½¿ç”¨å¦‚æœç¡®å®å¸Œæœ›è¿™æ ·åš,å¯ä»¥ä½¿ç”¨dynamicæ¥å£°æ˜å˜é‡: ä½†æ˜¯åœ¨å¼€å‘ä¸­, é€šå¸¸æƒ…å†µä¸‹ä¸ä½¿ç”¨dynamic, å› ä¸ºç±»å‹çš„å˜é‡ä¼šå¸¦æ¥æ½œåœ¨çš„å±é™© 1234dynamic name &#x3D; &#39;coderwhy&#39;;print(name.runtimeType); &#x2F;&#x2F; Stringname &#x3D; 18;print(name.runtimeType); &#x2F;&#x2F; int 3.3.3. final&amp;constçš„ä½¿ç”¨finalå’Œconstéƒ½æ˜¯ç”¨äºå®šä¹‰å¸¸é‡çš„, ä¹Ÿå°±æ˜¯å®šä¹‰ä¹‹åå€¼éƒ½ä¸å¯ä»¥ä¿®æ”¹ 12345final name &#x3D; &#39;coderwhy&#39;;name &#x3D; &#39;kobe&#39;; &#x2F;&#x2F; é”™è¯¯åšæ³•const age &#x3D; 18;age &#x3D; 20; &#x2F;&#x2F; é”™è¯¯åšæ³• finalå’Œconstæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢? conståœ¨èµ‹å€¼æ—¶, èµ‹å€¼çš„å†…å®¹å¿…é¡»æ˜¯åœ¨ç¼–è¯‘æœŸé—´å°±ç¡®å®šä¸‹æ¥çš„ finalåœ¨èµ‹å€¼æ—¶, å¯ä»¥åŠ¨æ€è·å–, æ¯”å¦‚èµ‹å€¼ä¸€ä¸ªå‡½æ•° 12345678String getName() &#123; return &#39;coderwhy&#39;;&#125;main(List&lt;String&gt; args) &#123; const name &#x3D; getName(); &#x2F;&#x2F; é”™è¯¯çš„åšæ³•, å› ä¸ºè¦æ‰§è¡Œå‡½æ•°æ‰èƒ½è·å–åˆ°å€¼ final name &#x3D; getName(); &#x2F;&#x2F; æ­£ç¡®çš„åšæ³•&#125; finalå’Œconstå°æ¡ˆä¾‹: é¦–å…ˆ, constæ˜¯ä¸å¯ä»¥èµ‹å€¼ä¸ºDateTime.now() å…¶æ¬¡, finalä¸€æ—¦è¢«èµ‹å€¼åå°±æœ‰ç¡®å®šçš„ç»“æœ, ä¸ä¼šå†æ¬¡èµ‹å€¼ 123456&#x2F;&#x2F; const time &#x3D; DateTime.now(); &#x2F;&#x2F; é”™è¯¯çš„èµ‹å€¼æ–¹å¼final time &#x3D; DateTime.now();print(time); &#x2F;&#x2F; 2019-04-05 09:02:54.052626sleep(Duration(seconds: 2));print(time); &#x2F;&#x2F; 2019-04-05 09:02:54.052626 constæ”¾åœ¨èµ‹å€¼è¯­å¥çš„å³è¾¹ï¼Œå¯ä»¥å…±äº«å¯¹è±¡ï¼Œæé«˜æ€§èƒ½: è¿™é‡Œå¯ä»¥æš‚æ—¶å…ˆåšäº†è§£ï¼Œåé¢è®²è§£ç±»çš„å¸¸é‡æ„é€ å‡½æ•°æ—¶ï¼Œæˆ‘ä¼šå†æ¬¡æåˆ°è¿™ä¸ªæ¦‚å¿µ 12345678910111213class Person &#123; const Person();&#125;main(List&lt;String&gt; args) &#123; final a &#x3D; const Person(); final b &#x3D; const Person(); print(identical(a, b)); &#x2F;&#x2F; true final m &#x3D; Person(); final n &#x3D; Person(); print(identical(m, n)); &#x2F;&#x2F; false&#125; å››. æ•°æ®ç±»å‹4.1. æ•°å­—ç±»å‹å¯¹äºæ•°å€¼æ¥è¯´ï¼Œæˆ‘ä»¬ä¹Ÿä¸ç”¨å…³å¿ƒå®ƒæ˜¯å¦æœ‰ç¬¦å·ï¼Œä»¥åŠæ•°æ®çš„å®½åº¦å’Œç²¾åº¦ç­‰é—®é¢˜ã€‚åªè¦è®°ç€æ•´æ•°ç”¨intï¼Œæµ®ç‚¹æ•°ç”¨doubleå°±è¡Œäº†ã€‚ ä¸è¿‡ï¼Œè¦è¯´æ˜ä¸€ä¸‹çš„æ˜¯Dartä¸­çš„intå’Œdoubleå¯è¡¨ç¤ºçš„èŒƒå›´å¹¶ä¸æ˜¯å›ºå®šçš„ï¼Œå®ƒå–å†³äºè¿è¡ŒDartçš„å¹³å°ã€‚ 123456789&#x2F;&#x2F; 1.æ•´æ•°ç±»å‹intint age &#x3D; 18;int hexAge &#x3D; 0x12;print(age);print(hexAge);&#x2F;&#x2F; 2.æµ®ç‚¹ç±»å‹doubledouble height &#x3D; 1.88;print(height); å­—ç¬¦ä¸²å’Œæ•°å­—ä¹‹é—´çš„è½¬åŒ–: 12345678910111213141516&#x2F;&#x2F; å­—ç¬¦ä¸²å’Œæ•°å­—è½¬åŒ–&#x2F;&#x2F; 1.å­—ç¬¦ä¸²è½¬æ•°å­—var one &#x3D; int.parse(&#39;111&#39;);var two &#x3D; double.parse(&#39;12.22&#39;);print(&#39;$&#123;one&#125; $&#123;one.runtimeType&#125;&#39;); &#x2F;&#x2F; 111 intprint(&#39;$&#123;two&#125; $&#123;two.runtimeType&#125;&#39;); &#x2F;&#x2F; 12.22 double&#x2F;&#x2F; 2.æ•°å­—è½¬å­—ç¬¦ä¸²var num1 &#x3D; 123;var num2 &#x3D; 123.456;var num1Str &#x3D; num1.toString();var num2Str &#x3D; num2.toString();var num2StrD &#x3D; num2.toStringAsFixed(2); &#x2F;&#x2F; ä¿ç•™ä¸¤ä½å°æ•°print(&#39;$&#123;num1Str&#125; $&#123;num1Str.runtimeType&#125;&#39;); &#x2F;&#x2F; 123 Stringprint(&#39;$&#123;num2Str&#125; $&#123;num2Str.runtimeType&#125;&#39;); &#x2F;&#x2F; 123.456 Stringprint(&#39;$&#123;num2StrD&#125; $&#123;num2StrD.runtimeType&#125;&#39;); &#x2F;&#x2F; 123.46 String 4.2. å¸ƒå°”ç±»å‹å¸ƒå°”ç±»å‹ä¸­,Dartæä¾›äº†ä¸€ä¸ªboolçš„ç±»å‹, å–å€¼ä¸ºtrueå’Œfalse 123&#x2F;&#x2F; å¸ƒå°”ç±»å‹var isFlag &#x3D; true;print(&#39;$isFlag $&#123;isFlag.runtimeType&#125;&#39;); æ³¨æ„: Dartä¸­ä¸èƒ½åˆ¤æ–­é0å³çœŸ, æˆ–è€…éç©ºå³çœŸ Dartçš„ç±»å‹å®‰å…¨æ€§æ„å‘³ç€æ‚¨ä¸èƒ½ä½¿ç”¨if(ébooleanvalue)æˆ–assert(ébooleanvalue)ä¹‹ç±»çš„ä»£ç ã€‚ 12345var message &#x3D; &#39;Hello Dart&#39;;&#x2F;&#x2F; é”™è¯¯çš„å†™æ³•if (message) &#123; print(message)&#125; 4.3. å­—ç¬¦ä¸²ç±»å‹Dartå­—ç¬¦ä¸²æ˜¯UTF-16ç¼–ç å•å…ƒçš„åºåˆ—ã€‚æ‚¨å¯ä»¥ä½¿ç”¨å•å¼•å·æˆ–åŒå¼•å·åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²: 12345&#x2F;&#x2F; 1.å®šä¹‰å­—ç¬¦ä¸²çš„æ–¹å¼var s1 &#x3D; &#39;Hello World&#39;;var s2 &#x3D; &quot;Hello Dart&quot;;var s3 &#x3D; &#39;Hello\\&#39;Fullter&#39;;var s4 &#x3D; &quot;Hello&#39;Fullter&quot;; å¯ä»¥ä½¿ç”¨ä¸‰ä¸ªå•å¼•å·æˆ–è€…åŒå¼•å·è¡¨ç¤ºå¤šè¡Œå­—ç¬¦ä¸²: 12345&#x2F;&#x2F; 2.è¡¨ç¤ºå¤šè¡Œå­—ç¬¦ä¸²çš„æ–¹å¼var message1 &#x3D; &#39;&#39;&#39;å“ˆå“ˆå“ˆå‘µå‘µå‘µå˜¿å˜¿å˜¿&#39;&#39;&#39;; å­—ç¬¦ä¸²å’Œå…¶ä»–å˜é‡æˆ–è¡¨è¾¾å¼æ‹¼æ¥: ä½¿ç”¨${expression}, å¦‚æœè¡¨è¾¾å¼æ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦, é‚£ä¹ˆ{}å¯ä»¥çœç•¥ 12345&#x2F;&#x2F; 3.æ‹¼æ¥å…¶ä»–å˜é‡var name &#x3D; &#39;coderwhy&#39;;var age &#x3D; 18;var height &#x3D; 1.88;print(&#39;my name is $&#123;name&#125;, age is $age, height is $height&#39;); 4.4. é›†åˆç±»å‹4.4.1. é›†åˆç±»å‹çš„å®šä¹‰å¯¹äºé›†åˆç±»å‹ï¼ŒDartåˆ™å†…ç½®äº†æœ€å¸¸ç”¨çš„ä¸‰ç§ï¼šList / Set / Mapã€‚ å…¶ä¸­ï¼ŒListå¯ä»¥è¿™æ ·æ¥å®šä¹‰ï¼š 12345678&#x2F;&#x2F; Listå®šä¹‰&#x2F;&#x2F; 1.ä½¿ç”¨ç±»å‹æ¨å¯¼å®šä¹‰var letters &#x3D; [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;];print(&#39;$letters $&#123;letters.runtimeType&#125;&#39;);&#x2F;&#x2F; 2.æ˜ç¡®æŒ‡å®šç±»å‹List&lt;int&gt; numbers &#x3D; [1, 2, 3, 4];print(&#39;$numbers $&#123;numbers.runtimeType&#125;&#39;); å…¶ä¸­ï¼Œsetå¯ä»¥è¿™æ ·æ¥å®šä¹‰ï¼š å…¶å®ï¼Œä¹Ÿå°±æ˜¯æŠŠ[]æ¢æˆ{}å°±å¥½äº†ã€‚ Setå’ŒListæœ€å¤§çš„ä¸¤ä¸ªä¸åŒå°±æ˜¯ï¼šSetæ˜¯æ— åºçš„ï¼Œå¹¶ä¸”å…ƒç´ æ˜¯ä¸é‡å¤çš„ã€‚ 12345678&#x2F;&#x2F; Setçš„å®šä¹‰&#x2F;&#x2F; 1.ä½¿ç”¨ç±»å‹æ¨å¯¼å®šä¹‰var lettersSet &#x3D; &#123;&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;&#125;;print(&#39;$lettersSet $&#123;lettersSet.runtimeType&#125;&#39;);&#x2F;&#x2F; 2.æ˜ç¡®æŒ‡å®šç±»å‹Set&lt;int&gt; numbersSet &#x3D; &#123;1, 2, 3, 4&#125;;print(&#39;$numbersSet $&#123;numbersSet.runtimeType&#125;&#39;); æœ€åï¼ŒMapæ˜¯æˆ‘ä»¬å¸¸è¯´çš„å­—å…¸ç±»å‹ï¼Œå®ƒçš„å®šä¹‰æ˜¯è¿™æ ·çš„ï¼š 12345678&#x2F;&#x2F; Mapçš„å®šä¹‰&#x2F;&#x2F; 1.ä½¿ç”¨ç±»å‹æ¨å¯¼å®šä¹‰var infoMap1 &#x3D; &#123;&#39;name&#39;: &#39;why&#39;, &#39;age&#39;: 18&#125;;print(&#39;$infoMap1 $&#123;infoMap1.runtimeType&#125;&#39;);&#x2F;&#x2F; 2.æ˜ç¡®æŒ‡å®šç±»å‹Map&lt;String, Object&gt; infoMap2 &#x3D; &#123;&#39;height&#39;: 1.88, &#39;address&#39;: &#39;åŒ—äº¬å¸‚&#39;&#125;;print(&#39;$infoMap2 $&#123;infoMap2.runtimeType&#125;&#39;); 4.4.2. é›†åˆçš„å¸¸è§æ“ä½œäº†è§£äº†è¿™ä¸‰ä¸ªé›†åˆçš„å®šä¹‰æ–¹å¼ä¹‹åï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€äº›æœ€åŸºç¡€çš„å…¬å…±æ“ä½œ ç¬¬ä¸€ç±»ï¼Œæ˜¯æ‰€æœ‰é›†åˆéƒ½æ”¯æŒçš„è·å–é•¿åº¦çš„å±æ€§lengthï¼š 1234&#x2F;&#x2F; è·å–é›†åˆçš„é•¿åº¦print(letters.length);print(lettersSet.length);print(infoMap1.length); ç¬¬äºŒç±», æ˜¯æ·»åŠ /åˆ é™¤/åŒ…å«æ“ä½œ å¹¶ä¸”ï¼Œå¯¹Listæ¥è¯´ï¼Œç”±äºå…ƒç´ æ˜¯æœ‰åºçš„ï¼Œå®ƒè¿˜æä¾›äº†ä¸€ä¸ªåˆ é™¤æŒ‡å®šç´¢å¼•ä½ç½®ä¸Šå…ƒç´ çš„æ–¹æ³• 123456789101112131415&#x2F;&#x2F; æ·»åŠ &#x2F;åˆ é™¤&#x2F;åŒ…å«å…ƒç´ numbers.add(5);numbersSet.add(5);print(&#39;$numbers $numbersSet&#39;);numbers.remove(1);numbersSet.remove(1);print(&#39;$numbers $numbersSet&#39;);print(numbers.contains(2));print(numbersSet.contains(2));&#x2F;&#x2F; Listæ ¹æ®indexåˆ é™¤å…ƒç´ numbers.removeAt(3);print(&#39;$numbers&#39;); ç¬¬ä¸‰ç±»ï¼Œæ˜¯Mapçš„æ“ä½œ ç”±äºå®ƒæœ‰keyå’Œvalueï¼Œå› æ­¤æ— è®ºæ˜¯è¯»å–å€¼ï¼Œè¿˜æ˜¯æ“ä½œï¼Œéƒ½è¦æ˜ç¡®æ˜¯åŸºäºkeyçš„ï¼Œè¿˜æ˜¯åŸºäºvalueçš„ï¼Œæˆ–è€…æ˜¯åŸºäºkey/valueå¯¹çš„ã€‚ 12345678910111213141516171819&#x2F;&#x2F; Mapçš„æ“ä½œ&#x2F;&#x2F; 1.æ ¹æ®keyè·å–valueprint(infoMap1[&#39;name&#39;]); &#x2F;&#x2F; why&#x2F;&#x2F; 2.è·å–æ‰€æœ‰çš„entriesprint(&#39;$&#123;infoMap1.entries&#125; $&#123;infoMap1.entries.runtimeType&#125;&#39;); &#x2F;&#x2F; (MapEntry(name: why), MapEntry(age: 18)) MappedIterable&lt;String, MapEntry&lt;String, Object&gt;&gt;&#x2F;&#x2F; 3.è·å–æ‰€æœ‰çš„keysprint(&#39;$&#123;infoMap1.keys&#125; $&#123;infoMap1.keys.runtimeType&#125;&#39;); &#x2F;&#x2F; (name, age) _CompactIterable&lt;String&gt;&#x2F;&#x2F; 4.è·å–æ‰€æœ‰çš„valuesprint(&#39;$&#123;infoMap1.values&#125; $&#123;infoMap1.values.runtimeType&#125;&#39;); &#x2F;&#x2F; (why, 18) _CompactIterable&lt;Object&gt;&#x2F;&#x2F; 5.åˆ¤æ–­æ˜¯å¦åŒ…å«æŸä¸ªkeyæˆ–è€…valueprint(&#39;$&#123;infoMap1.containsKey(&#39;age&#39;)&#125; $&#123;infoMap1.containsValue(18)&#125;&#39;); &#x2F;&#x2F; true true&#x2F;&#x2F; 6.æ ¹æ®keyåˆ é™¤å…ƒç´ infoMap1.remove(&#39;age&#39;);print(&#39;$&#123;infoMap1&#125;&#39;); &#x2F;&#x2F; &#123;name: why&#125; äº”. å‡½æ•°5.1. å‡½æ•°çš„åŸºæœ¬å®šä¹‰Dartæ˜¯ä¸€ç§çœŸæ­£çš„é¢å‘å¯¹è±¡è¯­è¨€ï¼Œæ‰€ä»¥å³ä½¿å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼Œæ‰€æœ‰ä¹Ÿæœ‰ç±»å‹, ç±»å‹å°±æ˜¯Functionã€‚ è¿™ä¹Ÿå°±æ„å‘³ç€å‡½æ•°å¯ä»¥ä½œä¸ºå˜é‡å®šä¹‰æˆ–è€…ä½œä¸ºå…¶ä»–å‡½æ•°çš„å‚æ•°æˆ–è€…è¿”å›å€¼. å‡½æ•°çš„å®šä¹‰æ–¹å¼: 1234è¿”å›å€¼ å‡½æ•°çš„åç§°(å‚æ•°åˆ—è¡¨) &#123; å‡½æ•°ä½“ return è¿”å›å€¼&#125; æŒ‰ç…§ä¸Šé¢çš„å®šä¹‰æ–¹å¼, æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå®Œæ•´çš„å‡½æ•°: 123int sum(num num1, num num2) &#123; return num1 + num2;&#125; Effective Dartå»ºè®®å¯¹å…¬å…±çš„API, ä½¿ç”¨ç±»å‹æ³¨è§£, ä½†æ˜¯å¦‚æœæˆ‘ä»¬çœç•¥æ‰äº†ç±»å‹, ä¾ç„¶æ˜¯å¯ä»¥æ­£å¸¸å·¥ä½œçš„ 123sum(num1, num2) &#123; return num1 + num2;&#125; å¦å¤–, å¦‚æœå‡½æ•°ä¸­åªæœ‰ä¸€ä¸ªè¡¨è¾¾å¼, é‚£ä¹ˆå¯ä»¥ä½¿ç”¨ç®­å¤´è¯­æ³•(arrow syntax) æ³¨æ„, è¿™é‡Œé¢åªèƒ½æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼, ä¸èƒ½æ˜¯ä¸€ä¸ªè¯­å¥ 1sum(num1, num2) &#x3D;&gt; num1 + num2; 5.2. å‡½æ•°çš„å‚æ•°é—®é¢˜ å‡½æ•°çš„å‚æ•°å¯ä»¥åˆ†æˆä¸¤ç±»: å¿…é¡»å‚æ•°å’Œå¯é€‰å‚æ•° å‰é¢ä½¿ç”¨çš„å‚æ•°éƒ½æ˜¯å¿…é¡»å‚æ•°. 5.2.1. å¯é€‰å‚æ•°å¯é€‰å‚æ•°å¯ä»¥åˆ†ä¸º å‘½åå¯é€‰å‚æ•° å’Œ ä½ç½®å¯é€‰å‚æ•° å®šä¹‰æ–¹å¼: 12å‘½åå¯é€‰å‚æ•°: &#123;param1, param2, ...&#125;ä½ç½®å¯é€‰å‚æ•°: [param1, param2, ...] å‘½åå¯é€‰å‚æ•°çš„æ¼”ç¤º: 12345678910&#x2F;&#x2F; å‘½åå¯é€‰å‚æ•°printInfo1(String name, &#123;int age, double height&#125;) &#123; print(&#39;name&#x3D;$name age&#x3D;$age height&#x3D;$height&#39;);&#125;&#x2F;&#x2F; è°ƒç”¨printInfo1å‡½æ•°printInfo1(&#39;why&#39;); &#x2F;&#x2F; name&#x3D;why age&#x3D;null height&#x3D;nullprintInfo1(&#39;why&#39;, age: 18); &#x2F;&#x2F; name&#x3D;why age&#x3D;18 height&#x3D;nullprintInfo1(&#39;why&#39;, age: 18, height: 1.88); &#x2F;&#x2F; name&#x3D;why age&#x3D;18 height&#x3D;1.88printInfo1(&#39;why&#39;, height: 1.88); &#x2F;&#x2F; name&#x3D;why age&#x3D;null height&#x3D;1.88 ä½ç½®å¯é€‰å‚æ•°çš„æ¼”ç¤º: 123456789&#x2F;&#x2F; å®šä¹‰ä½ç½®å¯é€‰å‚æ•°printInfo2(String name, [int age, double height]) &#123; print(&#39;name&#x3D;$name age&#x3D;$age height&#x3D;$height&#39;);&#125;&#x2F;&#x2F; è°ƒç”¨printInfo2å‡½æ•°printInfo2(&#39;why&#39;); &#x2F;&#x2F; name&#x3D;why age&#x3D;null height&#x3D;nullprintInfo2(&#39;why&#39;, 18); &#x2F;&#x2F; name&#x3D;why age&#x3D;18 height&#x3D;nullprintInfo2(&#39;why&#39;, 18, 1.88); &#x2F;&#x2F; name&#x3D;why age&#x3D;18 height&#x3D;1.88 å‘½åå¯é€‰å‚æ•°, å¯ä»¥æŒ‡å®šæŸä¸ªå‚æ•°æ˜¯å¿…ä¼ çš„(ä½¿ç”¨@required, æœ‰é—®é¢˜) 1234&#x2F;&#x2F; å‘½åå¯é€‰å‚æ•°çš„å¿…é¡»printInfo3(String name, &#123;int age, double height, @required String address&#125;) &#123; print(&#39;name&#x3D;$name age&#x3D;$age height&#x3D;$height address&#x3D;$address&#39;);&#125; 5.2.2. å‚æ•°é»˜è®¤å€¼å‚æ•°å¯ä»¥æœ‰é»˜è®¤å€¼, åœ¨ä¸ä¼ å…¥çš„æƒ…å†µä¸‹, ä½¿ç”¨é»˜è®¤å€¼ æ³¨æ„, åªæœ‰å¯é€‰å‚æ•°æ‰å¯ä»¥æœ‰é»˜è®¤å€¼, å¿…é¡»å‚æ•°ä¸èƒ½æœ‰é»˜è®¤å€¼ 1234&#x2F;&#x2F; å‚æ•°çš„é»˜è®¤å€¼printInfo4(String name, &#123;int age &#x3D; 18, double height&#x3D;1.88&#125;) &#123; print(&#39;name&#x3D;$name age&#x3D;$age height&#x3D;$height&#39;);&#125; Dartä¸­çš„mainå‡½æ•°å°±æ˜¯ä¸€ä¸ªæ¥å—å¯é€‰çš„åˆ—è¡¨å‚æ•°ä½œä¸ºå‚æ•°çš„, æ‰€ä»¥åœ¨ä½¿ç”¨mainå‡½æ•°æ—¶, æˆ‘ä»¬å¯ä»¥ä¼ å…¥å‚æ•°, ä¹Ÿå¯ä»¥ä¸ä¼ å…¥ 5.3. å‡½æ•°æ˜¯ä¸€ç­‰å…¬æ°‘åœ¨å¾ˆå¤šè¯­è¨€ä¸­, å‡½æ•°å¹¶ä¸èƒ½ä½œä¸ºä¸€ç­‰å…¬æ°‘æ¥ä½¿ç”¨, æ¯”å¦‚Java/OC. è¿™ç§é™åˆ¶è®©ç¼–ç¨‹ä¸å¤Ÿçµæ´», æ‰€ä»¥ç°ä»£çš„ç¼–ç¨‹è¯­è¨€åŸºæœ¬éƒ½æ”¯æŒå‡½æ•°ä½œä¸ºä¸€ç­‰å…¬æ°‘æ¥ä½¿ç”¨, Dartä¹Ÿæ”¯æŒ. è¿™å°±æ„å‘³ç€ä½ å¯ä»¥å°†å‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡, ä¹Ÿå¯ä»¥å°†å‡½æ•°ä½œä¸ºå¦å¤–ä¸€ä¸ªå‡½æ•°çš„å‚æ•°æˆ–è€…è¿”å›å€¼æ¥ä½¿ç”¨. 123456789101112131415161718192021222324252627main(List&lt;String&gt; args) &#123; &#x2F;&#x2F; 1.å°†å‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ var bar &#x3D; foo; print(bar); &#x2F;&#x2F; 2.å°†å‡½æ•°ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„å‚æ•° test(foo); &#x2F;&#x2F; 3.å°†å‡½æ•°ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼ var func &#x3D;getFunc(); func(&#39;kobe&#39;);&#125;&#x2F;&#x2F; 1.å®šä¹‰ä¸€ä¸ªå‡½æ•°foo(String name) &#123; print(&#39;ä¼ å…¥çš„name:$name&#39;);&#125;&#x2F;&#x2F; 2.å°†å‡½æ•°ä½œä¸ºå¦å¤–ä¸€ä¸ªå‡½æ•°çš„å‚æ•°test(Function func) &#123; func(&#39;coderwhy&#39;);&#125;&#x2F;&#x2F; 3.å°†å‡½æ•°ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼getFunc() &#123; return foo;&#125; 5.4. åŒ¿åå‡½æ•°çš„ä½¿ç”¨å¤§éƒ¨åˆ†æˆ‘ä»¬å®šä¹‰çš„å‡½æ•°éƒ½ä¼šæœ‰è‡ªå·±çš„åå­—ï¼Œ æ¯”å¦‚å‰é¢å®šä¹‰çš„fooã€testå‡½æ•°ç­‰ç­‰ã€‚ ä½†æ˜¯æŸäº›æƒ…å†µä¸‹ï¼Œç»™å‡½æ•°å‘½åå¤ªéº»çƒ¦äº†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ²¡æœ‰åå­—çš„å‡½æ•°ï¼Œè¿™ç§å‡½æ•°å¯ä»¥è¢«ç§°ä¹‹ä¸ºåŒ¿åå‡½æ•°( anonymous function)ï¼Œä¹Ÿå¯ä»¥å«lambdaæˆ–è€…closureã€‚ 12345678910111213141516main(List&lt;String&gt; args) &#123; &#x2F;&#x2F; 1.å®šä¹‰æ•°ç»„ var movies &#x3D; [&#39;ç›—æ¢¦ç©ºé—´&#39;, &#39;æ˜Ÿé™…ç©¿è¶Š&#39;, &#39;å°‘å¹´æ´¾&#39;, &#39;å¤§è¯è¥¿æ¸¸&#39;]; &#x2F;&#x2F; 2.ä½¿ç”¨forEachéå†: æœ‰åå­—çš„å‡½æ•° printElement(item) &#123; print(item); &#125; movies.forEach(printElement); &#x2F;&#x2F; 3.ä½¿ç”¨forEachéå†: åŒ¿åå‡½æ•° movies.forEach((item) &#123; print(item); &#125;); movies.forEach((item) &#x3D;&gt; print(item));&#125; 5.5. è¯æ³•ä½œç”¨åŸŸdartä¸­çš„è¯æ³•æœ‰è‡ªå·±æ˜ç¡®çš„ä½œç”¨åŸŸèŒƒå›´ï¼Œå®ƒæ˜¯æ ¹æ®ä»£ç çš„ç»“æ„({})æ¥å†³å®šä½œç”¨åŸŸèŒƒå›´çš„ ä¼˜å…ˆä½¿ç”¨è‡ªå·±ä½œç”¨åŸŸä¸­çš„å˜é‡ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ä¸€å±‚å±‚å‘å¤–æŸ¥æ‰¾ã€‚ 12345678910var name &#x3D; &#39;global&#39;;main(List&lt;String&gt; args) &#123; &#x2F;&#x2F; var name &#x3D; &#39;main&#39;; void foo() &#123; &#x2F;&#x2F; var name &#x3D; &#39;foo&#39;; print(name); &#125; foo();&#125; 5.6. è¯æ³•é—­åŒ…é—­åŒ…å¯ä»¥è®¿é—®å…¶è¯æ³•èŒƒå›´å†…çš„å˜é‡ï¼Œå³ä½¿å‡½æ•°åœ¨å…¶ä»–åœ°æ–¹è¢«ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥æ­£å¸¸çš„è®¿é—®ã€‚ 123456789101112131415main(List&lt;String&gt; args) &#123; makeAdder(num addBy) &#123; return (num i) &#123; return i + addBy; &#125;; &#125; var adder2 &#x3D; makeAdder(2); print(adder2(10)); &#x2F;&#x2F; 12 print(adder2(6)); &#x2F;&#x2F; 8 var adder5 &#x3D; makeAdder(5); print(adder5(10)); &#x2F;&#x2F; 15 print(adder5(6)); &#x2F;&#x2F; 11&#125; 5.7. è¿”å›å€¼é—®é¢˜æ‰€æœ‰å‡½æ•°éƒ½è¿”å›ä¸€ä¸ªå€¼ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šè¿”å›å€¼ï¼Œåˆ™è¯­å¥è¿”å›null;éšå¼é™„åŠ åˆ°å‡½æ•°ä½“ã€‚ 1234567main(List&lt;String&gt; args) &#123; print(foo()); &#x2F;&#x2F; null&#125;foo() &#123; print(&#39;foo function&#39;);&#125; ä½œè€…ï¼šcoderwhyé“¾æ¥ï¼šhttps://juejin.im/post/5d76340c6fb9a06adb800961æ¥æºï¼šæ˜é‡‘","tags":[]},{"title":"V8å¼•æ“åƒåœ¾å†…å­˜å›æ”¶åŸç†è§£æ","date":"2019-12-27T01:53:43.558Z","path":"2019/12/27/V8å¼•æ“åƒåœ¾å†…å­˜å›æ”¶åŸç†è§£æ/","text":"V8 å¼•æ“åƒåœ¾å†…å­˜å›æ”¶åŸç†è§£æJS è¯­è¨€ä¸åƒ C/C++, è®©ç¨‹åºå‘˜è‡ªå·±å»å¼€è¾Ÿæˆ–è€…é‡Šæ”¾å†…å­˜ï¼Œè€Œæ˜¯ç±»ä¼¼Javaï¼Œé‡‡ç”¨è‡ªå·±çš„ä¸€å¥—åƒåœ¾å›æ”¶ç®—æ³•è¿›è¡Œè‡ªåŠ¨çš„å†…å­˜ç®¡ç†ã€‚ ä½œä¸ºä¸€åèµ„æ·±çš„å‰ç«¯å·¥ç¨‹å¸ˆï¼Œå¯¹äºJSå†…å­˜å›æ”¶çš„æœºåˆ¶æ˜¯éœ€è¦éå¸¸æ¸…æ¥šï¼Œä»¥ä¾¿äºåœ¨æç«¯çš„ç¯å¢ƒä¸‹èƒ½å¤Ÿåˆ†æå‡ºç³»ç»Ÿæ€§èƒ½çš„ç“¶é¢ˆï¼Œå¦ä¸€æ–¹é¢ï¼Œå­¦ä¹  è¿™å…¶ä¸­çš„æœºåˆ¶ï¼Œä¹Ÿå¯¹æˆ‘ä»¬æ·±å…¥ç†è§£JSçš„é—­åŒ…ç‰¹æ€§ã€ä»¥åŠå¯¹å†…å­˜çš„é«˜æ•ˆä½¿ç”¨ï¼Œéƒ½æœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚ V8 å†…å­˜é™åˆ¶åœ¨å…¶ä»–çš„åç«¯è¯­è¨€ä¸­ï¼Œå¦‚Java/Go, å¯¹äºå†…å­˜çš„ä½¿ç”¨æ²¡æœ‰ä»€ä¹ˆé™åˆ¶ï¼Œä½†æ˜¯JSä¸ä¸€æ ·ï¼ŒV8åªèƒ½ä½¿ç”¨ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†å†…å­˜ï¼Œå…·ä½“æ¥è¯´ï¼Œåœ¨64ä½ç³»ç»Ÿä¸‹ï¼Œ V8æœ€å¤šåªèƒ½åˆ†é…1.4G, åœ¨ 32 ä½ç³»ç»Ÿä¸­ï¼Œæœ€å¤šåªèƒ½åˆ†é…0.7Gã€‚ä½ æƒ³æƒ³åœ¨å‰ç«¯è¿™æ ·çš„å¤§å†…å­˜éœ€æ±‚å…¶å®å¹¶ä¸å¤§ï¼Œä½†å¯¹äºåç«¯è€Œè¨€ï¼Œnodejså¦‚æœé‡åˆ° ä¸€ä¸ª2Gå¤šçš„æ–‡ä»¶ï¼Œé‚£ä¹ˆå°†æ— æ³•å…¨éƒ¨å°†å…¶è¯»å…¥å†…å­˜è¿›è¡Œå„ç§æ“ä½œäº†ã€‚ æˆ‘ä»¬çŸ¥é“å¯¹äºæ ˆå†…å­˜è€Œè¨€ï¼Œå½“ESPæŒ‡é’ˆä¸‹ç§»ï¼Œä¹Ÿå°±æ˜¯ä¸Šä¸‹æ–‡åˆ‡æ¢ä¹‹åï¼Œæ ˆé¡¶çš„ç©ºé—´ä¼šè‡ªåŠ¨è¢«å›æ”¶ã€‚ä½†å¯¹äºå †å†…å­˜è€Œè¨€å°±æ¯”è¾ƒå¤æ‚äº†ï¼Œæˆ‘ä»¬ä¸‹é¢ç€é‡åˆ†æ å †å†…å­˜çš„åƒåœ¾å›æ”¶ã€‚ æ‰€æœ‰çš„å¯¹è±¡ç±»å‹çš„æ•°æ®åœ¨JSä¸­éƒ½æ˜¯é€šè¿‡å †è¿›è¡Œç©ºé—´åˆ†é…çš„ã€‚å½“æˆ‘ä»¬æ„é€ ä¸€ä¸ªå¯¹è±¡è¿›è¡Œèµ‹å€¼æ“ä½œçš„æ—¶å€™ï¼Œå…¶å®ç›¸åº”çš„å†…å­˜ å·²ç»åˆ†é…åˆ°äº†å †ä¸Šã€‚ä½ å¯ä»¥ä¸æ–­çš„è¿™æ ·åˆ›å»ºå¯¹è±¡ï¼Œè®© V8 ä¸ºå®ƒåˆ†é…ç©ºé—´ï¼Œç›´åˆ°å †çš„å¤§å°è¾¾åˆ°ä¸Šé™ã€‚ é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼ŒV8 ä¸ºä»€ä¹ˆè¦ç»™å®ƒè®¾ç½®å†…å­˜ä¸Šé™ï¼Ÿæ˜æ˜æˆ‘çš„æœºå™¨å¤§å‡ åGçš„å†…å­˜ï¼Œåªèƒ½è®©æˆ‘ç”¨è¿™ä¹ˆä¸€ç‚¹ï¼Ÿ ç©¶å…¶æ ¹æœ¬ï¼Œæ˜¯ç”±ä¸¤ä¸ªå› ç´ æ‰€å…±åŒå†³å®šçš„ï¼Œä¸€ä¸ªæ˜¯JSå•çº¿ç¨‹çš„æ‰§è¡Œæœºåˆ¶ï¼Œå¦ä¸€ä¸ªæ˜¯JSåƒåœ¾å›æ”¶æœºåˆ¶çš„é™åˆ¶ã€‚ é¦–å…ˆJSæ˜¯å•çº¿ç¨‹è¿è¡Œçš„ï¼Œè¿™æ„å‘³ç€ä¸€æ—¦è¿›å…¥åˆ°åƒåœ¾å›æ”¶ï¼Œé‚£ä¹ˆå…¶å®ƒçš„å„ç§è¿è¡Œé€»è¾‘éƒ½è¦æš‚åœ; å¦ä¸€æ–¹é¢åƒåœ¾å›æ”¶å…¶å®æ˜¯éå¸¸è€—æ—¶é—´çš„æ“ä½œï¼ŒV8 å®˜æ–¹æ˜¯è¿™æ ·å½¢å®¹çš„: ä»¥ 1.5GB çš„åƒåœ¾å›æ”¶å †å†…å­˜ä¸ºä¾‹ï¼ŒV8 åšä¸€æ¬¡å°çš„åƒåœ¾å›æ”¶éœ€è¦50ms ä»¥ä¸Šï¼Œåšä¸€æ¬¡éå¢é‡å¼(ps:åé¢ä¼šè§£é‡Š)çš„åƒåœ¾å›æ”¶ç”šè‡³è¦ 1s ä»¥ä¸Šã€‚ å¯è§å…¶è€—æ—¶ä¹‹ä¹…ï¼Œè€Œä¸”åœ¨è¿™ä¹ˆé•¿çš„æ—¶é—´å†…ï¼Œæˆ‘ä»¬çš„JSä»£ç æ‰§è¡Œä¼šä¸€ç›´æ²¡æœ‰å“åº”ï¼Œé€ æˆåº”ç”¨å¡é¡¿ï¼Œå¯¼è‡´åº”ç”¨æ€§èƒ½å’Œå“åº”èƒ½åŠ›ç›´çº¿ä¸‹é™ã€‚å› æ­¤ï¼ŒV8 åšäº†ä¸€ä¸ªç®€å•ç²—æš´çš„ é€‰æ‹©ï¼Œé‚£å°±æ˜¯é™åˆ¶å †å†…å­˜ï¼Œä¹Ÿç®—æ˜¯ä¸€ç§æƒè¡¡çš„æ‰‹æ®µï¼Œå› ä¸ºå¤§éƒ¨åˆ†æƒ…å†µæ˜¯ä¸ä¼šé‡åˆ°æ“ä½œå‡ ä¸ªGå†…å­˜è¿™æ ·çš„åœºæ™¯çš„ã€‚ ä¸è¿‡ï¼Œå¦‚æœä½ æƒ³è°ƒæ•´è¿™ä¸ªå†…å­˜çš„é™åˆ¶ä¹Ÿä¸æ˜¯ä¸è¡Œã€‚é…ç½®å‘½ä»¤å¦‚ä¸‹: 12&#x2F;&#x2F; è¿™æ˜¯è°ƒæ•´è€ç”Ÿä»£è¿™éƒ¨åˆ†çš„å†…å­˜ï¼Œå•ä½æ˜¯MBã€‚åé¢ä¼šè¯¦ç»†ä»‹ç»æ–°ç”Ÿä»£å’Œè€ç”Ÿä»£å†…å­˜node --max-old-space-size&#x3D;2048 xxx.js æˆ–è€… 12&#x2F;&#x2F; è¿™æ˜¯è°ƒæ•´æ–°ç”Ÿä»£è¿™éƒ¨åˆ†çš„å†…å­˜ï¼Œå•ä½æ˜¯ KBã€‚node --max-new-space-size&#x3D;2048 xxx.js æ–°ç”Ÿä»£å†…å­˜çš„å›æ”¶V8 æŠŠå †å†…å­˜åˆ†æˆäº†ä¸¤éƒ¨åˆ†è¿›è¡Œå¤„ç†â€”â€”æ–°ç”Ÿä»£å†…å­˜å’Œè€ç”Ÿä»£å†…å­˜ã€‚é¡¾åæ€ä¹‰ï¼Œæ–°ç”Ÿä»£å°±æ˜¯ä¸´æ—¶åˆ†é…çš„å†…å­˜ï¼Œå­˜æ´»æ—¶é—´çŸ­ï¼Œ è€ç”Ÿä»£æ˜¯å¸¸é©»å†…å­˜ï¼Œå­˜æ´»çš„æ—¶é—´é•¿ã€‚V8 çš„å †å†…å­˜ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªå†…å­˜ ä¹‹å’Œã€‚ æ ¹æ®è¿™ä¸¤ç§ä¸åŒç§ç±»çš„å †å†…å­˜ï¼ŒV8 é‡‡ç”¨äº†ä¸åŒçš„å›æ”¶ç­–ç•¥ï¼Œæ¥æ ¹æ®ä¸åŒçš„åœºæ™¯åšé’ˆå¯¹æ€§çš„ä¼˜åŒ–ã€‚ é¦–å…ˆæ˜¯æ–°ç”Ÿä»£çš„å†…å­˜ï¼Œåˆšåˆšå·²ç»ä»‹ç»äº†è°ƒæ•´æ–°ç”Ÿä»£å†…å­˜çš„æ–¹æ³•ï¼Œé‚£å®ƒçš„å†…å­˜é»˜è®¤é™åˆ¶æ˜¯å¤šå°‘ï¼Ÿåœ¨ 64 ä½å’Œ 32 ä½ç³»ç»Ÿä¸‹åˆ†åˆ«ä¸º 32MB å’Œ 16MBã€‚å¤Ÿå°å§ï¼Œä¸è¿‡ä¹Ÿå¾ˆå¥½ ç†è§£ï¼Œæ–°ç”Ÿä»£ä¸­çš„å˜é‡å­˜æ´»æ—¶é—´çŸ­ï¼Œæ¥äº†é©¬ä¸Šå°±èµ°ï¼Œä¸å®¹æ˜“äº§ç”Ÿå¤ªå¤§çš„å†…å­˜è´Ÿæ‹…ï¼Œå› æ­¤å¯ä»¥å°†å®ƒè®¾çš„è¶³å¤Ÿå°ã€‚ é‚£å¥½äº†ï¼Œæ–°ç”Ÿä»£çš„åƒåœ¾å›æ”¶æ˜¯æ€ä¹ˆåšçš„å‘¢ï¼Ÿ é¦–å…ˆå°†æ–°ç”Ÿä»£å†…å­˜ç©ºé—´ä¸€åˆ†ä¸ºäºŒ: å…¶ä¸­Froméƒ¨åˆ†è¡¨ç¤ºæ­£åœ¨ä½¿ç”¨çš„å†…å­˜ï¼ŒTo æ˜¯ç›®å‰é—²ç½®çš„å†…å­˜ã€‚ å½“è¿›è¡Œåƒåœ¾å›æ”¶æ—¶ï¼ŒV8 å°†Froméƒ¨åˆ†çš„å¯¹è±¡æ£€æŸ¥ä¸€éï¼Œå¦‚æœæ˜¯å­˜æ´»å¯¹è±¡é‚£ä¹ˆå¤åˆ¶åˆ°Toå†…å­˜ä¸­(åœ¨Toå†…å­˜ä¸­æŒ‰ç…§é¡ºåºä»å¤´æ”¾ç½®çš„)ï¼Œå¦‚æœæ˜¯éå­˜æ´»å¯¹è±¡ç›´æ¥å›æ”¶å³å¯ã€‚ å½“æ‰€æœ‰çš„Fromä¸­çš„å­˜æ´»å¯¹è±¡æŒ‰ç…§é¡ºåºè¿›å…¥åˆ°Toå†…å­˜ä¹‹åï¼ŒFrom å’Œ To ä¸¤è€…çš„è§’è‰²å¯¹è°ƒï¼ŒFromç°åœ¨è¢«é—²ç½®ï¼ŒToä¸ºæ­£åœ¨ä½¿ç”¨ï¼Œå¦‚æ­¤å¾ªç¯ã€‚ é‚£ä½ å¾ˆå¯èƒ½ä¼šé—®äº†ï¼Œç›´æ¥å°†éå­˜æ´»å¯¹è±¡å›æ”¶äº†ä¸å°±ä¸‡äº‹å¤§å‰äº†å˜›ï¼Œä¸ºä»€ä¹ˆè¿˜è¦åé¢çš„ä¸€ç³»åˆ—æ“ä½œï¼Ÿ æ³¨æ„ï¼Œæˆ‘åˆšåˆšç‰¹åˆ«è¯´æ˜äº†ï¼Œåœ¨Toå†…å­˜ä¸­æŒ‰ç…§é¡ºåºä»å¤´æ”¾ç½®çš„ï¼Œè¿™æ˜¯ä¸ºäº†åº”å¯¹è¿™æ ·çš„åœºæ™¯: 16e62eaf5946cfc5 æ·±è‰²çš„å°æ–¹å—ä»£è¡¨å­˜æ´»å¯¹è±¡ï¼Œç™½è‰²éƒ¨åˆ†è¡¨ç¤ºå¾…åˆ†é…çš„å†…å­˜ï¼Œç”±äºå †å†…å­˜æ˜¯è¿ç»­åˆ†é…çš„ï¼Œè¿™æ ·é›¶é›¶æ•£æ•£çš„ç©ºé—´å¯èƒ½ä¼šå¯¼è‡´ç¨å¾®å¤§ä¸€ç‚¹çš„å¯¹è±¡æ²¡æœ‰åŠæ³•è¿›è¡Œç©ºé—´åˆ†é…ï¼Œ è¿™ç§é›¶æ•£çš„ç©ºé—´ä¹Ÿå«åšå†…å­˜ç¢ç‰‡ã€‚åˆšåˆšä»‹ç»çš„æ–°ç”Ÿä»£åƒåœ¾å›æ”¶ç®—æ³•ä¹Ÿå«Scavengeç®—æ³•ã€‚ Scavenge ç®—æ³•ä¸»è¦å°±æ˜¯è§£å†³å†…å­˜ç¢ç‰‡çš„é—®é¢˜ï¼Œåœ¨è¿›è¡Œä¸€é¡¿å¤åˆ¶ä¹‹åï¼ŒToç©ºé—´å˜æˆäº†è¿™ä¸ªæ ·å­: æ˜¯ä¸æ˜¯æ•´é½äº†è®¸å¤šï¼Ÿè¿™æ ·å°±å¤§å¤§æ–¹ä¾¿äº†åç»­è¿ç»­ç©ºé—´çš„åˆ†é…ã€‚ ä¸è¿‡Scavenge ç®—æ³•çš„åŠ£åŠ¿ä¹Ÿéå¸¸æ˜æ˜¾ï¼Œå°±æ˜¯å†…å­˜åªèƒ½ä½¿ç”¨æ–°ç”Ÿä»£å†…å­˜çš„ä¸€åŠï¼Œä½†æ˜¯å®ƒåªå­˜æ”¾ç”Ÿå‘½å‘¨æœŸçŸ­çš„å¯¹è±¡ï¼Œè¿™ç§å¯¹è±¡ä¸€èˆ¬å¾ˆå°‘ï¼Œå› æ­¤æ—¶é—´æ€§èƒ½éå¸¸ä¼˜ç§€ã€‚ è€ç”Ÿä»£å†…å­˜çš„å›æ”¶åˆšåˆšä»‹ç»äº†æ–°ç”Ÿä»£çš„å›æ”¶æ–¹å¼ï¼Œé‚£ä¹ˆæ–°ç”Ÿä»£ä¸­çš„å˜é‡å¦‚æœç»è¿‡å¤šæ¬¡å›æ”¶åä¾ç„¶å­˜åœ¨ï¼Œé‚£ä¹ˆå°±ä¼šè¢«æ”¾å…¥åˆ°è€ç”Ÿä»£å†…å­˜ä¸­ï¼Œè¿™ç§ç°è±¡å°±å«æ™‹å‡ã€‚ å‘ç”Ÿæ™‹å‡å…¶å®ä¸åªæ˜¯è¿™ä¸€ç§åŸå› ï¼Œæˆ‘ä»¬æ¥æ¢³ç†ä¸€ä¸‹ä¼šæœ‰é‚£äº›æƒ…å†µè§¦å‘æ™‹å‡: å·²ç»ç»å†è¿‡ä¸€æ¬¡ Scavenge å›æ”¶ã€‚ Toï¼ˆé—²ç½®ï¼‰ç©ºé—´çš„å†…å­˜å ç”¨è¶…è¿‡25%ã€‚ ç°åœ¨è¿›å…¥åˆ°è€ç”Ÿä»£çš„åƒåœ¾å›æ”¶æœºåˆ¶å½“ä¸­ï¼Œè€ç”Ÿä»£ä¸­ç´¯ç§¯çš„å˜é‡ç©ºé—´ä¸€èˆ¬éƒ½æ˜¯å¾ˆå¤§çš„ï¼Œå½“ç„¶ä¸èƒ½ç”¨Scavengeç®—æ³•å•¦ï¼Œæµªè´¹ä¸€åŠç©ºé—´ä¸è¯´ï¼Œå¯¹åºå¤§çš„å†…å­˜ç©ºé—´è¿›è¡Œå¤åˆ¶å²‚ä¸æ˜¯ åŠ³æ°‘ä¼¤è´¢ï¼Ÿ é‚£ä¹ˆå¯¹äºè€ç”Ÿä»£è€Œè¨€ï¼Œç©¶ç«Ÿæ˜¯é‡‡å–æ€æ ·çš„ç­–ç•¥è¿›è¡Œåƒåœ¾å›æ”¶çš„å‘¢ï¼Ÿ ç¬¬ä¸€æ­¥ï¼Œè¿›è¡Œæ ‡è®°-æ¸…é™¤ã€‚è¿™ä¸ªè¿‡ç¨‹åœ¨ã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡(ç¬¬ä¸‰ç‰ˆ)ã€‹ä¸­æœ‰è¿‡è¯¦ç»†çš„ä»‹ç»ï¼Œä¸»è¦åˆ†æˆä¸¤ä¸ªé˜¶æ®µï¼Œå³æ ‡è®°é˜¶æ®µå’Œæ¸…é™¤é˜¶æ®µã€‚é¦–å…ˆä¼šéå†å †ä¸­çš„æ‰€æœ‰å¯¹è±¡ï¼Œ å¯¹å®ƒä»¬åšä¸Šæ ‡è®°ï¼Œç„¶åå¯¹äºä»£ç ç¯å¢ƒä¸­ä½¿ç”¨çš„å˜é‡ä»¥åŠè¢«å¼ºå¼•ç”¨çš„å˜é‡å–æ¶ˆæ ‡è®°ï¼Œå‰©ä¸‹çš„å°±æ˜¯è¦åˆ é™¤çš„å˜é‡äº†ï¼Œåœ¨éšåçš„æ¸…é™¤é˜¶æ®µå¯¹å…¶è¿›è¡Œç©ºé—´çš„å›æ”¶ã€‚ å½“ç„¶è¿™åˆä¼šå¼•å‘å†…å­˜ç¢ç‰‡çš„é—®é¢˜ï¼Œå­˜æ´»å¯¹è±¡çš„ç©ºé—´ä¸è¿ç»­å¯¹åç»­çš„ç©ºé—´åˆ†é…é€ æˆéšœç¢ã€‚è€ç”Ÿä»£åˆæ˜¯å¦‚ä½•å¤„ç†è¿™ä¸ªé—®é¢˜çš„å‘¢ï¼Ÿ ç¬¬äºŒæ­¥ï¼Œæ•´ç†å†…å­˜ç¢ç‰‡ã€‚V8 çš„è§£å†³æ–¹å¼éå¸¸ç®€å•ç²—æš´ï¼Œåœ¨æ¸…é™¤é˜¶æ®µç»“æŸåï¼ŒæŠŠå­˜æ´»çš„å¯¹è±¡å…¨éƒ¨å¾€ä¸€ç«¯é æ‹¢ã€‚ 16e62eb43245357f ç”±äºæ˜¯ç§»åŠ¨å¯¹è±¡ï¼Œå®ƒçš„æ‰§è¡Œé€Ÿåº¦ä¸å¯èƒ½å¾ˆå¿«ï¼Œäº‹å®ä¸Šä¹Ÿæ˜¯æ•´ä¸ªè¿‡ç¨‹ä¸­æœ€è€—æ—¶é—´çš„éƒ¨åˆ†ã€‚ å¢é‡æ ‡è®°ç”±äºJSçš„å•çº¿ç¨‹æœºåˆ¶ï¼ŒV8 åœ¨è¿›è¡Œåƒåœ¾å›æ”¶çš„æ—¶å€™ï¼Œä¸å¯é¿å…åœ°ä¼šé˜»å¡ä¸šåŠ¡é€»è¾‘çš„æ‰§è¡Œï¼Œå€˜è‹¥è€ç”Ÿä»£çš„åƒåœ¾å›æ”¶ä»»åŠ¡å¾ˆé‡ï¼Œé‚£ä¹ˆè€—æ—¶ä¼šéå¸¸å¯æ€•ï¼Œä¸¥é‡å½±å“åº”ç”¨çš„æ€§èƒ½ã€‚ é‚£è¿™ä¸ªæ—¶å€™ä¸ºäº†é¿å…è¿™æ ·é—®é¢˜ï¼ŒV8 é‡‡å–äº†å¢é‡æ ‡è®°çš„æ–¹æ¡ˆï¼Œå³å°†ä¸€å£æ°”å®Œæˆçš„æ ‡è®°ä»»åŠ¡åˆ†ä¸ºå¾ˆå¤šå°çš„éƒ¨åˆ†å®Œæˆï¼Œæ¯åšå®Œä¸€ä¸ªå°çš„éƒ¨åˆ†å°±â€æ­‡â€ä¸€ä¸‹ï¼Œå°±jsåº”ç”¨é€»è¾‘æ‰§è¡Œä¸€ä¼šå„¿ï¼Œ ç„¶åå†æ‰§è¡Œä¸‹é¢çš„éƒ¨åˆ†ï¼Œå¦‚æœå¾ªç¯ï¼Œç›´åˆ°æ ‡è®°é˜¶æ®µå®Œæˆæ‰è¿›å…¥å†…å­˜ç¢ç‰‡çš„æ•´ç†ä¸Šé¢æ¥ã€‚å…¶å®è¿™ä¸ªè¿‡ç¨‹è·ŸReact Fiberçš„æ€è·¯æœ‰ç‚¹åƒï¼Œè¿™é‡Œå°±ä¸å±•å¼€äº†ã€‚ ç»è¿‡å¢é‡æ ‡è®°ä¹‹åï¼Œåƒåœ¾å›æ”¶è¿‡ç¨‹å¯¹JSåº”ç”¨çš„é˜»å¡æ—¶é—´å‡å°‘åˆ°åŸæ¥äº†1 / 6, å¯ä»¥çœ‹åˆ°ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸æˆåŠŸçš„æ”¹è¿›ã€‚ JSåƒåœ¾å›æ”¶çš„åŸç†å°±ä»‹ç»åˆ°è¿™é‡Œäº†ï¼Œå…¶å®ç†è§£èµ·æ¥æ˜¯éå¸¸ç®€å•çš„ï¼Œé‡è¦çš„æ˜¯ç†è§£å®ƒä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Œè€Œä¸ä»…ä»…æ˜¯å¦‚ä½•åšçš„ï¼Œå¸Œæœ›è¿™ç¯‡æ€»ç»“èƒ½å¤Ÿå¯¹ä½ æœ‰æ‰€å¯å‘","tags":[]},{"title":"Vueç›¸å…³é—®é¢˜(ä¸€)","date":"2019-12-26T09:53:10.202Z","path":"2019/12/26/Vueç›¸å…³é—®é¢˜(ä¸€)/","text":"1ã€è¯´è¯´ä½ å¯¹ SPA å•é¡µé¢çš„ç†è§£ï¼Œå®ƒçš„ä¼˜ç¼ºç‚¹åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼ŸSPAï¼ˆ single-page application ï¼‰ä»…åœ¨ Web é¡µé¢åˆå§‹åŒ–æ—¶åŠ è½½ç›¸åº”çš„ HTMLã€JavaScript å’Œ CSSã€‚ä¸€æ—¦é¡µé¢åŠ è½½å®Œæˆï¼ŒSPA ä¸ä¼šå› ä¸ºç”¨æˆ·çš„æ“ä½œè€Œè¿›è¡Œé¡µé¢çš„é‡æ–°åŠ è½½æˆ–è·³è½¬ï¼›å–è€Œä»£ä¹‹çš„æ˜¯åˆ©ç”¨è·¯ç”±æœºåˆ¶å®ç° HTML å†…å®¹çš„å˜æ¢ï¼ŒUI ä¸ç”¨æˆ·çš„äº¤äº’ï¼Œé¿å…é¡µé¢çš„é‡æ–°åŠ è½½ã€‚ ä¼˜ç‚¹ï¼š ç”¨æˆ·ä½“éªŒå¥½ã€å¿«ï¼Œå†…å®¹çš„æ”¹å˜ä¸éœ€è¦é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ï¼Œé¿å…äº†ä¸å¿…è¦çš„è·³è½¬å’Œé‡å¤æ¸²æŸ“ï¼› åŸºäºä¸Šé¢ä¸€ç‚¹ï¼ŒSPA ç›¸å¯¹å¯¹æœåŠ¡å™¨å‹åŠ›å°ï¼› å‰åç«¯èŒè´£åˆ†ç¦»ï¼Œæ¶æ„æ¸…æ™°ï¼Œå‰ç«¯è¿›è¡Œäº¤äº’é€»è¾‘ï¼Œåç«¯è´Ÿè´£æ•°æ®å¤„ç†ï¼› ç¼ºç‚¹ï¼š åˆæ¬¡åŠ è½½è€—æ—¶å¤šï¼šä¸ºå®ç°å•é¡µ Web åº”ç”¨åŠŸèƒ½åŠæ˜¾ç¤ºæ•ˆæœï¼Œéœ€è¦åœ¨åŠ è½½é¡µé¢çš„æ—¶å€™å°† JavaScriptã€CSS ç»Ÿä¸€åŠ è½½ï¼Œéƒ¨åˆ†é¡µé¢æŒ‰éœ€åŠ è½½ï¼› å‰è¿›åé€€è·¯ç”±ç®¡ç†ï¼šç”±äºå•é¡µåº”ç”¨åœ¨ä¸€ä¸ªé¡µé¢ä¸­æ˜¾ç¤ºæ‰€æœ‰çš„å†…å®¹ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨æµè§ˆå™¨çš„å‰è¿›åé€€åŠŸèƒ½ï¼Œæ‰€æœ‰çš„é¡µé¢åˆ‡æ¢éœ€è¦è‡ªå·±å»ºç«‹å †æ ˆç®¡ç†ï¼› SEO éš¾åº¦è¾ƒå¤§ï¼šç”±äºæ‰€æœ‰çš„å†…å®¹éƒ½åœ¨ä¸€ä¸ªé¡µé¢ä¸­åŠ¨æ€æ›¿æ¢æ˜¾ç¤ºï¼Œæ‰€ä»¥åœ¨ SEO ä¸Šå…¶æœ‰ç€å¤©ç„¶çš„å¼±åŠ¿ã€‚ 2ã€v-show ä¸ v-if æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿv-if æ˜¯çœŸæ­£çš„æ¡ä»¶æ¸²æŸ“ï¼Œå› ä¸ºå®ƒä¼šç¡®ä¿åœ¨åˆ‡æ¢è¿‡ç¨‹ä¸­æ¡ä»¶å—å†…çš„äº‹ä»¶ç›‘å¬å™¨å’Œå­ç»„ä»¶é€‚å½“åœ°è¢«é”€æ¯å’Œé‡å»ºï¼›ä¹Ÿæ˜¯æƒ°æ€§çš„ï¼šå¦‚æœåœ¨åˆå§‹æ¸²æŸ“æ—¶æ¡ä»¶ä¸ºå‡ï¼Œåˆ™ä»€ä¹ˆä¹Ÿä¸åšâ€”â€”ç›´åˆ°æ¡ä»¶ç¬¬ä¸€æ¬¡å˜ä¸ºçœŸæ—¶ï¼Œæ‰ä¼šå¼€å§‹æ¸²æŸ“æ¡ä»¶å—ã€‚ v-show å°±ç®€å•å¾—å¤šâ€”â€”ä¸ç®¡åˆå§‹æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Œå…ƒç´ æ€»æ˜¯ä¼šè¢«æ¸²æŸ“ï¼Œå¹¶ä¸”åªæ˜¯ç®€å•åœ°åŸºäº CSS çš„ â€œdisplayâ€ å±æ€§è¿›è¡Œåˆ‡æ¢ã€‚ æ‰€ä»¥ï¼Œv-if é€‚ç”¨äºåœ¨è¿è¡Œæ—¶å¾ˆå°‘æ”¹å˜æ¡ä»¶ï¼Œä¸éœ€è¦é¢‘ç¹åˆ‡æ¢æ¡ä»¶çš„åœºæ™¯ï¼›v-show åˆ™é€‚ç”¨äºéœ€è¦éå¸¸é¢‘ç¹åˆ‡æ¢æ¡ä»¶çš„åœºæ™¯ã€‚ 3ã€Class ä¸ Style å¦‚ä½•åŠ¨æ€ç»‘å®šï¼ŸClass å¯ä»¥é€šè¿‡å¯¹è±¡è¯­æ³•å’Œæ•°ç»„è¯­æ³•è¿›è¡ŒåŠ¨æ€ç»‘å®šï¼š å¯¹è±¡è¯­æ³•ï¼š 123456&lt;div v-bind:class&#x3D;&quot;&#123; active: isActive, &#39;text-danger&#39;: hasError &#125;&quot;&gt;&lt;&#x2F;div&gt;data: &#123; isActive: true, hasError: false&#125; æ•°ç»„è¯­æ³•ï¼š 123456&lt;div v-bind:class&#x3D;&quot;[isActive ? activeClass : &#39;&#39;, errorClass]&quot;&gt;&lt;&#x2F;div&gt;data: &#123; activeClass: &#39;active&#39;, errorClass: &#39;text-danger&#39;&#125; Style ä¹Ÿå¯ä»¥é€šè¿‡å¯¹è±¡è¯­æ³•å’Œæ•°ç»„è¯­æ³•è¿›è¡ŒåŠ¨æ€ç»‘å®šï¼š å¯¹è±¡è¯­æ³•ï¼š 123456&lt;div v-bind:style&#x3D;&quot;&#123; color: activeColor, fontSize: fontSize + &#39;px&#39; &#125;&quot;&gt;&lt;&#x2F;div&gt;data: &#123; activeColor: &#39;red&#39;, fontSize: 30&#125; æ•°ç»„è¯­æ³•ï¼š 12345678910&lt;div v-bind:style&#x3D;&quot;[styleColor, styleSize]&quot;&gt;&lt;&#x2F;div&gt;data: &#123; styleColor: &#123; color: &#39;red&#39; &#125;, styleSize:&#123; fontSize:&#39;23px&#39; &#125;&#125; 4ã€æ€æ ·ç†è§£ Vue çš„å•å‘æ•°æ®æµï¼Ÿæ‰€æœ‰çš„ prop éƒ½ä½¿å¾—å…¶çˆ¶å­ prop ä¹‹é—´å½¢æˆäº†ä¸€ä¸ªå•å‘ä¸‹è¡Œç»‘å®šï¼šçˆ¶çº§ prop çš„æ›´æ–°ä¼šå‘ä¸‹æµåŠ¨åˆ°å­ç»„ä»¶ä¸­ï¼Œä½†æ˜¯åè¿‡æ¥åˆ™ä¸è¡Œã€‚è¿™æ ·ä¼šé˜²æ­¢ä»å­ç»„ä»¶æ„å¤–æ”¹å˜çˆ¶çº§ç»„ä»¶çš„çŠ¶æ€ï¼Œä»è€Œå¯¼è‡´ä½ çš„åº”ç”¨çš„æ•°æ®æµå‘éš¾ä»¥ç†è§£ã€‚ é¢å¤–çš„ï¼Œæ¯æ¬¡çˆ¶çº§ç»„ä»¶å‘ç”Ÿæ›´æ–°æ—¶ï¼Œå­ç»„ä»¶ä¸­æ‰€æœ‰çš„ prop éƒ½å°†ä¼šåˆ·æ–°ä¸ºæœ€æ–°çš„å€¼ã€‚è¿™æ„å‘³ç€ä½ ä¸åº”è¯¥åœ¨ä¸€ä¸ªå­ç»„ä»¶å†…éƒ¨æ”¹å˜ propã€‚å¦‚æœä½ è¿™æ ·åšäº†ï¼ŒVue ä¼šåœ¨æµè§ˆå™¨çš„æ§åˆ¶å°ä¸­å‘å‡ºè­¦å‘Šã€‚å­ç»„ä»¶æƒ³ä¿®æ”¹æ—¶ï¼Œåªèƒ½é€šè¿‡ $emit æ´¾å‘ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶ï¼Œçˆ¶ç»„ä»¶æ¥æ”¶åˆ°åï¼Œç”±çˆ¶ç»„ä»¶ä¿®æ”¹ã€‚ æœ‰ä¸¤ç§å¸¸è§çš„è¯•å›¾æ”¹å˜ä¸€ä¸ª prop çš„æƒ…å½¢ : è¿™ä¸ª prop ç”¨æ¥ä¼ é€’ä¸€ä¸ªåˆå§‹å€¼ï¼›è¿™ä¸ªå­ç»„ä»¶æ¥ä¸‹æ¥å¸Œæœ›å°†å…¶ä½œä¸ºä¸€ä¸ªæœ¬åœ°çš„ prop æ•°æ®æ¥ä½¿ç”¨ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ€å¥½å®šä¹‰ä¸€ä¸ªæœ¬åœ°çš„ data å±æ€§å¹¶å°†è¿™ä¸ª prop ç”¨ä½œå…¶åˆå§‹å€¼ï¼š 123456props: [&#39;initialCounter&#39;],data: function () &#123; return &#123; counter: this.initialCounter &#125;&#125; è¿™ä¸ª prop ä»¥ä¸€ç§åŸå§‹çš„å€¼ä¼ å…¥ä¸”éœ€è¦è¿›è¡Œè½¬æ¢ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ€å¥½ä½¿ç”¨è¿™ä¸ª prop çš„å€¼æ¥å®šä¹‰ä¸€ä¸ªè®¡ç®—å±æ€§ 123456props: [&#39;size&#39;],computed: &#123; normalizedSize: function () &#123; return this.size.trim().toLowerCase() &#125;&#125; 5ã€computed å’Œ watch çš„åŒºåˆ«å’Œè¿ç”¨çš„åœºæ™¯ï¼Ÿcomputedï¼š æ˜¯è®¡ç®—å±æ€§ï¼Œä¾èµ–å…¶å®ƒå±æ€§å€¼ï¼Œå¹¶ä¸” computed çš„å€¼æœ‰ç¼“å­˜ï¼Œåªæœ‰å®ƒä¾èµ–çš„å±æ€§å€¼å‘ç”Ÿæ”¹å˜ï¼Œä¸‹ä¸€æ¬¡è·å– computed çš„å€¼æ—¶æ‰ä¼šé‡æ–°è®¡ç®— computed çš„å€¼ï¼› watchï¼š æ›´å¤šçš„æ˜¯ã€Œè§‚å¯Ÿã€çš„ä½œç”¨ï¼Œç±»ä¼¼äºæŸäº›æ•°æ®çš„ç›‘å¬å›è°ƒ ï¼Œæ¯å½“ç›‘å¬çš„æ•°æ®å˜åŒ–æ—¶éƒ½ä¼šæ‰§è¡Œå›è°ƒè¿›è¡Œåç»­æ“ä½œï¼› è¿ç”¨åœºæ™¯ï¼š å½“æˆ‘ä»¬éœ€è¦è¿›è¡Œæ•°å€¼è®¡ç®—ï¼Œå¹¶ä¸”ä¾èµ–äºå…¶å®ƒæ•°æ®æ—¶ï¼Œåº”è¯¥ä½¿ç”¨ computedï¼Œå› ä¸ºå¯ä»¥åˆ©ç”¨ computed çš„ç¼“å­˜ç‰¹æ€§ï¼Œé¿å…æ¯æ¬¡è·å–å€¼æ—¶ï¼Œéƒ½è¦é‡æ–°è®¡ç®—ï¼› å½“æˆ‘ä»¬éœ€è¦åœ¨æ•°æ®å˜åŒ–æ—¶æ‰§è¡Œå¼‚æ­¥æˆ–å¼€é”€è¾ƒå¤§çš„æ“ä½œæ—¶ï¼Œåº”è¯¥ä½¿ç”¨ watchï¼Œä½¿ç”¨ watch é€‰é¡¹å…è®¸æˆ‘ä»¬æ‰§è¡Œå¼‚æ­¥æ“ä½œ ( è®¿é—®ä¸€ä¸ª API )ï¼Œé™åˆ¶æˆ‘ä»¬æ‰§è¡Œè¯¥æ“ä½œçš„é¢‘ç‡ï¼Œå¹¶åœ¨æˆ‘ä»¬å¾—åˆ°æœ€ç»ˆç»“æœå‰ï¼Œè®¾ç½®ä¸­é—´çŠ¶æ€ã€‚è¿™äº›éƒ½æ˜¯è®¡ç®—å±æ€§æ— æ³•åšåˆ°çš„ã€‚ 6ã€ç›´æ¥ç»™ä¸€ä¸ªæ•°ç»„é¡¹èµ‹å€¼ï¼ŒVue èƒ½æ£€æµ‹åˆ°å˜åŒ–å—ï¼Ÿç”±äº JavaScript çš„é™åˆ¶ï¼ŒVue ä¸èƒ½æ£€æµ‹åˆ°ä»¥ä¸‹æ•°ç»„çš„å˜åŠ¨ï¼š å½“ä½ åˆ©ç”¨ç´¢å¼•ç›´æ¥è®¾ç½®ä¸€ä¸ªæ•°ç»„é¡¹æ—¶ï¼Œä¾‹å¦‚ï¼švm.items[indexOfItem] = newValue å½“ä½ ä¿®æ”¹æ•°ç»„çš„é•¿åº¦æ—¶ï¼Œä¾‹å¦‚ï¼švm.items.length = newLength ä¸ºäº†è§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜ï¼ŒVue æä¾›äº†ä»¥ä¸‹æ“ä½œæ–¹æ³•ï¼š 123456&#x2F;&#x2F; Vue.setVue.set(vm.items, indexOfItem, newValue)&#x2F;&#x2F; vm.$setï¼ŒVue.setçš„ä¸€ä¸ªåˆ«åvm.$set(vm.items, indexOfItem, newValue)&#x2F;&#x2F; Array.prototype.splicevm.items.splice(indexOfItem, 1, newValue) ä¸ºäº†è§£å†³ç¬¬äºŒä¸ªé—®é¢˜ï¼ŒVue æä¾›äº†ä»¥ä¸‹æ“ä½œæ–¹æ³•ï¼š 12&#x2F;&#x2F; Array.prototype.splicevm.items.splice(newLength) 7ã€è°ˆè°ˆä½ å¯¹ Vue ç”Ÿå‘½å‘¨æœŸçš„ç†è§£ï¼Ÿï¼ˆ1ï¼‰ç”Ÿå‘½å‘¨æœŸæ˜¯ä»€ä¹ˆï¼Ÿ Vue å®ä¾‹æœ‰ä¸€ä¸ªå®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸï¼Œä¹Ÿå°±æ˜¯ä»å¼€å§‹åˆ›å»ºã€åˆå§‹åŒ–æ•°æ®ã€ç¼–è¯‘æ¨¡ç‰ˆã€æŒ‚è½½ Dom -&gt; æ¸²æŸ“ã€æ›´æ–° -&gt; æ¸²æŸ“ã€å¸è½½ç­‰ä¸€ç³»åˆ—è¿‡ç¨‹ï¼Œæˆ‘ä»¬ç§°è¿™æ˜¯ Vue çš„ç”Ÿå‘½å‘¨æœŸã€‚ ï¼ˆ2ï¼‰å„ä¸ªç”Ÿå‘½å‘¨æœŸçš„ä½œç”¨ ç”Ÿå‘½å‘¨æœŸ æè¿° beforeCreate ç»„ä»¶å®ä¾‹è¢«åˆ›å»ºä¹‹åˆï¼Œç»„ä»¶çš„å±æ€§ç”Ÿæ•ˆä¹‹å‰ created ç»„ä»¶å®ä¾‹å·²ç»å®Œå…¨åˆ›å»ºï¼Œå±æ€§ä¹Ÿç»‘å®šï¼Œä½†çœŸå® dom è¿˜æ²¡æœ‰ç”Ÿæˆï¼Œ$el è¿˜ä¸å¯ç”¨ beforeMount åœ¨æŒ‚è½½å¼€å§‹ä¹‹å‰è¢«è°ƒç”¨ï¼šç›¸å…³çš„ render å‡½æ•°é¦–æ¬¡è¢«è°ƒç”¨ mounted el è¢«æ–°åˆ›å»ºçš„ vm.$el æ›¿æ¢ï¼Œå¹¶æŒ‚è½½åˆ°å®ä¾‹ä¸Šå»ä¹‹åè°ƒç”¨è¯¥é’©å­ beforeUpdate ç»„ä»¶æ•°æ®æ›´æ–°ä¹‹å‰è°ƒç”¨ï¼Œå‘ç”Ÿåœ¨è™šæ‹Ÿ DOM æ‰“è¡¥ä¸ä¹‹å‰ update ç»„ä»¶æ•°æ®æ›´æ–°ä¹‹å activited keep-alive ä¸“å±ï¼Œç»„ä»¶è¢«æ¿€æ´»æ—¶è°ƒç”¨ deadctivated keep-alive ä¸“å±ï¼Œç»„ä»¶è¢«é”€æ¯æ—¶è°ƒç”¨ beforeDestory ç»„ä»¶é”€æ¯å‰è°ƒç”¨ destoryed ç»„ä»¶é”€æ¯åè°ƒç”¨ ï¼ˆ3ï¼‰ç”Ÿå‘½å‘¨æœŸç¤ºæ„å›¾ ![1.png](data:image/svg+xml;utf8,) 8ã€Vue çš„çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°æ‰§è¡Œé¡ºåºï¼ŸVue çš„çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°æ‰§è¡Œé¡ºåºå¯ä»¥å½’ç±»ä¸ºä»¥ä¸‹ 4 éƒ¨åˆ†ï¼š åŠ è½½æ¸²æŸ“è¿‡ç¨‹ çˆ¶ beforeCreate -&gt; çˆ¶ created -&gt; çˆ¶ beforeMount -&gt; å­ beforeCreate -&gt; å­ created -&gt; å­ beforeMount -&gt; å­ mounted -&gt; çˆ¶ mounted å­ç»„ä»¶æ›´æ–°è¿‡ç¨‹ çˆ¶ beforeUpdate -&gt; å­ beforeUpdate -&gt; å­ updated -&gt; çˆ¶ updated çˆ¶ç»„ä»¶æ›´æ–°è¿‡ç¨‹ çˆ¶ beforeUpdate -&gt; çˆ¶ updated é”€æ¯è¿‡ç¨‹ çˆ¶ beforeDestroy -&gt; å­ beforeDestroy -&gt; å­ destroyed -&gt; çˆ¶ destroyed 9ã€åœ¨å“ªä¸ªç”Ÿå‘½å‘¨æœŸå†…è°ƒç”¨å¼‚æ­¥è¯·æ±‚ï¼Ÿå¯ä»¥åœ¨é’©å­å‡½æ•° createdã€beforeMountã€mounted ä¸­è¿›è¡Œè°ƒç”¨ï¼Œå› ä¸ºåœ¨è¿™ä¸‰ä¸ªé’©å­å‡½æ•°ä¸­ï¼Œdata å·²ç»åˆ›å»ºï¼Œå¯ä»¥å°†æœåŠ¡ç«¯ç«¯è¿”å›çš„æ•°æ®è¿›è¡Œèµ‹å€¼ã€‚ä½†æ˜¯æœ¬äººæ¨èåœ¨ created é’©å­å‡½æ•°ä¸­è°ƒç”¨å¼‚æ­¥è¯·æ±‚ï¼Œå› ä¸ºåœ¨ created é’©å­å‡½æ•°ä¸­è°ƒç”¨å¼‚æ­¥è¯·æ±‚æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š èƒ½æ›´å¿«è·å–åˆ°æœåŠ¡ç«¯æ•°æ®ï¼Œå‡å°‘é¡µé¢ loading æ—¶é—´ï¼› ssr ä¸æ”¯æŒ beforeMount ã€mounted é’©å­å‡½æ•°ï¼Œæ‰€ä»¥æ”¾åœ¨ created ä¸­æœ‰åŠ©äºä¸€è‡´æ€§ï¼› 10ã€åœ¨ä»€ä¹ˆé˜¶æ®µæ‰èƒ½è®¿é—®æ“ä½œDOMï¼Ÿåœ¨é’©å­å‡½æ•° mounted è¢«è°ƒç”¨å‰ï¼ŒVue å·²ç»å°†ç¼–è¯‘å¥½çš„æ¨¡æ¿æŒ‚è½½åˆ°é¡µé¢ä¸Šï¼Œæ‰€ä»¥åœ¨ mounted ä¸­å¯ä»¥è®¿é—®æ“ä½œ DOMã€‚vue å…·ä½“çš„ç”Ÿå‘½å‘¨æœŸç¤ºæ„å›¾å¯ä»¥å‚è§å¦‚ä¸‹ï¼Œç†è§£äº†æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå„ä¸ªé˜¶æ®µçš„æ“ä½œï¼Œå…³äºç”Ÿå‘½å‘¨æœŸç›¸å…³çš„é¢è¯•é¢˜å°±éš¾ä¸å€’ä½ äº†ã€‚ ![1.png](data:image/svg+xml;utf8,) 11ã€çˆ¶ç»„ä»¶å¯ä»¥ç›‘å¬åˆ°å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå—ï¼Ÿæ¯”å¦‚æœ‰çˆ¶ç»„ä»¶ Parent å’Œå­ç»„ä»¶ Childï¼Œå¦‚æœçˆ¶ç»„ä»¶ç›‘å¬åˆ°å­ç»„ä»¶æŒ‚è½½ mounted å°±åšä¸€äº›é€»è¾‘å¤„ç†ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å†™æ³•å®ç°ï¼š 1234567&#x2F;&#x2F; Parent.vue&lt;Child @mounted&#x3D;&quot;doSomething&quot;&#x2F;&gt; &#x2F;&#x2F; Child.vuemounted() &#123; this.$emit(&quot;mounted&quot;);&#125; ä»¥ä¸Šéœ€è¦æ‰‹åŠ¨é€šè¿‡ $emit è§¦å‘çˆ¶ç»„ä»¶çš„äº‹ä»¶ï¼Œæ›´ç®€å•çš„æ–¹å¼å¯ä»¥åœ¨çˆ¶ç»„ä»¶å¼•ç”¨å­ç»„ä»¶æ—¶é€šè¿‡ @hook æ¥ç›‘å¬å³å¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415&#x2F;&#x2F; Parent.vue&lt;Child @hook:mounted&#x3D;&quot;doSomething&quot; &gt;&lt;&#x2F;Child&gt;doSomething() &#123; console.log(&#39;çˆ¶ç»„ä»¶ç›‘å¬åˆ° mounted é’©å­å‡½æ•° ...&#39;);&#125;, &#x2F;&#x2F; Child.vuemounted()&#123; console.log(&#39;å­ç»„ä»¶è§¦å‘ mounted é’©å­å‡½æ•° ...&#39;);&#125;, &#x2F;&#x2F; ä»¥ä¸Šè¾“å‡ºé¡ºåºä¸ºï¼š&#x2F;&#x2F; å­ç»„ä»¶è§¦å‘ mounted é’©å­å‡½æ•° ...&#x2F;&#x2F; çˆ¶ç»„ä»¶ç›‘å¬åˆ° mounted é’©å­å‡½æ•° ... å½“ç„¶ @hook æ–¹æ³•ä¸ä»…ä»…æ˜¯å¯ä»¥ç›‘å¬ mountedï¼Œå…¶å®ƒçš„ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ï¼Œä¾‹å¦‚ï¼šcreatedï¼Œupdated ç­‰éƒ½å¯ä»¥ç›‘å¬ã€‚ 12ã€è°ˆè°ˆä½ å¯¹ keep-alive çš„äº†è§£ï¼Ÿkeep-alive æ˜¯ Vue å†…ç½®çš„ä¸€ä¸ªç»„ä»¶ï¼Œå¯ä»¥ä½¿è¢«åŒ…å«çš„ç»„ä»¶ä¿ç•™çŠ¶æ€ï¼Œé¿å…é‡æ–°æ¸²æŸ“ ï¼Œå…¶æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š ä¸€èˆ¬ç»“åˆè·¯ç”±å’ŒåŠ¨æ€ç»„ä»¶ä¸€èµ·ä½¿ç”¨ï¼Œç”¨äºç¼“å­˜ç»„ä»¶ï¼› æä¾› include å’Œ exclude å±æ€§ï¼Œä¸¤è€…éƒ½æ”¯æŒå­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼ï¼Œ include è¡¨ç¤ºåªæœ‰åç§°åŒ¹é…çš„ç»„ä»¶ä¼šè¢«ç¼“å­˜ï¼Œexclude è¡¨ç¤ºä»»ä½•åç§°åŒ¹é…çš„ç»„ä»¶éƒ½ä¸ä¼šè¢«ç¼“å­˜ ï¼Œå…¶ä¸­ exclude çš„ä¼˜å…ˆçº§æ¯” include é«˜ï¼› å¯¹åº”ä¸¤ä¸ªé’©å­å‡½æ•° activated å’Œ deactivated ï¼Œå½“ç»„ä»¶è¢«æ¿€æ´»æ—¶ï¼Œè§¦å‘é’©å­å‡½æ•° activatedï¼Œå½“ç»„ä»¶è¢«ç§»é™¤æ—¶ï¼Œè§¦å‘é’©å­å‡½æ•° deactivatedã€‚ 13ã€ç»„ä»¶ä¸­ data ä¸ºä»€ä¹ˆæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Ÿ ä¸ºä»€ä¹ˆç»„ä»¶ä¸­çš„ data å¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç„¶å return ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œ new Vue å®ä¾‹é‡Œï¼Œdata å¯ä»¥ç›´æ¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Ÿ 123456789101112131415&#x2F;&#x2F; datadata() &#123; return &#123; message: &quot;å­ç»„ä»¶&quot;, childName:this.name &#125;&#125;&#x2F;&#x2F; new Vuenew Vue(&#123; el: &#39;#app&#39;, router, template: &#39;&lt;App&#x2F;&gt;&#39;, components: &#123;App&#125;&#125;) å› ä¸ºç»„ä»¶æ˜¯ç”¨æ¥å¤ç”¨çš„ï¼Œä¸” JS é‡Œå¯¹è±¡æ˜¯å¼•ç”¨å…³ç³»ï¼Œå¦‚æœç»„ä»¶ä¸­ data æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆè¿™æ ·ä½œç”¨åŸŸæ²¡æœ‰éš”ç¦»ï¼Œå­ç»„ä»¶ä¸­çš„ data å±æ€§å€¼ä¼šç›¸äº’å½±å“ï¼Œå¦‚æœç»„ä»¶ä¸­ data é€‰é¡¹æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆæ¯ä¸ªå®ä¾‹å¯ä»¥ç»´æŠ¤ä¸€ä»½è¢«è¿”å›å¯¹è±¡çš„ç‹¬ç«‹çš„æ‹·è´ï¼Œç»„ä»¶å®ä¾‹ä¹‹é—´çš„ data å±æ€§å€¼ä¸ä¼šäº’ç›¸å½±å“ï¼›è€Œ new Vue çš„å®ä¾‹ï¼Œæ˜¯ä¸ä¼šè¢«å¤ç”¨çš„ï¼Œå› æ­¤ä¸å­˜åœ¨å¼•ç”¨å¯¹è±¡çš„é—®é¢˜ã€‚ 14ã€v-model çš„åŸç†ï¼Ÿæˆ‘ä»¬åœ¨ vue é¡¹ç›®ä¸­ä¸»è¦ä½¿ç”¨ v-model æŒ‡ä»¤åœ¨è¡¨å• inputã€textareaã€select ç­‰å…ƒç´ ä¸Šåˆ›å»ºåŒå‘æ•°æ®ç»‘å®šï¼Œæˆ‘ä»¬çŸ¥é“ v-model æœ¬è´¨ä¸Šä¸è¿‡æ˜¯è¯­æ³•ç³–ï¼Œv-model åœ¨å†…éƒ¨ä¸ºä¸åŒçš„è¾“å…¥å…ƒç´ ä½¿ç”¨ä¸åŒçš„å±æ€§å¹¶æŠ›å‡ºä¸åŒçš„äº‹ä»¶ï¼š text å’Œ textarea å…ƒç´ ä½¿ç”¨ value å±æ€§å’Œ input äº‹ä»¶ï¼› checkbox å’Œ radio ä½¿ç”¨ checked å±æ€§å’Œ change äº‹ä»¶ï¼› select å­—æ®µå°† value ä½œä¸º prop å¹¶å°† change ä½œä¸ºäº‹ä»¶ã€‚ ä»¥ input è¡¨å•å…ƒç´ ä¸ºä¾‹ï¼š 12345&lt;input v-model&#x3D;&#39;something&#39;&gt; ç›¸å½“äº&lt;input v-bind:value&#x3D;&quot;something&quot; v-on:input&#x3D;&quot;something &#x3D; $event.target.value&quot;&gt; å¦‚æœåœ¨è‡ªå®šä¹‰ç»„ä»¶ä¸­ï¼Œv-model é»˜è®¤ä¼šåˆ©ç”¨åä¸º value çš„ prop å’Œåä¸º input çš„äº‹ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 1234567891011121314çˆ¶ç»„ä»¶ï¼š&lt;ModelChild v-model&#x3D;&quot;message&quot;&gt;&lt;&#x2F;ModelChild&gt;å­ç»„ä»¶ï¼š&lt;div&gt;&#123;&#123;value&#125;&#125;&lt;&#x2F;div&gt;props:&#123; value: String&#125;,methods: &#123; test1()&#123; this.$emit(&#39;input&#39;, &#39;å°çº¢&#39;) &#125;,&#125;, 15ã€Vue ç»„ä»¶é—´é€šä¿¡æœ‰å“ªå‡ ç§æ–¹å¼ï¼ŸVue ç»„ä»¶é—´é€šä¿¡æ˜¯é¢è¯•å¸¸è€ƒçš„çŸ¥è¯†ç‚¹ä¹‹ä¸€ï¼Œè¿™é¢˜æœ‰ç‚¹ç±»ä¼¼äºå¼€æ”¾é¢˜ï¼Œä½ å›ç­”å‡ºè¶Šå¤šæ–¹æ³•å½“ç„¶è¶ŠåŠ åˆ†ï¼Œè¡¨æ˜ä½ å¯¹ Vue æŒæ¡çš„è¶Šç†Ÿç»ƒã€‚Vue ç»„ä»¶é—´é€šä¿¡åªè¦æŒ‡ä»¥ä¸‹ 3 ç±»é€šä¿¡ï¼šçˆ¶å­ç»„ä»¶é€šä¿¡ã€éš”ä»£ç»„ä»¶é€šä¿¡ã€å…„å¼Ÿç»„ä»¶é€šä¿¡ï¼Œä¸‹é¢æˆ‘ä»¬åˆ†åˆ«ä»‹ç»æ¯ç§é€šä¿¡æ–¹å¼ä¸”ä¼šè¯´æ˜æ­¤ç§æ–¹æ³•å¯é€‚ç”¨äºå“ªç±»ç»„ä»¶é—´é€šä¿¡ã€‚ ï¼ˆ1ï¼‰props / $emit é€‚ç”¨ çˆ¶å­ç»„ä»¶é€šä¿¡ è¿™ç§æ–¹æ³•æ˜¯ Vue ç»„ä»¶çš„åŸºç¡€ï¼Œç›¸ä¿¡å¤§éƒ¨åˆ†åŒå­¦è€³é—»èƒ½è¯¦ï¼Œæ‰€ä»¥æ­¤å¤„å°±ä¸ä¸¾ä¾‹å±•å¼€ä»‹ç»ã€‚ ï¼ˆ2ï¼‰ref ä¸ $parent / $children é€‚ç”¨ çˆ¶å­ç»„ä»¶é€šä¿¡ refï¼šå¦‚æœåœ¨æ™®é€šçš„ DOM å…ƒç´ ä¸Šä½¿ç”¨ï¼Œå¼•ç”¨æŒ‡å‘çš„å°±æ˜¯ DOM å…ƒç´ ï¼›å¦‚æœç”¨åœ¨å­ç»„ä»¶ä¸Šï¼Œå¼•ç”¨å°±æŒ‡å‘ç»„ä»¶å®ä¾‹ $parent / $childrenï¼šè®¿é—®çˆ¶ / å­å®ä¾‹ ï¼ˆ3ï¼‰EventBus ï¼ˆ$emit / $onï¼‰ é€‚ç”¨äº çˆ¶å­ã€éš”ä»£ã€å…„å¼Ÿç»„ä»¶é€šä¿¡ è¿™ç§æ–¹æ³•é€šè¿‡ä¸€ä¸ªç©ºçš„ Vue å®ä¾‹ä½œä¸ºä¸­å¤®äº‹ä»¶æ€»çº¿ï¼ˆäº‹ä»¶ä¸­å¿ƒï¼‰ï¼Œç”¨å®ƒæ¥è§¦å‘äº‹ä»¶å’Œç›‘å¬äº‹ä»¶ï¼Œä»è€Œå®ç°ä»»ä½•ç»„ä»¶é—´çš„é€šä¿¡ï¼ŒåŒ…æ‹¬çˆ¶å­ã€éš”ä»£ã€å…„å¼Ÿç»„ä»¶ã€‚ ï¼ˆ4ï¼‰$attrs/$listeners é€‚ç”¨äº éš”ä»£ç»„ä»¶é€šä¿¡ $attrsï¼šåŒ…å«äº†çˆ¶ä½œç”¨åŸŸä¸­ä¸è¢« prop æ‰€è¯†åˆ« (ä¸”è·å–) çš„ç‰¹æ€§ç»‘å®š ( class å’Œ style é™¤å¤– )ã€‚å½“ä¸€ä¸ªç»„ä»¶æ²¡æœ‰å£°æ˜ä»»ä½• prop æ—¶ï¼Œè¿™é‡Œä¼šåŒ…å«æ‰€æœ‰çˆ¶ä½œç”¨åŸŸçš„ç»‘å®š ( class å’Œ style é™¤å¤– )ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ v-bind=&quot;$attrs&quot; ä¼ å…¥å†…éƒ¨ç»„ä»¶ã€‚é€šå¸¸é…åˆ inheritAttrs é€‰é¡¹ä¸€èµ·ä½¿ç”¨ã€‚ $listenersï¼šåŒ…å«äº†çˆ¶ä½œç”¨åŸŸä¸­çš„ (ä¸å« .native ä¿®é¥°å™¨çš„) v-on äº‹ä»¶ç›‘å¬å™¨ã€‚å®ƒå¯ä»¥é€šè¿‡ v-on=&quot;$listeners&quot; ä¼ å…¥å†…éƒ¨ç»„ä»¶ ï¼ˆ5ï¼‰provide / inject é€‚ç”¨äº éš”ä»£ç»„ä»¶é€šä¿¡ ç¥–å…ˆç»„ä»¶ä¸­é€šè¿‡ provider æ¥æä¾›å˜é‡ï¼Œç„¶ååœ¨å­å­™ç»„ä»¶ä¸­é€šè¿‡ inject æ¥æ³¨å…¥å˜é‡ã€‚ provide / inject API ä¸»è¦è§£å†³äº†è·¨çº§ç»„ä»¶é—´çš„é€šä¿¡é—®é¢˜ï¼Œä¸è¿‡å®ƒçš„ä½¿ç”¨åœºæ™¯ï¼Œä¸»è¦æ˜¯å­ç»„ä»¶è·å–ä¸Šçº§ç»„ä»¶çš„çŠ¶æ€ï¼Œè·¨çº§ç»„ä»¶é—´å»ºç«‹äº†ä¸€ç§ä¸»åŠ¨æä¾›ä¸ä¾èµ–æ³¨å…¥çš„å…³ç³»ã€‚ ï¼ˆ6ï¼‰Vuex é€‚ç”¨äº çˆ¶å­ã€éš”ä»£ã€å…„å¼Ÿç»„ä»¶é€šä¿¡ Vuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚æ¯ä¸€ä¸ª Vuex åº”ç”¨çš„æ ¸å¿ƒå°±æ˜¯ storeï¼ˆä»“åº“ï¼‰ã€‚â€œstoreâ€ åŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒåŒ…å«ç€ä½ çš„åº”ç”¨ä¸­å¤§éƒ¨åˆ†çš„çŠ¶æ€ ( state )ã€‚ Vuex çš„çŠ¶æ€å­˜å‚¨æ˜¯å“åº”å¼çš„ã€‚å½“ Vue ç»„ä»¶ä» store ä¸­è¯»å–çŠ¶æ€çš„æ—¶å€™ï¼Œè‹¥ store ä¸­çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆç›¸åº”çš„ç»„ä»¶ä¹Ÿä¼šç›¸åº”åœ°å¾—åˆ°é«˜æ•ˆæ›´æ–°ã€‚ æ”¹å˜ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€é€”å¾„å°±æ˜¯æ˜¾å¼åœ°æäº¤ (commit) mutationã€‚è¿™æ ·ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è·Ÿè¸ªæ¯ä¸€ä¸ªçŠ¶æ€çš„å˜åŒ–ã€‚ 16ã€ä½ ä½¿ç”¨è¿‡ Vuex å—ï¼ŸVuex æ˜¯ä¸€ä¸ªä¸“ä¸º Vue.js åº”ç”¨ç¨‹åºå¼€å‘çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚æ¯ä¸€ä¸ª Vuex åº”ç”¨çš„æ ¸å¿ƒå°±æ˜¯ storeï¼ˆä»“åº“ï¼‰ã€‚â€œstoreâ€ åŸºæœ¬ä¸Šå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒåŒ…å«ç€ä½ çš„åº”ç”¨ä¸­å¤§éƒ¨åˆ†çš„çŠ¶æ€ ( state )ã€‚ ï¼ˆ1ï¼‰Vuex çš„çŠ¶æ€å­˜å‚¨æ˜¯å“åº”å¼çš„ã€‚å½“ Vue ç»„ä»¶ä» store ä¸­è¯»å–çŠ¶æ€çš„æ—¶å€™ï¼Œè‹¥ store ä¸­çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆç›¸åº”çš„ç»„ä»¶ä¹Ÿä¼šç›¸åº”åœ°å¾—åˆ°é«˜æ•ˆæ›´æ–°ã€‚ ï¼ˆ2ï¼‰æ”¹å˜ store ä¸­çš„çŠ¶æ€çš„å”¯ä¸€é€”å¾„å°±æ˜¯æ˜¾å¼åœ°æäº¤ (commit) mutationã€‚è¿™æ ·ä½¿å¾—æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°è·Ÿè¸ªæ¯ä¸€ä¸ªçŠ¶æ€çš„å˜åŒ–ã€‚ ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ¨¡å—ï¼š Stateï¼šå®šä¹‰äº†åº”ç”¨çŠ¶æ€çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥åœ¨è¿™é‡Œè®¾ç½®é»˜è®¤çš„åˆå§‹çŠ¶æ€ã€‚ Getterï¼šå…è®¸ç»„ä»¶ä» Store ä¸­è·å–æ•°æ®ï¼ŒmapGetters è¾…åŠ©å‡½æ•°ä»…ä»…æ˜¯å°† store ä¸­çš„ getter æ˜ å°„åˆ°å±€éƒ¨è®¡ç®—å±æ€§ã€‚ Mutationï¼šæ˜¯å”¯ä¸€æ›´æ”¹ store ä¸­çŠ¶æ€çš„æ–¹æ³•ï¼Œä¸”å¿…é¡»æ˜¯åŒæ­¥å‡½æ•°ã€‚ Actionï¼šç”¨äºæäº¤ mutationï¼Œè€Œä¸æ˜¯ç›´æ¥å˜æ›´çŠ¶æ€ï¼Œå¯ä»¥åŒ…å«ä»»æ„å¼‚æ­¥æ“ä½œã€‚ Moduleï¼šå…è®¸å°†å•ä¸€çš„ Store æ‹†åˆ†ä¸ºå¤šä¸ª store ä¸”åŒæ—¶ä¿å­˜åœ¨å•ä¸€çš„çŠ¶æ€æ ‘ä¸­ã€‚ 17ã€ä½¿ç”¨è¿‡ Vue SSR å—ï¼Ÿè¯´è¯´ SSRï¼Ÿ Vue.js æ˜¯æ„å»ºå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºçš„æ¡†æ¶ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¾“å‡º Vue ç»„ä»¶ï¼Œè¿›è¡Œç”Ÿæˆ DOM å’Œæ“ä½œ DOMã€‚ç„¶è€Œï¼Œä¹Ÿå¯ä»¥å°†åŒä¸€ä¸ªç»„ä»¶æ¸²æŸ“ä¸ºæœåŠ¡ç«¯çš„ HTML å­—ç¬¦ä¸²ï¼Œå°†å®ƒä»¬ç›´æ¥å‘é€åˆ°æµè§ˆå™¨ï¼Œæœ€åå°†è¿™äº›é™æ€æ ‡è®°â€æ¿€æ´»â€ä¸ºå®¢æˆ·ç«¯ä¸Šå®Œå…¨å¯äº¤äº’çš„åº”ç”¨ç¨‹åºã€‚ å³ï¼šSSRå¤§è‡´çš„æ„æ€å°±æ˜¯vueåœ¨å®¢æˆ·ç«¯å°†æ ‡ç­¾æ¸²æŸ“æˆçš„æ•´ä¸ª html ç‰‡æ®µçš„å·¥ä½œåœ¨æœåŠ¡ç«¯å®Œæˆï¼ŒæœåŠ¡ç«¯å½¢æˆçš„html ç‰‡æ®µç›´æ¥è¿”å›ç»™å®¢æˆ·ç«¯è¿™ä¸ªè¿‡ç¨‹å°±å«åšæœåŠ¡ç«¯æ¸²æŸ“ã€‚ æœåŠ¡ç«¯æ¸²æŸ“ SSR çš„ä¼˜ç¼ºç‚¹å¦‚ä¸‹ï¼š ï¼ˆ1ï¼‰æœåŠ¡ç«¯æ¸²æŸ“çš„ä¼˜ç‚¹ï¼š æ›´å¥½çš„ SEOï¼š å› ä¸º SPA é¡µé¢çš„å†…å®¹æ˜¯é€šè¿‡ Ajax è·å–ï¼Œè€Œæœç´¢å¼•æ“çˆ¬å–å·¥å…·å¹¶ä¸ä¼šç­‰å¾… Ajax å¼‚æ­¥å®Œæˆåå†æŠ“å–é¡µé¢å†…å®¹ï¼Œæ‰€ä»¥åœ¨ SPA ä¸­æ˜¯æŠ“å–ä¸åˆ°é¡µé¢é€šè¿‡ Ajax è·å–åˆ°çš„å†…å®¹ï¼›è€Œ SSR æ˜¯ç›´æ¥ç”±æœåŠ¡ç«¯è¿”å›å·²ç»æ¸²æŸ“å¥½çš„é¡µé¢ï¼ˆæ•°æ®å·²ç»åŒ…å«åœ¨é¡µé¢ä¸­ï¼‰ï¼Œæ‰€ä»¥æœç´¢å¼•æ“çˆ¬å–å·¥å…·å¯ä»¥æŠ“å–æ¸²æŸ“å¥½çš„é¡µé¢ï¼› æ›´å¿«çš„å†…å®¹åˆ°è¾¾æ—¶é—´ï¼ˆé¦–å±åŠ è½½æ›´å¿«ï¼‰ï¼š SPA ä¼šç­‰å¾…æ‰€æœ‰ Vue ç¼–è¯‘åçš„ js æ–‡ä»¶éƒ½ä¸‹è½½å®Œæˆåï¼Œæ‰å¼€å§‹è¿›è¡Œé¡µé¢çš„æ¸²æŸ“ï¼Œæ–‡ä»¶ä¸‹è½½ç­‰éœ€è¦ä¸€å®šçš„æ—¶é—´ç­‰ï¼Œæ‰€ä»¥é¦–å±æ¸²æŸ“éœ€è¦ä¸€å®šçš„æ—¶é—´ï¼›SSR ç›´æ¥ç”±æœåŠ¡ç«¯æ¸²æŸ“å¥½é¡µé¢ç›´æ¥è¿”å›æ˜¾ç¤ºï¼Œæ— éœ€ç­‰å¾…ä¸‹è½½ js æ–‡ä»¶åŠå†å»æ¸²æŸ“ç­‰ï¼Œæ‰€ä»¥ SSR æœ‰æ›´å¿«çš„å†…å®¹åˆ°è¾¾æ—¶é—´ï¼› ï¼ˆ2) æœåŠ¡ç«¯æ¸²æŸ“çš„ç¼ºç‚¹ï¼š æ›´å¤šçš„å¼€å‘æ¡ä»¶é™åˆ¶ï¼š ä¾‹å¦‚æœåŠ¡ç«¯æ¸²æŸ“åªæ”¯æŒ beforCreate å’Œ created ä¸¤ä¸ªé’©å­å‡½æ•°ï¼Œè¿™ä¼šå¯¼è‡´ä¸€äº›å¤–éƒ¨æ‰©å±•åº“éœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œæ‰èƒ½åœ¨æœåŠ¡ç«¯æ¸²æŸ“åº”ç”¨ç¨‹åºä¸­è¿è¡Œï¼›å¹¶ä¸”ä¸å¯ä»¥éƒ¨ç½²åœ¨ä»»ä½•é™æ€æ–‡ä»¶æœåŠ¡å™¨ä¸Šçš„å®Œå…¨é™æ€å•é¡µé¢åº”ç”¨ç¨‹åº SPA ä¸åŒï¼ŒæœåŠ¡ç«¯æ¸²æŸ“åº”ç”¨ç¨‹åºï¼Œéœ€è¦å¤„äº Node.js server è¿è¡Œç¯å¢ƒï¼› æ›´å¤šçš„æœåŠ¡å™¨è´Ÿè½½ï¼šåœ¨ Node.js ä¸­æ¸²æŸ“å®Œæ•´çš„åº”ç”¨ç¨‹åºï¼Œæ˜¾ç„¶ä¼šæ¯”ä»…ä»…æä¾›é™æ€æ–‡ä»¶çš„ server æ›´åŠ å¤§é‡å ç”¨CPU èµ„æº (CPU-intensive - CPU å¯†é›†)ï¼Œå› æ­¤å¦‚æœä½ é¢„æ–™åœ¨é«˜æµé‡ç¯å¢ƒ ( high traffic ) ä¸‹ä½¿ç”¨ï¼Œè¯·å‡†å¤‡ç›¸åº”çš„æœåŠ¡å™¨è´Ÿè½½ï¼Œå¹¶æ˜æ™ºåœ°é‡‡ç”¨ç¼“å­˜ç­–ç•¥ã€‚ å¦‚æœæ²¡æœ‰ SSR å¼€å‘ç»éªŒçš„åŒå­¦ï¼Œå¯ä»¥å‚è€ƒæœ¬æ–‡ä½œè€…çš„å¦ä¸€ç¯‡ SSR çš„å®è·µæ–‡ç« ã€ŠVue SSR è¸©å‘ä¹‹æ—…ã€‹ï¼Œé‡Œé¢ SSR é¡¹ç›®æ­å»ºä»¥åŠé™„æœ‰é¡¹ç›®æºç ã€‚ 18ã€vue-router è·¯ç”±æ¨¡å¼æœ‰å‡ ç§ï¼Ÿvue-router æœ‰ 3 ç§è·¯ç”±æ¨¡å¼ï¼šhashã€historyã€abstractï¼Œå¯¹åº”çš„æºç å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415switch (mode) &#123; case &#39;history&#39;: this.history &#x3D; new HTML5History(this, options.base) break case &#39;hash&#39;: this.history &#x3D; new HashHistory(this, options.base, this.fallback) break case &#39;abstract&#39;: this.history &#x3D; new AbstractHistory(this, options.base) break default: if (process.env.NODE_ENV !&#x3D;&#x3D; &#39;production&#39;) &#123; assert(false, &#96;invalid mode: $&#123;mode&#125;&#96;) &#125;&#125; å…¶ä¸­ï¼Œ3 ç§è·¯ç”±æ¨¡å¼çš„è¯´æ˜å¦‚ä¸‹ï¼š hash: ä½¿ç”¨ URL hash å€¼æ¥ä½œè·¯ç”±ã€‚æ”¯æŒæ‰€æœ‰æµè§ˆå™¨ï¼ŒåŒ…æ‹¬ä¸æ”¯æŒ HTML5 History Api çš„æµè§ˆå™¨ï¼› history : ä¾èµ– HTML5 History API å’ŒæœåŠ¡å™¨é…ç½®ã€‚å…·ä½“å¯ä»¥æŸ¥çœ‹ HTML5 History æ¨¡å¼ï¼› abstract : æ”¯æŒæ‰€æœ‰ JavaScript è¿è¡Œç¯å¢ƒï¼Œå¦‚ Node.js æœåŠ¡å™¨ç«¯ã€‚å¦‚æœå‘ç°æ²¡æœ‰æµè§ˆå™¨çš„ APIï¼Œè·¯ç”±ä¼šè‡ªåŠ¨å¼ºåˆ¶è¿›å…¥è¿™ä¸ªæ¨¡å¼. 19ã€èƒ½è¯´ä¸‹ vue-router ä¸­å¸¸ç”¨çš„ hash å’Œ history è·¯ç”±æ¨¡å¼å®ç°åŸç†å—ï¼Ÿï¼ˆ1ï¼‰hash æ¨¡å¼çš„å®ç°åŸç† æ—©æœŸçš„å‰ç«¯è·¯ç”±çš„å®ç°å°±æ˜¯åŸºäº location.hash æ¥å®ç°çš„ã€‚å…¶å®ç°åŸç†å¾ˆç®€å•ï¼Œlocation.hash çš„å€¼å°±æ˜¯ URL ä¸­ # åé¢çš„å†…å®¹ã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸ªç½‘ç«™ï¼Œå®ƒçš„ location.hash çš„å€¼ä¸º â€˜#searchâ€™ï¼š 1https:&#x2F;&#x2F;www.word.com#search hash è·¯ç”±æ¨¡å¼çš„å®ç°ä¸»è¦æ˜¯åŸºäºä¸‹é¢å‡ ä¸ªç‰¹æ€§ï¼š URL ä¸­ hash å€¼åªæ˜¯å®¢æˆ·ç«¯çš„ä¸€ç§çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´å½“å‘æœåŠ¡å™¨ç«¯å‘å‡ºè¯·æ±‚æ—¶ï¼Œhash éƒ¨åˆ†ä¸ä¼šè¢«å‘é€ï¼› hash å€¼çš„æ”¹å˜ï¼Œéƒ½ä¼šåœ¨æµè§ˆå™¨çš„è®¿é—®å†å²ä¸­å¢åŠ ä¸€ä¸ªè®°å½•ã€‚å› æ­¤æˆ‘ä»¬èƒ½é€šè¿‡æµè§ˆå™¨çš„å›é€€ã€å‰è¿›æŒ‰é’®æ§åˆ¶hash çš„åˆ‡æ¢ï¼› å¯ä»¥é€šè¿‡ a æ ‡ç­¾ï¼Œå¹¶è®¾ç½® href å±æ€§ï¼Œå½“ç”¨æˆ·ç‚¹å‡»è¿™ä¸ªæ ‡ç­¾åï¼ŒURL çš„ hash å€¼ä¼šå‘ç”Ÿæ”¹å˜ï¼›æˆ–è€…ä½¿ç”¨ JavaScript æ¥å¯¹ loaction.hash è¿›è¡Œèµ‹å€¼ï¼Œæ”¹å˜ URL çš„ hash å€¼ï¼› æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ hashchange äº‹ä»¶æ¥ç›‘å¬ hash å€¼çš„å˜åŒ–ï¼Œä»è€Œå¯¹é¡µé¢è¿›è¡Œè·³è½¬ï¼ˆæ¸²æŸ“ï¼‰ã€‚ ï¼ˆ2ï¼‰history æ¨¡å¼çš„å®ç°åŸç† HTML5 æä¾›äº† History API æ¥å®ç° URL çš„å˜åŒ–ã€‚å…¶ä¸­åšæœ€ä¸»è¦çš„ API æœ‰ä»¥ä¸‹ä¸¤ä¸ªï¼šhistory.pushState() å’Œ history.repalceState()ã€‚è¿™ä¸¤ä¸ª API å¯ä»¥åœ¨ä¸è¿›è¡Œåˆ·æ–°çš„æƒ…å†µä¸‹ï¼Œæ“ä½œæµè§ˆå™¨çš„å†å²çºªå½•ã€‚å”¯ä¸€ä¸åŒçš„æ˜¯ï¼Œå‰è€…æ˜¯æ–°å¢ä¸€ä¸ªå†å²è®°å½•ï¼Œåè€…æ˜¯ç›´æ¥æ›¿æ¢å½“å‰çš„å†å²è®°å½•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š 12window.history.pushState(null, null, path);window.history.replaceState(null, null, path); history è·¯ç”±æ¨¡å¼çš„å®ç°ä¸»è¦åŸºäºå­˜åœ¨ä¸‹é¢å‡ ä¸ªç‰¹æ€§ï¼š pushState å’Œ repalceState ä¸¤ä¸ª API æ¥æ“ä½œå®ç° URL çš„å˜åŒ– ï¼› æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ popstate äº‹ä»¶æ¥ç›‘å¬ url çš„å˜åŒ–ï¼Œä»è€Œå¯¹é¡µé¢è¿›è¡Œè·³è½¬ï¼ˆæ¸²æŸ“ï¼‰ï¼› history.pushState() æˆ– history.replaceState() ä¸ä¼šè§¦å‘ popstate äº‹ä»¶ï¼Œè¿™æ—¶æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨è§¦å‘é¡µé¢è·³è½¬ï¼ˆæ¸²æŸ“ï¼‰ã€‚ 20ã€ä»€ä¹ˆæ˜¯ MVVMï¼ŸModelâ€“Viewâ€“ViewModel ï¼ˆMVVMï¼‰ æ˜¯ä¸€ä¸ªè½¯ä»¶æ¶æ„è®¾è®¡æ¨¡å¼ï¼Œç”±å¾®è½¯ WPF å’Œ Silverlight çš„æ¶æ„å¸ˆ Ken Cooper å’Œ Ted Peters å¼€å‘ï¼Œæ˜¯ä¸€ç§ç®€åŒ–ç”¨æˆ·ç•Œé¢çš„äº‹ä»¶é©±åŠ¨ç¼–ç¨‹æ–¹å¼ã€‚ç”± John Gossmanï¼ˆåŒæ ·ä¹Ÿæ˜¯ WPF å’Œ Silverlight çš„æ¶æ„å¸ˆï¼‰äº2005å¹´åœ¨ä»–çš„åšå®¢ä¸Šå‘è¡¨ MVVM æºè‡ªäºç»å…¸çš„ Modelâ€“Viewâ€“Controllerï¼ˆMVCï¼‰æ¨¡å¼ ï¼ŒMVVM çš„å‡ºç°ä¿ƒè¿›äº†å‰ç«¯å¼€å‘ä¸åç«¯ä¸šåŠ¡é€»è¾‘çš„åˆ†ç¦»ï¼Œæå¤§åœ°æé«˜äº†å‰ç«¯å¼€å‘æ•ˆç‡ï¼ŒMVVM çš„æ ¸å¿ƒæ˜¯ ViewModel å±‚ï¼Œå®ƒå°±åƒæ˜¯ä¸€ä¸ªä¸­è½¬ç«™ï¼ˆvalue converterï¼‰ï¼Œè´Ÿè´£è½¬æ¢ Model ä¸­çš„æ•°æ®å¯¹è±¡æ¥è®©æ•°æ®å˜å¾—æ›´å®¹æ˜“ç®¡ç†å’Œä½¿ç”¨ï¼Œè¯¥å±‚å‘ä¸Šä¸è§†å›¾å±‚è¿›è¡ŒåŒå‘æ•°æ®ç»‘å®šï¼Œå‘ä¸‹ä¸ Model å±‚é€šè¿‡æ¥å£è¯·æ±‚è¿›è¡Œæ•°æ®äº¤äº’ï¼Œèµ·å‘ˆä¸Šå¯ä¸‹ä½œç”¨ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ï¼ˆ1ï¼‰View å±‚ View æ˜¯è§†å›¾å±‚ï¼Œä¹Ÿå°±æ˜¯ç”¨æˆ·ç•Œé¢ã€‚å‰ç«¯ä¸»è¦ç”± HTML å’Œ CSS æ¥æ„å»º ã€‚ ï¼ˆ2ï¼‰Model å±‚ Model æ˜¯æŒ‡æ•°æ®æ¨¡å‹ï¼Œæ³›æŒ‡åç«¯è¿›è¡Œçš„å„ç§ä¸šåŠ¡é€»è¾‘å¤„ç†å’Œæ•°æ®æ“æ§ï¼Œå¯¹äºå‰ç«¯æ¥è¯´å°±æ˜¯åç«¯æä¾›çš„ api æ¥å£ã€‚ ï¼ˆ3ï¼‰ViewModel å±‚ ViewModel æ˜¯ç”±å‰ç«¯å¼€å‘äººå‘˜ç»„ç»‡ç”Ÿæˆå’Œç»´æŠ¤çš„è§†å›¾æ•°æ®å±‚ã€‚åœ¨è¿™ä¸€å±‚ï¼Œå‰ç«¯å¼€å‘è€…å¯¹ä»åç«¯è·å–çš„ Model æ•°æ®è¿›è¡Œè½¬æ¢å¤„ç†ï¼ŒåšäºŒæ¬¡å°è£…ï¼Œä»¥ç”Ÿæˆç¬¦åˆ View å±‚ä½¿ç”¨é¢„æœŸçš„è§†å›¾æ•°æ®æ¨¡å‹ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ ViewModel æ‰€å°è£…å‡ºæ¥çš„æ•°æ®æ¨¡å‹åŒ…æ‹¬è§†å›¾çš„çŠ¶æ€å’Œè¡Œä¸ºä¸¤éƒ¨åˆ†ï¼Œè€Œ Model å±‚çš„æ•°æ®æ¨¡å‹æ˜¯åªåŒ…å«çŠ¶æ€çš„ï¼Œæ¯”å¦‚é¡µé¢çš„è¿™ä¸€å—å±•ç¤ºä»€ä¹ˆï¼Œè€Œé¡µé¢åŠ è½½è¿›æ¥æ—¶å‘ç”Ÿä»€ä¹ˆï¼Œç‚¹å‡»è¿™ä¸€å—å‘ç”Ÿä»€ä¹ˆï¼Œè¿™ä¸€å—æ»šåŠ¨æ—¶å‘ç”Ÿä»€ä¹ˆè¿™äº›éƒ½å±äºè§†å›¾è¡Œä¸ºï¼ˆäº¤äº’ï¼‰ï¼Œè§†å›¾çŠ¶æ€å’Œè¡Œä¸ºéƒ½å°è£…åœ¨äº† ViewModel é‡Œã€‚è¿™æ ·çš„å°è£…ä½¿å¾— ViewModel å¯ä»¥å®Œæ•´åœ°å»æè¿° View å±‚ã€‚ MVVM æ¡†æ¶å®ç°äº†åŒå‘ç»‘å®šï¼Œè¿™æ · ViewModel çš„å†…å®¹ä¼šå®æ—¶å±•ç°åœ¨ View å±‚ï¼Œå‰ç«¯å¼€å‘è€…å†ä¹Ÿä¸å¿…ä½æ•ˆåˆéº»çƒ¦åœ°é€šè¿‡æ“çºµ DOM å»æ›´æ–°è§†å›¾ï¼ŒMVVM æ¡†æ¶å·²ç»æŠŠæœ€è„æœ€ç´¯çš„ä¸€å—åšå¥½äº†ï¼Œæˆ‘ä»¬å¼€å‘è€…åªéœ€è¦å¤„ç†å’Œç»´æŠ¤ ViewModelï¼Œæ›´æ–°æ•°æ®è§†å›¾å°±ä¼šè‡ªåŠ¨å¾—åˆ°ç›¸åº”æ›´æ–°ã€‚è¿™æ · View å±‚å±•ç°çš„ä¸æ˜¯ Model å±‚çš„æ•°æ®ï¼Œè€Œæ˜¯ ViewModel çš„æ•°æ®ï¼Œç”± ViewModel è´Ÿè´£ä¸ Model å±‚äº¤äº’ï¼Œè¿™å°±å®Œå…¨è§£è€¦äº† View å±‚å’Œ Model å±‚ï¼Œè¿™ä¸ªè§£è€¦æ˜¯è‡³å…³é‡è¦çš„ï¼Œå®ƒæ˜¯å‰åç«¯åˆ†ç¦»æ–¹æ¡ˆå®æ–½çš„é‡è¦ä¸€ç¯ã€‚ æˆ‘ä»¬ä»¥ä¸‹é€šè¿‡ä¸€ä¸ª Vue å®ä¾‹æ¥è¯´æ˜ MVVM çš„å…·ä½“å®ç°ï¼Œæœ‰ Vue å¼€å‘ç»éªŒçš„åŒå­¦åº”è¯¥ä¸€ç›®äº†ç„¶ï¼š ï¼ˆ1ï¼‰View å±‚ 1234&lt;div id&#x3D;&quot;app&quot;&gt; &lt;p&gt;&#123;&#123;message&#125;&#125;&lt;&#x2F;p&gt; &lt;button v-on:click&#x3D;&quot;showMessage()&quot;&gt;Click me&lt;&#x2F;button&gt;&lt;&#x2F;div&gt; ï¼ˆ2ï¼‰ViewModel å±‚ 12345678910111213141516171819202122var app &#x3D; new Vue(&#123; el: &#39;#app&#39;, data: &#123; &#x2F;&#x2F; ç”¨äºæè¿°è§†å›¾çŠ¶æ€ message: &#39;Hello Vue!&#39;, &#125;, methods: &#123; &#x2F;&#x2F; ç”¨äºæè¿°è§†å›¾è¡Œä¸º showMessage()&#123; let vm &#x3D; this; alert(vm.message); &#125; &#125;, created()&#123; let vm &#x3D; this; &#x2F;&#x2F; Ajax è·å– Model å±‚çš„æ•°æ® ajax(&#123; url: &#39;&#x2F;your&#x2F;server&#x2F;data&#x2F;api&#39;, success(res)&#123; vm.message &#x3D; res; &#125; &#125;); &#125;&#125;) ï¼ˆ3ï¼‰ Model å±‚ 12345678&#123; &quot;url&quot;: &quot;&#x2F;your&#x2F;server&#x2F;data&#x2F;api&quot;, &quot;res&quot;: &#123; &quot;success&quot;: true, &quot;name&quot;: &quot;IoveC&quot;, &quot;domain&quot;: &quot;www.cnblogs.com&quot; &#125;&#125; 21ã€Vue æ˜¯å¦‚ä½•å®ç°æ•°æ®åŒå‘ç»‘å®šçš„ï¼Ÿå³ï¼š è¾“å…¥æ¡†å†…å®¹å˜åŒ–æ—¶ï¼ŒData ä¸­çš„æ•°æ®åŒæ­¥å˜åŒ–ã€‚å³ View =&gt; Data çš„å˜åŒ–ã€‚ Data ä¸­çš„æ•°æ®å˜åŒ–æ—¶ï¼Œæ–‡æœ¬èŠ‚ç‚¹çš„å†…å®¹åŒæ­¥å˜åŒ–ã€‚å³ Data =&gt; View çš„å˜åŒ–ã€‚ å…¶ä¸­ï¼ŒView å˜åŒ–æ›´æ–° Data ï¼Œå¯ä»¥é€šè¿‡äº‹ä»¶ç›‘å¬çš„æ–¹å¼æ¥å®ç°ï¼Œæ‰€ä»¥ Vue çš„æ•°æ®åŒå‘ç»‘å®šçš„å·¥ä½œä¸»è¦æ˜¯å¦‚ä½•æ ¹æ® Data å˜åŒ–æ›´æ–° Viewã€‚ Vue ä¸»è¦é€šè¿‡ä»¥ä¸‹ 4 ä¸ªæ­¥éª¤æ¥å®ç°æ•°æ®åŒå‘ç»‘å®šçš„ï¼š å®ç°ä¸€ä¸ªç›‘å¬å™¨ Observerï¼šå¯¹æ•°æ®å¯¹è±¡è¿›è¡Œéå†ï¼ŒåŒ…æ‹¬å­å±æ€§å¯¹è±¡çš„å±æ€§ï¼Œåˆ©ç”¨ Object.defineProperty() å¯¹å±æ€§éƒ½åŠ ä¸Š setter å’Œ getterã€‚è¿™æ ·çš„è¯ï¼Œç»™è¿™ä¸ªå¯¹è±¡çš„æŸä¸ªå€¼èµ‹å€¼ï¼Œå°±ä¼šè§¦å‘ setterï¼Œé‚£ä¹ˆå°±èƒ½ç›‘å¬åˆ°äº†æ•°æ®å˜åŒ–ã€‚ å®ç°ä¸€ä¸ªè§£æå™¨ Compileï¼šè§£æ Vue æ¨¡æ¿æŒ‡ä»¤ï¼Œå°†æ¨¡æ¿ä¸­çš„å˜é‡éƒ½æ›¿æ¢æˆæ•°æ®ï¼Œç„¶ååˆå§‹åŒ–æ¸²æŸ“é¡µé¢è§†å›¾ï¼Œå¹¶å°†æ¯ä¸ªæŒ‡ä»¤å¯¹åº”çš„èŠ‚ç‚¹ç»‘å®šæ›´æ–°å‡½æ•°ï¼Œæ·»åŠ ç›‘å¬æ•°æ®çš„è®¢é˜…è€…ï¼Œä¸€æ—¦æ•°æ®æœ‰å˜åŠ¨ï¼Œæ”¶åˆ°é€šçŸ¥ï¼Œè°ƒç”¨æ›´æ–°å‡½æ•°è¿›è¡Œæ•°æ®æ›´æ–°ã€‚ å®ç°ä¸€ä¸ªè®¢é˜…è€… Watcherï¼šWatcher è®¢é˜…è€…æ˜¯ Observer å’Œ Compile ä¹‹é—´é€šä¿¡çš„æ¡¥æ¢ ï¼Œä¸»è¦çš„ä»»åŠ¡æ˜¯è®¢é˜… Observer ä¸­çš„å±æ€§å€¼å˜åŒ–çš„æ¶ˆæ¯ï¼Œå½“æ”¶åˆ°å±æ€§å€¼å˜åŒ–çš„æ¶ˆæ¯æ—¶ï¼Œè§¦å‘è§£æå™¨ Compile ä¸­å¯¹åº”çš„æ›´æ–°å‡½æ•°ã€‚ å®ç°ä¸€ä¸ªè®¢é˜…å™¨ Depï¼šè®¢é˜…å™¨é‡‡ç”¨ å‘å¸ƒ-è®¢é˜… è®¾è®¡æ¨¡å¼ï¼Œç”¨æ¥æ”¶é›†è®¢é˜…è€… Watcherï¼Œå¯¹ç›‘å¬å™¨ Observer å’Œ è®¢é˜…è€… Watcher è¿›è¡Œç»Ÿä¸€ç®¡ç†ã€‚ 22ã€Vue æ¡†æ¶æ€ä¹ˆå®ç°å¯¹è±¡å’Œæ•°ç»„çš„ç›‘å¬ï¼Ÿå¦‚æœè¢«é—®åˆ° Vue æ€ä¹ˆå®ç°æ•°æ®åŒå‘ç»‘å®šï¼Œå¤§å®¶è‚¯å®šéƒ½ä¼šå›ç­” é€šè¿‡ Object.defineProperty() å¯¹æ•°æ®è¿›è¡ŒåŠ«æŒï¼Œä½†æ˜¯ Object.defineProperty() åªèƒ½å¯¹å±æ€§è¿›è¡Œæ•°æ®åŠ«æŒï¼Œä¸èƒ½å¯¹æ•´ä¸ªå¯¹è±¡è¿›è¡ŒåŠ«æŒï¼ŒåŒç†æ— æ³•å¯¹æ•°ç»„è¿›è¡ŒåŠ«æŒï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨ä½¿ç”¨ Vue æ¡†æ¶ä¸­éƒ½çŸ¥é“ï¼ŒVue èƒ½æ£€æµ‹åˆ°å¯¹è±¡å’Œæ•°ç»„ï¼ˆéƒ¨åˆ†æ–¹æ³•çš„æ“ä½œï¼‰çš„å˜åŒ–ï¼Œé‚£å®ƒæ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿæˆ‘ä»¬æŸ¥çœ‹ç›¸å…³ä»£ç å¦‚ä¸‹ï¼š 12345678910111213&#x2F;** * Observe a list of Array items. *&#x2F;observeArray (items: Array&lt;any&gt;) &#123; for (let i &#x3D; 0, l &#x3D; items.length; i &lt; l; i++) &#123; observe(items[i]) &#x2F;&#x2F; observe åŠŸèƒ½ä¸ºç›‘æµ‹æ•°æ®çš„å˜åŒ– &#125;&#125;&#x2F;** * å¯¹å±æ€§è¿›è¡Œé€’å½’éå† *&#x2F;let childOb &#x3D; !shallow &amp;&amp; observe(val) &#x2F;&#x2F; observe åŠŸèƒ½ä¸ºç›‘æµ‹æ•°æ®çš„å˜åŒ– é€šè¿‡ä»¥ä¸Š Vue æºç éƒ¨åˆ†æŸ¥çœ‹ï¼Œæˆ‘ä»¬å°±èƒ½çŸ¥é“ Vue æ¡†æ¶æ˜¯é€šè¿‡éå†æ•°ç»„ å’Œé€’å½’éå†å¯¹è±¡ï¼Œä»è€Œè¾¾åˆ°åˆ©ç”¨ Object.defineProperty() ä¹Ÿèƒ½å¯¹å¯¹è±¡å’Œæ•°ç»„ï¼ˆéƒ¨åˆ†æ–¹æ³•çš„æ“ä½œï¼‰è¿›è¡Œç›‘å¬ã€‚ 23ã€Proxy ä¸ Object.defineProperty ä¼˜åŠ£å¯¹æ¯”Proxy çš„ä¼˜åŠ¿å¦‚ä¸‹: Proxy å¯ä»¥ç›´æ¥ç›‘å¬å¯¹è±¡è€Œéå±æ€§ï¼› Proxy å¯ä»¥ç›´æ¥ç›‘å¬æ•°ç»„çš„å˜åŒ–ï¼› Proxy æœ‰å¤šè¾¾ 13 ç§æ‹¦æˆªæ–¹æ³•,ä¸é™äº applyã€ownKeysã€deletePropertyã€has ç­‰ç­‰æ˜¯ Object.defineProperty ä¸å…·å¤‡çš„ï¼› Proxy è¿”å›çš„æ˜¯ä¸€ä¸ªæ–°å¯¹è±¡,æˆ‘ä»¬å¯ä»¥åªæ“ä½œæ–°çš„å¯¹è±¡è¾¾åˆ°ç›®çš„,è€Œ Object.defineProperty åªèƒ½éå†å¯¹è±¡å±æ€§ç›´æ¥ä¿®æ”¹ï¼› Proxy ä½œä¸ºæ–°æ ‡å‡†å°†å—åˆ°æµè§ˆå™¨å‚å•†é‡ç‚¹æŒç»­çš„æ€§èƒ½ä¼˜åŒ–ï¼Œä¹Ÿå°±æ˜¯ä¼ è¯´ä¸­çš„æ–°æ ‡å‡†çš„æ€§èƒ½çº¢åˆ©ï¼› Object.defineProperty çš„ä¼˜åŠ¿å¦‚ä¸‹: å…¼å®¹æ€§å¥½ï¼Œæ”¯æŒ IE9ï¼Œè€Œ Proxy çš„å­˜åœ¨æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜,è€Œä¸”æ— æ³•ç”¨ polyfill ç£¨å¹³ï¼Œå› æ­¤ Vue çš„ä½œè€…æ‰å£°æ˜éœ€è¦ç­‰åˆ°ä¸‹ä¸ªå¤§ç‰ˆæœ¬( 3.0 )æ‰èƒ½ç”¨ Proxy é‡å†™ã€‚ 24ã€Vue æ€ä¹ˆç”¨ vm.$set() è§£å†³å¯¹è±¡æ–°å¢å±æ€§ä¸èƒ½å“åº”çš„é—®é¢˜ ï¼Ÿå—ç°ä»£ JavaScript çš„é™åˆ¶ ï¼ŒVue æ— æ³•æ£€æµ‹åˆ°å¯¹è±¡å±æ€§çš„æ·»åŠ æˆ–åˆ é™¤ã€‚ç”±äº Vue ä¼šåœ¨åˆå§‹åŒ–å®ä¾‹æ—¶å¯¹å±æ€§æ‰§è¡Œ getter/setter è½¬åŒ–ï¼Œæ‰€ä»¥å±æ€§å¿…é¡»åœ¨ data å¯¹è±¡ä¸Šå­˜åœ¨æ‰èƒ½è®© Vue å°†å®ƒè½¬æ¢ä¸ºå“åº”å¼çš„ã€‚ä½†æ˜¯ Vue æä¾›äº† Vue.set (object, propertyName, value) / vm.$set (object, propertyName, value) æ¥å®ç°ä¸ºå¯¹è±¡æ·»åŠ å“åº”å¼å±æ€§ï¼Œé‚£æ¡†æ¶æœ¬èº«æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿ 12345678910111213141516171819202122232425export function set (target: Array&lt;any&gt; | Object, key: any, val: any): any &#123; &#x2F;&#x2F; target ä¸ºæ•°ç»„ if (Array.isArray(target) &amp;&amp; isValidArrayIndex(key)) &#123; &#x2F;&#x2F; ä¿®æ”¹æ•°ç»„çš„é•¿åº¦, é¿å…ç´¢å¼•&gt;æ•°ç»„é•¿åº¦å¯¼è‡´splcie()æ‰§è¡Œæœ‰è¯¯ target.length &#x3D; Math.max(target.length, key) &#x2F;&#x2F; åˆ©ç”¨æ•°ç»„çš„spliceå˜å¼‚æ–¹æ³•è§¦å‘å“åº”å¼ target.splice(key, 1, val) return val &#125; &#x2F;&#x2F; key å·²ç»å­˜åœ¨ï¼Œç›´æ¥ä¿®æ”¹å±æ€§å€¼ if (key in target &amp;&amp; !(key in Object.prototype)) &#123; target[key] &#x3D; val return val &#125; const ob &#x3D; (target: any).__ob__ &#x2F;&#x2F; target æœ¬èº«å°±ä¸æ˜¯å“åº”å¼æ•°æ®, ç›´æ¥èµ‹å€¼ if (!ob) &#123; target[key] &#x3D; val return val &#125; &#x2F;&#x2F; å¯¹å±æ€§è¿›è¡Œå“åº”å¼å¤„ç† defineReactive(ob.value, key, val) ob.dep.notify() return val&#125; æˆ‘ä»¬é˜…è¯»ä»¥ä¸Šæºç å¯çŸ¥ï¼Œvm.$set çš„å®ç°åŸç†æ˜¯ï¼š å¦‚æœç›®æ ‡æ˜¯æ•°ç»„ï¼Œç›´æ¥ä½¿ç”¨æ•°ç»„çš„ splice æ–¹æ³•è§¦å‘ç›¸åº”å¼ï¼› å¦‚æœç›®æ ‡æ˜¯å¯¹è±¡ï¼Œä¼šå…ˆåˆ¤è¯»å±æ€§æ˜¯å¦å­˜åœ¨ã€å¯¹è±¡æ˜¯å¦æ˜¯å“åº”å¼ï¼Œæœ€ç»ˆå¦‚æœè¦å¯¹å±æ€§è¿›è¡Œå“åº”å¼å¤„ç†ï¼Œåˆ™æ˜¯é€šè¿‡è°ƒç”¨ defineReactive æ–¹æ³•è¿›è¡Œå“åº”å¼å¤„ç†ï¼ˆ defineReactive æ–¹æ³•å°±æ˜¯ Vue åœ¨åˆå§‹åŒ–å¯¹è±¡æ—¶ï¼Œç»™å¯¹è±¡å±æ€§é‡‡ç”¨ Object.defineProperty åŠ¨æ€æ·»åŠ  getter å’Œ setter çš„åŠŸèƒ½æ‰€è°ƒç”¨çš„æ–¹æ³•ï¼‰ 25ã€è™šæ‹Ÿ DOM çš„ä¼˜ç¼ºç‚¹ï¼Ÿä¼˜ç‚¹ï¼š ä¿è¯æ€§èƒ½ä¸‹é™ï¼š æ¡†æ¶çš„è™šæ‹Ÿ DOM éœ€è¦é€‚é…ä»»ä½•ä¸Šå±‚ API å¯èƒ½äº§ç”Ÿçš„æ“ä½œï¼Œå®ƒçš„ä¸€äº› DOM æ“ä½œçš„å®ç°å¿…é¡»æ˜¯æ™®é€‚çš„ï¼Œæ‰€ä»¥å®ƒçš„æ€§èƒ½å¹¶ä¸æ˜¯æœ€ä¼˜çš„ï¼›ä½†æ˜¯æ¯”èµ·ç²—æš´çš„ DOM æ“ä½œæ€§èƒ½è¦å¥½å¾ˆå¤šï¼Œå› æ­¤æ¡†æ¶çš„è™šæ‹Ÿ DOM è‡³å°‘å¯ä»¥ä¿è¯åœ¨ä½ ä¸éœ€è¦æ‰‹åŠ¨ä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼Œä¾ç„¶å¯ä»¥æä¾›è¿˜ä¸é”™çš„æ€§èƒ½ï¼Œå³ä¿è¯æ€§èƒ½çš„ä¸‹é™ï¼› æ— éœ€æ‰‹åŠ¨æ“ä½œ DOMï¼š æˆ‘ä»¬ä¸å†éœ€è¦æ‰‹åŠ¨å»æ“ä½œ DOMï¼Œåªéœ€è¦å†™å¥½ View-Model çš„ä»£ç é€»è¾‘ï¼Œæ¡†æ¶ä¼šæ ¹æ®è™šæ‹Ÿ DOM å’Œ æ•°æ®åŒå‘ç»‘å®šï¼Œå¸®æˆ‘ä»¬ä»¥å¯é¢„æœŸçš„æ–¹å¼æ›´æ–°è§†å›¾ï¼Œæå¤§æé«˜æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ï¼› è·¨å¹³å°ï¼š è™šæ‹Ÿ DOM æœ¬è´¨ä¸Šæ˜¯ JavaScript å¯¹è±¡,è€Œ DOM ä¸å¹³å°å¼ºç›¸å…³ï¼Œç›¸æ¯”ä¹‹ä¸‹è™šæ‹Ÿ DOM å¯ä»¥è¿›è¡Œæ›´æ–¹ä¾¿åœ°è·¨å¹³å°æ“ä½œï¼Œä¾‹å¦‚æœåŠ¡å™¨æ¸²æŸ“ã€weex å¼€å‘ç­‰ç­‰ã€‚ ç¼ºç‚¹: æ— æ³•è¿›è¡Œæè‡´ä¼˜åŒ–ï¼š è™½ç„¶è™šæ‹Ÿ DOM + åˆç†çš„ä¼˜åŒ–ï¼Œè¶³ä»¥åº”å¯¹ç»å¤§éƒ¨åˆ†åº”ç”¨çš„æ€§èƒ½éœ€æ±‚ï¼Œä½†åœ¨ä¸€äº›æ€§èƒ½è¦æ±‚æé«˜çš„åº”ç”¨ä¸­è™šæ‹Ÿ DOM æ— æ³•è¿›è¡Œé’ˆå¯¹æ€§çš„æè‡´ä¼˜åŒ–ã€‚ 26ã€è™šæ‹Ÿ DOM å®ç°åŸç†ï¼Ÿè™šæ‹Ÿ DOM çš„å®ç°åŸç†ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹ 3 éƒ¨åˆ†ï¼š ç”¨ JavaScript å¯¹è±¡æ¨¡æ‹ŸçœŸå® DOM æ ‘ï¼Œå¯¹çœŸå® DOM è¿›è¡ŒæŠ½è±¡ï¼› diff ç®—æ³• â€” æ¯”è¾ƒä¸¤æ£µè™šæ‹Ÿ DOM æ ‘çš„å·®å¼‚ï¼› pach ç®—æ³• â€” å°†ä¸¤ä¸ªè™šæ‹Ÿ DOM å¯¹è±¡çš„å·®å¼‚åº”ç”¨åˆ°çœŸæ­£çš„ DOM æ ‘ã€‚ 27ã€Vue ä¸­çš„ key æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿkey æ˜¯ä¸º Vue ä¸­ vnode çš„å”¯ä¸€æ ‡è®°ï¼Œé€šè¿‡è¿™ä¸ª keyï¼Œæˆ‘ä»¬çš„ diff æ“ä½œå¯ä»¥æ›´å‡†ç¡®ã€æ›´å¿«é€Ÿã€‚Vue çš„ diff è¿‡ç¨‹å¯ä»¥æ¦‚æ‹¬ä¸ºï¼šoldCh å’Œ newCh å„æœ‰ä¸¤ä¸ªå¤´å°¾çš„å˜é‡ oldStartIndexã€oldEndIndex å’Œ newStartIndexã€newEndIndexï¼Œå®ƒä»¬ä¼šæ–°èŠ‚ç‚¹å’Œæ—§èŠ‚ç‚¹ä¼šè¿›è¡Œä¸¤ä¸¤å¯¹æ¯”ï¼Œå³ä¸€å…±æœ‰4ç§æ¯”è¾ƒæ–¹å¼ï¼šnewStartIndex å’ŒoldStartIndex ã€newEndIndex å’Œ oldEndIndex ã€newStartIndex å’Œ oldEndIndex ã€newEndIndex å’Œ oldStartIndexï¼Œå¦‚æœä»¥ä¸Š 4 ç§æ¯”è¾ƒéƒ½æ²¡åŒ¹é…ï¼Œå¦‚æœè®¾ç½®äº†keyï¼Œå°±ä¼šç”¨ key å†è¿›è¡Œæ¯”è¾ƒï¼Œåœ¨æ¯”è¾ƒçš„è¿‡ç¨‹ä¸­ï¼Œéå†ä¼šå¾€ä¸­é—´é ï¼Œä¸€æ—¦ StartIdx &gt; EndIdx è¡¨æ˜ oldCh å’Œ newCh è‡³å°‘æœ‰ä¸€ä¸ªå·²ç»éå†å®Œäº†ï¼Œå°±ä¼šç»“æŸæ¯”è¾ƒã€‚ æ‰€ä»¥ Vue ä¸­ key çš„ä½œç”¨æ˜¯ï¼škey æ˜¯ä¸º Vue ä¸­ vnode çš„å”¯ä¸€æ ‡è®°ï¼Œé€šè¿‡è¿™ä¸ª keyï¼Œæˆ‘ä»¬çš„ diff æ“ä½œå¯ä»¥æ›´å‡†ç¡®ã€æ›´å¿«é€Ÿ æ›´å‡†ç¡®ï¼šå› ä¸ºå¸¦ key å°±ä¸æ˜¯å°±åœ°å¤ç”¨äº†ï¼Œåœ¨ sameNode å‡½æ•° a.key === b.key å¯¹æ¯”ä¸­å¯ä»¥é¿å…å°±åœ°å¤ç”¨çš„æƒ…å†µã€‚æ‰€ä»¥ä¼šæ›´åŠ å‡†ç¡®ã€‚ æ›´å¿«é€Ÿï¼šåˆ©ç”¨ key çš„å”¯ä¸€æ€§ç”Ÿæˆ map å¯¹è±¡æ¥è·å–å¯¹åº”èŠ‚ç‚¹ï¼Œæ¯”éå†æ–¹å¼æ›´å¿«ï¼Œæºç å¦‚ä¸‹ï¼š 123456789function createKeyToOldIdx (children, beginIdx, endIdx) &#123; let i, key const map &#x3D; &#123;&#125; for (i &#x3D; beginIdx; i &lt;&#x3D; endIdx; ++i) &#123; key &#x3D; children[i].key if (isDef(key)) map[key] &#x3D; i &#125; return map&#125; 28ã€ä½ æœ‰å¯¹ Vue é¡¹ç›®è¿›è¡Œå“ªäº›ä¼˜åŒ–ï¼Ÿï¼ˆ1ï¼‰ä»£ç å±‚é¢çš„ä¼˜åŒ– v-if å’Œ v-show åŒºåˆ†ä½¿ç”¨åœºæ™¯ computed å’Œ watch åŒºåˆ†ä½¿ç”¨åœºæ™¯ v-for éå†å¿…é¡»ä¸º item æ·»åŠ  keyï¼Œä¸”é¿å…åŒæ—¶ä½¿ç”¨ v-if é•¿åˆ—è¡¨æ€§èƒ½ä¼˜åŒ– äº‹ä»¶çš„é”€æ¯ å›¾ç‰‡èµ„æºæ‡’åŠ è½½ è·¯ç”±æ‡’åŠ è½½ ç¬¬ä¸‰æ–¹æ’ä»¶çš„æŒ‰éœ€å¼•å…¥ ä¼˜åŒ–æ— é™åˆ—è¡¨æ€§èƒ½ æœåŠ¡ç«¯æ¸²æŸ“ SSR or é¢„æ¸²æŸ“ ï¼ˆ2ï¼‰Webpack å±‚é¢çš„ä¼˜åŒ– Webpack å¯¹å›¾ç‰‡è¿›è¡Œå‹ç¼© å‡å°‘ ES6 è½¬ä¸º ES5 çš„å†—ä½™ä»£ç  æå–å…¬å…±ä»£ç  æ¨¡æ¿é¢„ç¼–è¯‘ æå–ç»„ä»¶çš„ CSS ä¼˜åŒ– SourceMap æ„å»ºç»“æœè¾“å‡ºåˆ†æ Vue é¡¹ç›®çš„ç¼–è¯‘ä¼˜åŒ– ï¼ˆ3ï¼‰åŸºç¡€çš„ Web æŠ€æœ¯çš„ä¼˜åŒ– å¼€å¯ gzip å‹ç¼© æµè§ˆå™¨ç¼“å­˜ CDN çš„ä½¿ç”¨ ä½¿ç”¨ Chrome Performance æŸ¥æ‰¾æ€§èƒ½ç“¶é¢ˆ 29ã€å¯¹äºå³å°†åˆ°æ¥çš„ vue3.0 ç‰¹æ€§ä½ æœ‰ä»€ä¹ˆäº†è§£çš„å—ï¼ŸVue 3.0 æ­£èµ°åœ¨å‘å¸ƒçš„è·¯ä¸Šï¼ŒVue 3.0 çš„ç›®æ ‡æ˜¯è®© Vue æ ¸å¿ƒå˜å¾—æ›´å°ã€æ›´å¿«ã€æ›´å¼ºå¤§ï¼Œå› æ­¤ Vue 3.0 å¢åŠ ä»¥ä¸‹è¿™äº›æ–°ç‰¹æ€§ï¼š ï¼ˆ1ï¼‰ç›‘æµ‹æœºåˆ¶çš„æ”¹å˜ 3.0 å°†å¸¦æ¥åŸºäºä»£ç† Proxy çš„ observer å®ç°ï¼Œæä¾›å…¨è¯­è¨€è¦†ç›–çš„ååº”æ€§è·Ÿè¸ªã€‚è¿™æ¶ˆé™¤äº† Vue 2 å½“ä¸­åŸºäº Object.defineProperty çš„å®ç°æ‰€å­˜åœ¨çš„å¾ˆå¤šé™åˆ¶ï¼š åªèƒ½ç›‘æµ‹å±æ€§ï¼Œä¸èƒ½ç›‘æµ‹å¯¹è±¡ æ£€æµ‹å±æ€§çš„æ·»åŠ å’Œåˆ é™¤ï¼› æ£€æµ‹æ•°ç»„ç´¢å¼•å’Œé•¿åº¦çš„å˜æ›´ï¼› æ”¯æŒ Mapã€Setã€WeakMap å’Œ WeakSetã€‚ æ–°çš„ observer è¿˜æä¾›äº†ä»¥ä¸‹ç‰¹æ€§ï¼š ç”¨äºåˆ›å»º observable çš„å…¬å¼€ APIã€‚è¿™ä¸ºä¸­å°è§„æ¨¡åœºæ™¯æä¾›äº†ç®€å•è½»é‡çº§çš„è·¨ç»„ä»¶çŠ¶æ€ç®¡ç†è§£å†³æ–¹æ¡ˆã€‚ é»˜è®¤é‡‡ç”¨æƒ°æ€§è§‚å¯Ÿã€‚åœ¨ 2.x ä¸­ï¼Œä¸ç®¡ååº”å¼æ•°æ®æœ‰å¤šå¤§ï¼Œéƒ½ä¼šåœ¨å¯åŠ¨æ—¶è¢«è§‚å¯Ÿåˆ°ã€‚å¦‚æœä½ çš„æ•°æ®é›†å¾ˆå¤§ï¼Œè¿™å¯èƒ½ä¼šåœ¨åº”ç”¨å¯åŠ¨æ—¶å¸¦æ¥æ˜æ˜¾çš„å¼€é”€ã€‚åœ¨ 3.x ä¸­ï¼Œåªè§‚å¯Ÿç”¨äºæ¸²æŸ“åº”ç”¨ç¨‹åºæœ€åˆå¯è§éƒ¨åˆ†çš„æ•°æ®ã€‚ æ›´ç²¾ç¡®çš„å˜æ›´é€šçŸ¥ã€‚åœ¨ 2.x ä¸­ï¼Œé€šè¿‡ Vue.set å¼ºåˆ¶æ·»åŠ æ–°å±æ€§å°†å¯¼è‡´ä¾èµ–äºè¯¥å¯¹è±¡çš„ watcher æ”¶åˆ°å˜æ›´é€šçŸ¥ã€‚åœ¨ 3.x ä¸­ï¼Œåªæœ‰ä¾èµ–äºç‰¹å®šå±æ€§çš„ watcher æ‰ä¼šæ”¶åˆ°é€šçŸ¥ã€‚ ä¸å¯å˜çš„ observableï¼šæˆ‘ä»¬å¯ä»¥åˆ›å»ºå€¼çš„â€œä¸å¯å˜â€ç‰ˆæœ¬ï¼ˆå³ä½¿æ˜¯åµŒå¥—å±æ€§ï¼‰ï¼Œé™¤éç³»ç»Ÿåœ¨å†…éƒ¨æš‚æ—¶å°†å…¶â€œè§£ç¦â€ã€‚è¿™ä¸ªæœºåˆ¶å¯ç”¨äºå†»ç»“ prop ä¼ é€’æˆ– Vuex çŠ¶æ€æ ‘ä»¥å¤–çš„å˜åŒ–ã€‚ æ›´å¥½çš„è°ƒè¯•åŠŸèƒ½ï¼šæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ–°çš„ renderTracked å’Œ renderTriggered é’©å­ç²¾ç¡®åœ°è·Ÿè¸ªç»„ä»¶åœ¨ä»€ä¹ˆæ—¶å€™ä»¥åŠä¸ºä»€ä¹ˆé‡æ–°æ¸²æŸ“ã€‚ ï¼ˆ2ï¼‰æ¨¡æ¿ æ¨¡æ¿æ–¹é¢æ²¡æœ‰å¤§çš„å˜æ›´ï¼Œåªæ”¹äº†ä½œç”¨åŸŸæ’æ§½ï¼Œ2.x çš„æœºåˆ¶å¯¼è‡´ä½œç”¨åŸŸæ’æ§½å˜äº†ï¼Œçˆ¶ç»„ä»¶ä¼šé‡æ–°æ¸²æŸ“ï¼Œè€Œ 3.0 æŠŠä½œç”¨åŸŸæ’æ§½æ”¹æˆäº†å‡½æ•°çš„æ–¹å¼ï¼Œè¿™æ ·åªä¼šå½±å“å­ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ï¼Œæå‡äº†æ¸²æŸ“çš„æ€§èƒ½ã€‚ åŒæ—¶ï¼Œå¯¹äº render å‡½æ•°çš„æ–¹é¢ï¼Œvue3.0 ä¹Ÿä¼šè¿›è¡Œä¸€ç³»åˆ—æ›´æ”¹æ¥æ–¹ä¾¿ä¹ æƒ¯ç›´æ¥ä½¿ç”¨ api æ¥ç”Ÿæˆ vdom ã€‚ ï¼ˆ3ï¼‰å¯¹è±¡å¼çš„ç»„ä»¶å£°æ˜æ–¹å¼ vue2.x ä¸­çš„ç»„ä»¶æ˜¯é€šè¿‡å£°æ˜çš„æ–¹å¼ä¼ å…¥ä¸€ç³»åˆ— optionï¼Œå’Œ TypeScript çš„ç»“åˆéœ€è¦é€šè¿‡ä¸€äº›è£…é¥°å™¨çš„æ–¹å¼æ¥åšï¼Œè™½ç„¶èƒ½å®ç°åŠŸèƒ½ï¼Œä½†æ˜¯æ¯”è¾ƒéº»çƒ¦ã€‚3.0 ä¿®æ”¹äº†ç»„ä»¶çš„å£°æ˜æ–¹å¼ï¼Œæ”¹æˆäº†ç±»å¼çš„å†™æ³•ï¼Œè¿™æ ·ä½¿å¾—å’Œ TypeScript çš„ç»“åˆå˜å¾—å¾ˆå®¹æ˜“ã€‚ æ­¤å¤–ï¼Œvue çš„æºç ä¹Ÿæ”¹ç”¨äº† TypeScript æ¥å†™ã€‚å…¶å®å½“ä»£ç çš„åŠŸèƒ½å¤æ‚ä¹‹åï¼Œå¿…é¡»æœ‰ä¸€ä¸ªé™æ€ç±»å‹ç³»ç»Ÿæ¥åšä¸€äº›è¾…åŠ©ç®¡ç†ã€‚ç°åœ¨ vue3.0 ä¹Ÿå…¨é¢æ”¹ç”¨ TypeScript æ¥é‡å†™äº†ï¼Œæ›´æ˜¯ä½¿å¾—å¯¹å¤–æš´éœ²çš„ api æ›´å®¹æ˜“ç»“åˆ TypeScriptã€‚é™æ€ç±»å‹ç³»ç»Ÿå¯¹äºå¤æ‚ä»£ç çš„ç»´æŠ¤ç¡®å®å¾ˆæœ‰å¿…è¦ã€‚ ï¼ˆ4ï¼‰å…¶å®ƒæ–¹é¢çš„æ›´æ”¹ vue3.0 çš„æ”¹å˜æ˜¯å…¨é¢çš„ï¼Œä¸Šé¢åªæ¶‰åŠåˆ°ä¸»è¦çš„ 3 ä¸ªæ–¹é¢ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–çš„æ›´æ”¹ï¼š æ”¯æŒè‡ªå®šä¹‰æ¸²æŸ“å™¨ï¼Œä»è€Œä½¿å¾— weex å¯ä»¥é€šè¿‡è‡ªå®šä¹‰æ¸²æŸ“å™¨çš„æ–¹å¼æ¥æ‰©å±•ï¼Œè€Œä¸æ˜¯ç›´æ¥ fork æºç æ¥æ”¹çš„æ–¹å¼ã€‚ æ”¯æŒ Fragmentï¼ˆå¤šä¸ªæ ¹èŠ‚ç‚¹ï¼‰å’Œ Protalï¼ˆåœ¨ dom å…¶ä»–éƒ¨åˆ†æ¸²æŸ“ç»„å»ºå†…å®¹ï¼‰ç»„ä»¶ï¼Œé’ˆå¯¹ä¸€äº›ç‰¹æ®Šçš„åœºæ™¯åšäº†å¤„ç†ã€‚ åŸºäº treeshaking ä¼˜åŒ–ï¼Œæä¾›äº†æ›´å¤šçš„å†…ç½®åŠŸèƒ½ã€‚","tags":[]},{"title":"Vueä»£ç†proxyTableè®¾ç½®","date":"2019-12-26T09:40:01.198Z","path":"2019/12/26/Vueä»£ç†proxyTableè®¾ç½®/","text":"Vue ä»£ç† proxyTable è®¾ç½®èƒŒæ™¯ï¼švueé¡¹ç›®åœ¨æœ¬åœ°å¼€å‘é»˜è®¤æ‰“å¼€localhost:8081ï¼Œä½†æ˜¯åç«¯è¯·æ±‚åœ°å€å’Œæœ¬åœ°äº§ç”Ÿè·¨åŸŸï¼Œæ€æ ·å¿«é€Ÿçš„åœ¨æœ¬åœ°è¿›è¡Œè°ƒæ¥å£è°ƒè¯•ï¼Ÿvue-cliè‡ªå¸¦çš„proxyTable å¯ä»¥è§£å†³æœ¬åœ°å¼€å‘è·¨åŸŸé—®é¢˜ æˆ‘ä»¬åœ¨é¡¹ç›®ä¸­çš„åç«¯è·¯ç”±ï¼Œéƒ½å¸¦æœ‰ /server/ çš„prefix é‚£ä¹ˆæˆ‘ä»¬åœ¨configé‡Œé…ç½® proxyTable å¯ä»¥è¿™æ ·å†™ï¼š 123456789proxyTable: &#123; &#39;&#x2F;server&#39;: &#123; target: &#39;http:&#x2F;&#x2F;åç«¯åœ°å€:7002&#39;, changeOrigin: true, pathRewrite: &#123; &#39;&#x2F;server&#39;: &#39;&#x2F;server&#x2F;&#39; &#125; &#125; &#125;, è¿™æ ·æœ¬åœ°å°±å¯ä»¥è°ƒç”¨åç«¯çš„æ¥å£è¿›è¡Œè°ƒè¯•äº†ï¼Œè®°ä½ï¼Œæ”¹å®Œconfigæ–‡ä»¶è¦é‡æ–°npm run dev psï¼šæ­¤æ–¹æ³•ä»…é™ç”¨äºå¼€å‘ç¯å¢ƒï¼Œä¸é€‚åˆç”Ÿäº§ç¯å¢ƒï¼Œç”Ÿäº§ç¯å¢ƒå¯ä»¥ç”¨nginxè¿›è¡Œä»£ç†","tags":[]},{"title":"JavaScriptæ‰§è¡Œæœºåˆ¶","date":"2019-12-26T09:35:01.855Z","path":"2019/12/26/JavaScriptæ‰§è¡Œæœºåˆ¶/","text":"1.å…³äºjavascriptjavascriptæ˜¯ä¸€é—¨å•çº¿ç¨‹è¯­è¨€ï¼Œåœ¨æœ€æ–°çš„HTML5ä¸­æå‡ºäº†Web-Workerï¼Œä½†javascriptæ˜¯å•çº¿ç¨‹è¿™ä¸€æ ¸å¿ƒä»æœªæ”¹å˜ã€‚æ‰€ä»¥ä¸€åˆ‡javascriptç‰ˆçš„â€å¤šçº¿ç¨‹â€éƒ½æ˜¯ç”¨å•çº¿ç¨‹æ¨¡æ‹Ÿå‡ºæ¥çš„ï¼Œä¸€åˆ‡javascriptå¤šçº¿ç¨‹éƒ½æ˜¯çº¸è€è™ï¼ 2.javascriptäº‹ä»¶å¾ªç¯æ—¢ç„¶jsæ˜¯å•çº¿ç¨‹ï¼Œé‚£å°±åƒåªæœ‰ä¸€ä¸ªçª—å£çš„é“¶è¡Œï¼Œå®¢æˆ·éœ€è¦æ’é˜Ÿä¸€ä¸ªä¸€ä¸ªåŠç†ä¸šåŠ¡ï¼ŒåŒç†jsä»»åŠ¡ä¹Ÿè¦ä¸€ä¸ªä¸€ä¸ªé¡ºåºæ‰§è¡Œã€‚å¦‚æœä¸€ä¸ªä»»åŠ¡è€—æ—¶è¿‡é•¿ï¼Œé‚£ä¹ˆåä¸€ä¸ªä»»åŠ¡ä¹Ÿå¿…é¡»ç­‰ç€ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå‡å¦‚æˆ‘ä»¬æƒ³æµè§ˆæ–°é—»ï¼Œä½†æ˜¯æ–°é—»åŒ…å«çš„è¶…æ¸…å›¾ç‰‡åŠ è½½å¾ˆæ…¢ï¼Œéš¾é“æˆ‘ä»¬çš„ç½‘é¡µè¦ä¸€ç›´å¡ç€ç›´åˆ°å›¾ç‰‡å®Œå…¨æ˜¾ç¤ºå‡ºæ¥ï¼Ÿå› æ­¤èªæ˜çš„ç¨‹åºå‘˜å°†ä»»åŠ¡åˆ†ä¸ºä¸¤ç±»ï¼š åŒæ­¥ä»»åŠ¡ å¼‚æ­¥ä»»åŠ¡ å½“æˆ‘ä»¬æ‰“å¼€ç½‘ç«™æ—¶ï¼Œç½‘é¡µçš„æ¸²æŸ“è¿‡ç¨‹å°±æ˜¯ä¸€å¤§å †åŒæ­¥ä»»åŠ¡ï¼Œæ¯”å¦‚é¡µé¢éª¨æ¶å’Œé¡µé¢å…ƒç´ çš„æ¸²æŸ“ã€‚è€ŒåƒåŠ è½½å›¾ç‰‡éŸ³ä¹ä¹‹ç±»å ç”¨èµ„æºå¤§è€—æ—¶ä¹…çš„ä»»åŠ¡ï¼Œå°±æ˜¯å¼‚æ­¥ä»»åŠ¡ã€‚å…³äºè¿™éƒ¨åˆ†æœ‰ä¸¥æ ¼çš„æ–‡å­—å®šä¹‰ï¼Œä½†æœ¬æ–‡çš„ç›®çš„æ˜¯ç”¨æœ€å°çš„å­¦ä¹ æˆæœ¬å½»åº•å¼„æ‡‚æ‰§è¡Œæœºåˆ¶ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨å¯¼å›¾æ¥è¯´æ˜ï¼š å¯¼å›¾è¦è¡¨è¾¾çš„å†…å®¹ç”¨æ–‡å­—æ¥è¡¨è¿°çš„è¯ï¼š åŒæ­¥å’Œå¼‚æ­¥ä»»åŠ¡åˆ†åˆ«è¿›å…¥ä¸åŒçš„æ‰§è¡Œâ€åœºæ‰€â€ï¼ŒåŒæ­¥çš„è¿›å…¥ä¸»çº¿ç¨‹ï¼Œå¼‚æ­¥çš„è¿›å…¥Event Tableå¹¶æ³¨å†Œå‡½æ•°ã€‚ å½“æŒ‡å®šçš„äº‹æƒ…å®Œæˆæ—¶ï¼ŒEvent Tableä¼šå°†è¿™ä¸ªå‡½æ•°ç§»å…¥Event Queueã€‚ ä¸»çº¿ç¨‹å†…çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¸ºç©ºï¼Œä¼šå»Event Queueè¯»å–å¯¹åº”çš„å‡½æ•°ï¼Œè¿›å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚ ä¸Šè¿°è¿‡ç¨‹ä¼šä¸æ–­é‡å¤ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„Event Loop(äº‹ä»¶å¾ªç¯)ã€‚ æˆ‘ä»¬ä¸ç¦è¦é—®äº†ï¼Œé‚£æ€ä¹ˆçŸ¥é“ä¸»çº¿ç¨‹æ‰§è¡Œæ ˆä¸ºç©ºå•Šï¼Ÿjså¼•æ“å­˜åœ¨monitoring processè¿›ç¨‹ï¼Œä¼šæŒç»­ä¸æ–­çš„æ£€æŸ¥ä¸»çº¿ç¨‹æ‰§è¡Œæ ˆæ˜¯å¦ä¸ºç©ºï¼Œä¸€æ—¦ä¸ºç©ºï¼Œå°±ä¼šå»Event Queueé‚£é‡Œæ£€æŸ¥æ˜¯å¦æœ‰ç­‰å¾…è¢«è°ƒç”¨çš„å‡½æ•°ã€‚ è¯´äº†è¿™ä¹ˆå¤šæ–‡å­—ï¼Œä¸å¦‚ç›´æ¥ä¸€æ®µä»£ç æ›´ç›´ç™½ï¼š 123456789let data &#x3D; [];$.ajax(&#123; url:www.javascript.com, data:data, success:() &#x3D;&gt; &#123; console.log(&#39;å‘é€æˆåŠŸ!&#39;); &#125;&#125;)console.log(&#39;ä»£ç æ‰§è¡Œç»“æŸ&#39;); ä¸Šé¢æ˜¯ä¸€æ®µç®€æ˜“çš„ajaxè¯·æ±‚ä»£ç ï¼š ajaxè¿›å…¥Event Tableï¼Œæ³¨å†Œå›è°ƒå‡½æ•°successã€‚ æ‰§è¡Œconsole.log(&#39;ä»£ç æ‰§è¡Œç»“æŸ&#39;)ã€‚ ajaxäº‹ä»¶å®Œæˆï¼Œå›è°ƒå‡½æ•°successè¿›å…¥Event Queueã€‚ ä¸»çº¿ç¨‹ä»Event Queueè¯»å–å›è°ƒå‡½æ•°successå¹¶æ‰§è¡Œã€‚ ç›¸ä¿¡é€šè¿‡ä¸Šé¢çš„æ–‡å­—å’Œä»£ç ï¼Œä½ å·²ç»å¯¹jsçš„æ‰§è¡Œé¡ºåºæœ‰äº†åˆæ­¥äº†è§£ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æ¥ç ”ç©¶è¿›é˜¶è¯é¢˜ï¼šsetTimeoutã€‚ 3.åˆçˆ±åˆæ¨çš„setTimeoutå¤§åé¼é¼çš„setTimeoutæ— éœ€å†å¤šè¨€ï¼Œå¤§å®¶å¯¹ä»–çš„ç¬¬ä¸€å°è±¡å°±æ˜¯å¼‚æ­¥å¯ä»¥å»¶æ—¶æ‰§è¡Œï¼Œæˆ‘ä»¬ç»å¸¸è¿™ä¹ˆå®ç°å»¶æ—¶3ç§’æ‰§è¡Œï¼š 123setTimeout(() &#x3D;&gt; &#123; console.log(&#39;å»¶æ—¶3ç§’&#39;);&#125;,3000) æ¸æ¸çš„setTimeoutç”¨çš„åœ°æ–¹å¤šäº†ï¼Œé—®é¢˜ä¹Ÿå‡ºç°äº†ï¼Œæœ‰æ—¶å€™æ˜æ˜å†™çš„å»¶æ—¶3ç§’ï¼Œå®é™…å´5ï¼Œ6ç§’æ‰æ‰§è¡Œå‡½æ•°ï¼Œè¿™åˆå’‹å›äº‹å•Šï¼Ÿ å…ˆçœ‹ä¸€ä¸ªä¾‹å­ï¼š 1234setTimeout(() &#x3D;&gt; &#123; task();&#125;,3000)console.log(&#39;æ‰§è¡Œconsole&#39;); æ ¹æ®å‰é¢æˆ‘ä»¬çš„ç»“è®ºï¼ŒsetTimeoutæ˜¯å¼‚æ­¥çš„ï¼Œåº”è¯¥å…ˆæ‰§è¡Œconsole.logè¿™ä¸ªåŒæ­¥ä»»åŠ¡ï¼Œæ‰€ä»¥æˆ‘ä»¬çš„ç»“è®ºæ˜¯ï¼š 12&#x2F;&#x2F;æ‰§è¡Œconsole&#x2F;&#x2F;task() å»éªŒè¯ä¸€ä¸‹ï¼Œç»“æœæ­£ç¡®ï¼ç„¶åæˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹å‰é¢çš„ä»£ç ï¼š 12345setTimeout(() &#x3D;&gt; &#123; task()&#125;,3000)sleep(10000000) ä¹ä¸€çœ‹å…¶å®å·®ä¸å¤šå˜›ï¼Œä½†æˆ‘ä»¬æŠŠè¿™æ®µä»£ç åœ¨chromeæ‰§è¡Œä¸€ä¸‹ï¼Œå´å‘ç°æ§åˆ¶å°æ‰§è¡Œtask()éœ€è¦çš„æ—¶é—´è¿œè¿œè¶…è¿‡3ç§’ï¼Œè¯´å¥½çš„å»¶æ—¶ä¸‰ç§’ï¼Œä¸ºå•¥ç°åœ¨éœ€è¦è¿™ä¹ˆé•¿æ—¶é—´å•Šï¼Ÿ è¿™æ—¶å€™æˆ‘ä»¬éœ€è¦é‡æ–°ç†è§£setTimeoutçš„å®šä¹‰ã€‚æˆ‘ä»¬å…ˆè¯´ä¸Šè¿°ä»£ç æ˜¯æ€ä¹ˆæ‰§è¡Œçš„ï¼š task()è¿›å…¥Event Tableå¹¶æ³¨å†Œ,è®¡æ—¶å¼€å§‹ã€‚ æ‰§è¡Œsleepå‡½æ•°ï¼Œå¾ˆæ…¢ï¼Œéå¸¸æ…¢ï¼Œè®¡æ—¶ä»åœ¨ç»§ç»­ã€‚ 3ç§’åˆ°äº†ï¼Œè®¡æ—¶äº‹ä»¶timeoutå®Œæˆï¼Œtask()è¿›å…¥Event Queueï¼Œä½†æ˜¯sleepä¹Ÿå¤ªæ…¢äº†å§ï¼Œè¿˜æ²¡æ‰§è¡Œå®Œï¼Œåªå¥½ç­‰ç€ã€‚ sleepç»ˆäºæ‰§è¡Œå®Œäº†ï¼Œtask()ç»ˆäºä»Event Queueè¿›å…¥äº†ä¸»çº¿ç¨‹æ‰§è¡Œã€‚ ä¸Šè¿°çš„æµç¨‹èµ°å®Œï¼Œæˆ‘ä»¬çŸ¥é“setTimeoutè¿™ä¸ªå‡½æ•°ï¼Œæ˜¯ç»è¿‡æŒ‡å®šæ—¶é—´åï¼ŒæŠŠè¦æ‰§è¡Œçš„ä»»åŠ¡(æœ¬ä¾‹ä¸­ä¸ºtask())åŠ å…¥åˆ°Event Queueä¸­ï¼Œåˆå› ä¸ºæ˜¯å•çº¿ç¨‹ä»»åŠ¡è¦ä¸€ä¸ªä¸€ä¸ªæ‰§è¡Œï¼Œå¦‚æœå‰é¢çš„ä»»åŠ¡éœ€è¦çš„æ—¶é—´å¤ªä¹…ï¼Œé‚£ä¹ˆåªèƒ½ç­‰ç€ï¼Œå¯¼è‡´çœŸæ­£çš„å»¶è¿Ÿæ—¶é—´è¿œè¿œå¤§äº3ç§’ã€‚ æˆ‘ä»¬è¿˜ç»å¸¸é‡åˆ°setTimeout(fn,0)è¿™æ ·çš„ä»£ç ï¼Œ0ç§’åæ‰§è¡Œåˆæ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæ˜¯ä¸æ˜¯å¯ä»¥ç«‹å³æ‰§è¡Œå‘¢ï¼Ÿ ç­”æ¡ˆæ˜¯ä¸ä¼šçš„ï¼ŒsetTimeout(fn,0)çš„å«ä¹‰æ˜¯ï¼ŒæŒ‡å®šæŸä¸ªä»»åŠ¡åœ¨ä¸»çº¿ç¨‹æœ€æ—©å¯å¾—çš„ç©ºé—²æ—¶é—´æ‰§è¡Œï¼Œæ„æ€å°±æ˜¯ä¸ç”¨å†ç­‰å¤šå°‘ç§’äº†ï¼Œåªè¦ä¸»çº¿ç¨‹æ‰§è¡Œæ ˆå†…çš„åŒæ­¥ä»»åŠ¡å…¨éƒ¨æ‰§è¡Œå®Œæˆï¼Œæ ˆä¸ºç©ºå°±é©¬ä¸Šæ‰§è¡Œã€‚ä¸¾ä¾‹è¯´æ˜ï¼š 12345678910&#x2F;&#x2F;ä»£ç 1console.log(&#39;å…ˆæ‰§è¡Œè¿™é‡Œ&#39;);setTimeout(() &#x3D;&gt; &#123; console.log(&#39;æ‰§è¡Œå•¦&#39;)&#125;,0);&#x2F;&#x2F;ä»£ç 2console.log(&#39;å…ˆæ‰§è¡Œè¿™é‡Œ&#39;);setTimeout(() &#x3D;&gt; &#123; console.log(&#39;æ‰§è¡Œå•¦&#39;)&#125;,3000); ä»£ç 1çš„è¾“å‡ºç»“æœæ˜¯ï¼š 12&#x2F;&#x2F;å…ˆæ‰§è¡Œè¿™é‡Œ&#x2F;&#x2F;æ‰§è¡Œå•¦ ä»£ç 2çš„è¾“å‡ºç»“æœæ˜¯ï¼š 123&#x2F;&#x2F;å…ˆæ‰§è¡Œè¿™é‡Œ&#x2F;&#x2F; ... 3s later&#x2F;&#x2F; æ‰§è¡Œå•¦ å…³äºsetTimeoutè¦è¡¥å……çš„æ˜¯ï¼Œå³ä¾¿ä¸»çº¿ç¨‹ä¸ºç©ºï¼Œ0æ¯«ç§’å®é™…ä¸Šä¹Ÿæ˜¯è¾¾ä¸åˆ°çš„ã€‚æ ¹æ®HTMLçš„æ ‡å‡†ï¼Œæœ€ä½æ˜¯4æ¯«ç§’ã€‚æœ‰å…´è¶£çš„åŒå­¦å¯ä»¥è‡ªè¡Œäº†è§£ã€‚ 4.åˆæ¨åˆçˆ±çš„setIntervalä¸Šé¢è¯´å®Œäº†setTimeoutï¼Œå½“ç„¶ä¸èƒ½é”™è¿‡å®ƒçš„å­ªç”Ÿå…„å¼ŸsetIntervalã€‚ä»–ä¿©å·®ä¸å¤šï¼Œåªä¸è¿‡åè€…æ˜¯å¾ªç¯çš„æ‰§è¡Œã€‚å¯¹äºæ‰§è¡Œé¡ºåºæ¥è¯´ï¼ŒsetIntervalä¼šæ¯éš”æŒ‡å®šçš„æ—¶é—´å°†æ³¨å†Œçš„å‡½æ•°ç½®å…¥Event Queueï¼Œå¦‚æœå‰é¢çš„ä»»åŠ¡è€—æ—¶å¤ªä¹…ï¼Œé‚£ä¹ˆåŒæ ·éœ€è¦ç­‰å¾…ã€‚ å”¯ä¸€éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œå¯¹äºsetInterval(fn,ms)æ¥è¯´ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“ä¸æ˜¯æ¯è¿‡msç§’ä¼šæ‰§è¡Œä¸€æ¬¡fnï¼Œè€Œæ˜¯æ¯è¿‡msç§’ï¼Œä¼šæœ‰fnè¿›å…¥Event Queueã€‚ä¸€æ—¦setIntervalçš„å›è°ƒå‡½æ•°fnæ‰§è¡Œæ—¶é—´è¶…è¿‡äº†å»¶è¿Ÿæ—¶é—´msï¼Œé‚£ä¹ˆå°±å®Œå…¨çœ‹ä¸å‡ºæ¥æœ‰æ—¶é—´é—´éš”äº†ã€‚è¿™å¥è¯è¯·è¯»è€…ä»”ç»†å“å‘³ã€‚ 5.Promiseä¸process.nextTick(callback)ä¼ ç»Ÿçš„å®šæ—¶å™¨æˆ‘ä»¬å·²ç»ç ”ç©¶è¿‡äº†ï¼Œæ¥ç€æˆ‘ä»¬æ¢ç©¶Promiseä¸process.nextTick(callback)çš„è¡¨ç°ã€‚ Promiseçš„å®šä¹‰å’ŒåŠŸèƒ½æœ¬æ–‡ä¸å†èµ˜è¿°ï¼Œä¸äº†è§£çš„è¯»è€…å¯ä»¥å­¦ä¹ ä¸€ä¸‹é˜®ä¸€å³°è€å¸ˆçš„Promiseã€‚è€Œprocess.nextTick(callback)ç±»ä¼¼node.jsç‰ˆçš„â€setTimeoutâ€ï¼Œåœ¨äº‹ä»¶å¾ªç¯çš„ä¸‹ä¸€æ¬¡å¾ªç¯ä¸­è°ƒç”¨ callback å›è°ƒå‡½æ•°ã€‚ æˆ‘ä»¬è¿›å…¥æ­£é¢˜ï¼Œé™¤äº†å¹¿ä¹‰çš„åŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡ï¼Œæˆ‘ä»¬å¯¹ä»»åŠ¡æœ‰æ›´ç²¾ç»†çš„å®šä¹‰ï¼š macro-task(å®ä»»åŠ¡)ï¼šåŒ…æ‹¬æ•´ä½“ä»£ç scriptï¼ŒsetTimeoutï¼ŒsetInterval micro-task(å¾®ä»»åŠ¡)ï¼šPromiseï¼Œprocess.nextTick ä¸åŒç±»å‹çš„ä»»åŠ¡ä¼šè¿›å…¥å¯¹åº”çš„Event Queueï¼Œæ¯”å¦‚setTimeoutå’ŒsetIntervalä¼šè¿›å…¥ç›¸åŒçš„Event Queueã€‚ äº‹ä»¶å¾ªç¯çš„é¡ºåºï¼Œå†³å®šjsä»£ç çš„æ‰§è¡Œé¡ºåºã€‚è¿›å…¥æ•´ä½“ä»£ç (å®ä»»åŠ¡)åï¼Œå¼€å§‹ç¬¬ä¸€æ¬¡å¾ªç¯ã€‚æ¥ç€æ‰§è¡Œæ‰€æœ‰çš„å¾®ä»»åŠ¡ã€‚ç„¶åå†æ¬¡ä»å®ä»»åŠ¡å¼€å§‹ï¼Œæ‰¾åˆ°å…¶ä¸­ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—æ‰§è¡Œå®Œæ¯•ï¼Œå†æ‰§è¡Œæ‰€æœ‰çš„å¾®ä»»åŠ¡ã€‚å¬èµ·æ¥æœ‰ç‚¹ç»•ï¼Œæˆ‘ä»¬ç”¨æ–‡ç« æœ€å¼€å§‹çš„ä¸€æ®µä»£ç è¯´æ˜ï¼š 1234567891011setTimeout(function() &#123; console.log(&#39;setTimeout&#39;);&#125;)new Promise(function(resolve) &#123; console.log(&#39;promise&#39;);&#125;).then(function() &#123; console.log(&#39;then&#39;);&#125;)console.log(&#39;console&#39;); è¿™æ®µä»£ç ä½œä¸ºå®ä»»åŠ¡ï¼Œè¿›å…¥ä¸»çº¿ç¨‹ã€‚ å…ˆé‡åˆ°setTimeoutï¼Œé‚£ä¹ˆå°†å…¶å›è°ƒå‡½æ•°æ³¨å†Œååˆ†å‘åˆ°å®ä»»åŠ¡Event Queueã€‚(æ³¨å†Œè¿‡ç¨‹ä¸ä¸ŠåŒï¼Œä¸‹æ–‡ä¸å†æè¿°) æ¥ä¸‹æ¥é‡åˆ°äº†Promiseï¼Œnew Promiseç«‹å³æ‰§è¡Œï¼Œthenå‡½æ•°åˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueã€‚ é‡åˆ°console.log()ï¼Œç«‹å³æ‰§è¡Œã€‚ å¥½å•¦ï¼Œæ•´ä½“ä»£ç scriptä½œä¸ºç¬¬ä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œç»“æŸï¼Œçœ‹çœ‹æœ‰å“ªäº›å¾®ä»»åŠ¡ï¼Ÿæˆ‘ä»¬å‘ç°äº†thenåœ¨å¾®ä»»åŠ¡Event Queueé‡Œé¢ï¼Œæ‰§è¡Œã€‚ okï¼Œç¬¬ä¸€è½®äº‹ä»¶å¾ªç¯ç»“æŸäº†ï¼Œæˆ‘ä»¬å¼€å§‹ç¬¬äºŒè½®å¾ªç¯ï¼Œå½“ç„¶è¦ä»å®ä»»åŠ¡Event Queueå¼€å§‹ã€‚æˆ‘ä»¬å‘ç°äº†å®ä»»åŠ¡Event Queueä¸­setTimeoutå¯¹åº”çš„å›è°ƒå‡½æ•°ï¼Œç«‹å³æ‰§è¡Œã€‚ ç»“æŸã€‚ äº‹ä»¶å¾ªç¯ï¼Œå®ä»»åŠ¡ï¼Œå¾®ä»»åŠ¡çš„å…³ç³»å¦‚å›¾æ‰€ç¤ºï¼š æˆ‘ä»¬æ¥åˆ†æä¸€æ®µè¾ƒå¤æ‚çš„ä»£ç ï¼Œçœ‹çœ‹ä½ æ˜¯å¦çœŸçš„æŒæ¡äº†jsçš„æ‰§è¡Œæœºåˆ¶ï¼š 123456789101112131415161718192021222324252627282930313233343536console.log(&#39;1&#39;);setTimeout(function() &#123; console.log(&#39;2&#39;); process.nextTick(function() &#123; console.log(&#39;3&#39;); &#125;) new Promise(function(resolve) &#123; console.log(&#39;4&#39;); resolve(); &#125;).then(function() &#123; console.log(&#39;5&#39;) &#125;)&#125;)process.nextTick(function() &#123; console.log(&#39;6&#39;);&#125;)new Promise(function(resolve) &#123; console.log(&#39;7&#39;); resolve();&#125;).then(function() &#123; console.log(&#39;8&#39;)&#125;)setTimeout(function() &#123; console.log(&#39;9&#39;); process.nextTick(function() &#123; console.log(&#39;10&#39;); &#125;) new Promise(function(resolve) &#123; console.log(&#39;11&#39;); resolve(); &#125;).then(function() &#123; console.log(&#39;12&#39;) &#125;)&#125;) ç¬¬ä¸€è½®äº‹ä»¶å¾ªç¯æµç¨‹åˆ†æå¦‚ä¸‹ï¼š æ•´ä½“scriptä½œä¸ºç¬¬ä¸€ä¸ªå®ä»»åŠ¡è¿›å…¥ä¸»çº¿ç¨‹ï¼Œé‡åˆ°console.logï¼Œè¾“å‡º1ã€‚ é‡åˆ°setTimeoutï¼Œå…¶å›è°ƒå‡½æ•°è¢«åˆ†å‘åˆ°å®ä»»åŠ¡Event Queueä¸­ã€‚æˆ‘ä»¬æš‚ä¸”è®°ä¸ºsetTimeout1ã€‚ é‡åˆ°process.nextTick()ï¼Œå…¶å›è°ƒå‡½æ•°è¢«åˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueä¸­ã€‚æˆ‘ä»¬è®°ä¸ºprocess1ã€‚ é‡åˆ°Promiseï¼Œnew Promiseç›´æ¥æ‰§è¡Œï¼Œè¾“å‡º7ã€‚thenè¢«åˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueä¸­ã€‚æˆ‘ä»¬è®°ä¸ºthen1ã€‚ åˆé‡åˆ°äº†setTimeoutï¼Œå…¶å›è°ƒå‡½æ•°è¢«åˆ†å‘åˆ°å®ä»»åŠ¡Event Queueä¸­ï¼Œæˆ‘ä»¬è®°ä¸ºsetTimeout2ã€‚ å®ä»»åŠ¡Event Queue å¾®ä»»åŠ¡Event Queue setTimeout1 process1 setTimeout2 then1 ä¸Šè¡¨æ˜¯ç¬¬ä¸€è½®äº‹ä»¶å¾ªç¯å®ä»»åŠ¡ç»“æŸæ—¶å„Event Queueçš„æƒ…å†µï¼Œæ­¤æ—¶å·²ç»è¾“å‡ºäº†1å’Œ7ã€‚ æˆ‘ä»¬å‘ç°äº†process1å’Œthen1ä¸¤ä¸ªå¾®ä»»åŠ¡ã€‚ æ‰§è¡Œprocess1,è¾“å‡º6ã€‚ æ‰§è¡Œthen1ï¼Œè¾“å‡º8ã€‚ å¥½äº†ï¼Œç¬¬ä¸€è½®äº‹ä»¶å¾ªç¯æ­£å¼ç»“æŸï¼Œè¿™ä¸€è½®çš„ç»“æœæ˜¯è¾“å‡º1ï¼Œ7ï¼Œ6ï¼Œ8ã€‚é‚£ä¹ˆç¬¬äºŒè½®æ—¶é—´å¾ªç¯ä»setTimeout1å®ä»»åŠ¡å¼€å§‹ï¼š é¦–å…ˆè¾“å‡º2ã€‚æ¥ä¸‹æ¥é‡åˆ°äº†process.nextTick()ï¼ŒåŒæ ·å°†å…¶åˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueä¸­ï¼Œè®°ä¸ºprocess2ã€‚new Promiseç«‹å³æ‰§è¡Œè¾“å‡º4ï¼Œthenä¹Ÿåˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueä¸­ï¼Œè®°ä¸ºthen2ã€‚ å®ä»»åŠ¡Event Queue å¾®ä»»åŠ¡Event Queue setTimeout2 process2 then2 ç¬¬äºŒè½®äº‹ä»¶å¾ªç¯å®ä»»åŠ¡ç»“æŸï¼Œæˆ‘ä»¬å‘ç°æœ‰process2å’Œthen2ä¸¤ä¸ªå¾®ä»»åŠ¡å¯ä»¥æ‰§è¡Œã€‚ è¾“å‡º3ã€‚ è¾“å‡º5ã€‚ ç¬¬äºŒè½®äº‹ä»¶å¾ªç¯ç»“æŸï¼Œç¬¬äºŒè½®è¾“å‡º2ï¼Œ4ï¼Œ3ï¼Œ5ã€‚ ç¬¬ä¸‰è½®äº‹ä»¶å¾ªç¯å¼€å§‹ï¼Œæ­¤æ—¶åªå‰©setTimeout2äº†ï¼Œæ‰§è¡Œã€‚ ç›´æ¥è¾“å‡º9ã€‚ å°†process.nextTick()åˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueä¸­ã€‚è®°ä¸ºprocess3ã€‚ ç›´æ¥æ‰§è¡Œnew Promiseï¼Œè¾“å‡º11ã€‚ å°†thenåˆ†å‘åˆ°å¾®ä»»åŠ¡Event Queueä¸­ï¼Œè®°ä¸ºthen3ã€‚ å®ä»»åŠ¡Event Queue å¾®ä»»åŠ¡Event Queue process3 then3 ç¬¬ä¸‰è½®äº‹ä»¶å¾ªç¯å®ä»»åŠ¡æ‰§è¡Œç»“æŸï¼Œæ‰§è¡Œä¸¤ä¸ªå¾®ä»»åŠ¡process3å’Œthen3ã€‚ è¾“å‡º10ã€‚ è¾“å‡º12ã€‚ ç¬¬ä¸‰è½®äº‹ä»¶å¾ªç¯ç»“æŸï¼Œç¬¬ä¸‰è½®è¾“å‡º9ï¼Œ11ï¼Œ10ï¼Œ12ã€‚ æ•´æ®µä»£ç ï¼Œå…±è¿›è¡Œäº†ä¸‰æ¬¡äº‹ä»¶å¾ªç¯ï¼Œå®Œæ•´çš„è¾“å‡ºä¸º1ï¼Œ7ï¼Œ6ï¼Œ8ï¼Œ2ï¼Œ4ï¼Œ3ï¼Œ5ï¼Œ9ï¼Œ11ï¼Œ10ï¼Œ12ã€‚(è¯·æ³¨æ„ï¼Œnodeç¯å¢ƒä¸‹çš„äº‹ä»¶ç›‘å¬ä¾èµ–libuvä¸å‰ç«¯ç¯å¢ƒä¸å®Œå…¨ç›¸åŒï¼Œè¾“å‡ºé¡ºåºå¯èƒ½ä¼šæœ‰è¯¯å·®) 6.å†™åœ¨æœ€å(1)jsçš„å¼‚æ­¥æˆ‘ä»¬ä»æœ€å¼€å¤´å°±è¯´javascriptæ˜¯ä¸€é—¨å•çº¿ç¨‹è¯­è¨€ï¼Œä¸ç®¡æ˜¯ä»€ä¹ˆæ–°æ¡†æ¶æ–°è¯­æ³•ç³–å®ç°çš„æ‰€è°“å¼‚æ­¥ï¼Œå…¶å®éƒ½æ˜¯ç”¨åŒæ­¥çš„æ–¹æ³•å»æ¨¡æ‹Ÿçš„ï¼Œç‰¢ç‰¢æŠŠæ¡ä½å•çº¿ç¨‹è¿™ç‚¹éå¸¸é‡è¦ã€‚ (2)äº‹ä»¶å¾ªç¯Event Loopäº‹ä»¶å¾ªç¯æ˜¯jså®ç°å¼‚æ­¥çš„ä¸€ç§æ–¹æ³•ï¼Œä¹Ÿæ˜¯jsçš„æ‰§è¡Œæœºåˆ¶ã€‚ (3)javascriptçš„æ‰§è¡Œå’Œè¿è¡Œæ‰§è¡Œå’Œè¿è¡Œæœ‰å¾ˆå¤§çš„åŒºåˆ«ï¼Œjavascriptåœ¨ä¸åŒçš„ç¯å¢ƒä¸‹ï¼Œæ¯”å¦‚nodeï¼Œæµè§ˆå™¨ï¼ŒRingoç­‰ç­‰ï¼Œæ‰§è¡Œæ–¹å¼æ˜¯ä¸åŒçš„ã€‚è€Œè¿è¡Œå¤§å¤šæŒ‡javascriptè§£æå¼•æ“ï¼Œæ˜¯ç»Ÿä¸€çš„ã€‚ (4)setImmediateå¾®ä»»åŠ¡å’Œå®ä»»åŠ¡è¿˜æœ‰å¾ˆå¤šç§ç±»ï¼Œæ¯”å¦‚setImmediateç­‰ç­‰ï¼Œæ‰§è¡Œéƒ½æ˜¯æœ‰å…±åŒç‚¹çš„ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥è‡ªè¡Œäº†è§£ã€‚ (5)æœ€åçš„æœ€å javascriptæ˜¯ä¸€é—¨å•çº¿ç¨‹è¯­è¨€ Event Loopæ˜¯javascriptçš„æ‰§è¡Œæœºåˆ¶","tags":[]},{"title":"é¡¹ç›®å¸¸ç”¨JSæ–¹æ³•å°è£…","date":"2019-12-26T09:27:13.336Z","path":"2019/12/26/é¡¹ç›®å¸¸ç”¨JSæ–¹æ³•å°è£…/","text":"001.è¾“å…¥ä¸€ä¸ªå€¼,è¿”å›å…¶æ•°æ®ç±»å‹1234type &#x3D; para &#x3D;&gt; &#123; return Object.prototype.toString.call(para).slice(8,-1) &#125;qwe 002.å†’æ³¡æ’åºå‡åº bubbleAsSort() 12345678910111213bubbleAsSort &#x3D; arr &#x3D;&gt; &#123; for (let i &#x3D; 0; i &lt; arr.length - 1; i++) &#123; for (let j &#x3D; 0; j &lt; arr.length - 1 - i; j++) &#123; if (arr[j] &gt; arr[j + 1]) &#123; let temp &#x3D; arr[j + 1]; arr[j + 1] &#x3D; arr[j]; arr[j] &#x3D; temp; &#125; &#125; &#125; return arr;&#125;qwe é™åº bubbleDeSort() 12345678910111213bubbleDeSort &#x3D; arr &#x3D;&gt; &#123; for (let i &#x3D; 0; i &lt; arr.length - 1; i++) &#123; for (let j &#x3D; 0; j &lt; arr.length - 1 - i; j++) &#123; if (arr[j] &lt; arr[j + 1]) &#123; let temp &#x3D; arr[j + 1]; arr[j + 1] &#x3D; arr[j]; arr[j] &#x3D; temp; &#125; &#125; &#125; return arr;&#125;qwe 003.é€‰æ‹©æ’åºå‡åº selectAsSort() 12345678910111213141516selectAsSort &#x3D; arr &#x3D;&gt; &#123; let minIndex, temp; for (let i &#x3D; 0; i &lt; arr.length - 1; i++) &#123; minIndex &#x3D; i; for (let j &#x3D; i + 1; j &lt; arr.length; j++) &#123; if (arr[j] &lt; arr[minIndex]) &#123; minIndex &#x3D; j; &#125; &#125; temp &#x3D; arr[i]; arr[i] &#x3D; arr[minIndex]; arr[minIndex] &#x3D; temp; &#125; return arr;&#125;qwe é™åº selectDeSort() 12345678910111213141516selectDeSort &#x3D; arr &#x3D;&gt; &#123; let minIndex, temp; for (let i &#x3D; 0; i &lt; arr.length - 1; i++) &#123; minIndex &#x3D; i; for (let j &#x3D; i + 1; j &lt; arr.length; j++) &#123; if (arr[j] &gt; arr[minIndex]) &#123; minIndex &#x3D; j; &#125; &#125; temp &#x3D; arr[i]; arr[i] &#x3D; arr[minIndex]; arr[minIndex] &#x3D; temp; &#125; return arr;&#125;qwe 004.æ’å…¥æ’åºå‡åº insertAsSort() 1234567891011121314insertAsSort &#x3D; arr &#x3D;&gt; &#123; let current, preIndex; for (let i &#x3D; 1; i &lt; arr.length; i++) &#123; current &#x3D; arr[i]; preIndex &#x3D; i - 1; while (preIndex &gt;&#x3D; 0 &amp;&amp; arr[preIndex] &gt; current) &#123; arr[preIndex + 1] &#x3D; arr[preIndex]; preIndex--; &#125; arr[preIndex + 1] &#x3D; current; &#125; return arr;&#125;qwe é™åº insertDeSort() 1234567891011121314insertDeSort &#x3D; arr &#x3D;&gt; &#123; let current, preIndex; for (let i &#x3D; 1; i &lt; arr.length; i++) &#123; current &#x3D; arr[i]; preIndex &#x3D; i - 1; while (preIndex &gt;&#x3D; 0 &amp;&amp; arr[preIndex] &lt; current) &#123; arr[preIndex + 1] &#x3D; arr[preIndex]; preIndex--; &#125; arr[preIndex + 1] &#x3D; current; &#125; return arr;&#125;qwe 005.é˜¶ä¹˜12345678factorial &#x3D; num &#x3D;&gt; &#123; let count &#x3D; 1; for (let i &#x3D; 1; i &lt;&#x3D; num; i++) &#123; count *&#x3D; i; &#125; return count;&#125;qwe 006.ä¸¤ä¸ªæ•°ä¹‹é—´ç´¯ä¹˜12345678910111213141516multBetride &#x3D; (x, y) &#x3D;&gt; &#123; let count; if (x &lt; y) &#123; count &#x3D; x; for (let i &#x3D; x + 1; i &lt;&#x3D; y; i++) &#123; count *&#x3D; i; &#125; return count; &#125; else &#123; count &#x3D; y; for (let i &#x3D; y + 1; i &lt;&#x3D; x; i++) &#123; count *&#x3D; i; &#125; return count; &#125;&#125; 007.ç´¯åŠ ï¼ˆï¼‰é‡Œé¢å¯ä»¥æ”¾Nä¸ªå®å‚ 1234567function cumsum() &#123; let sum &#x3D; 0; for (let i &#x3D; 0; i &lt; arguments.length; i++) &#123; sum +&#x3D; arguments[i]; &#125; return sum;&#125; 008.è®¡æ—¶å™¨(è®¡ç®—ä»£ç å—(å‡½æ•°)æ‰§è¡Œæ—¶é—´)æ— å‚ computeTime(f) 1234567computeTime &#x3D; code &#x3D;&gt; &#123; let startTime &#x3D; new Date().getTime(); code(); let endTime &#x3D; new Date().getTime(); let time &#x3D; endTime - startTime; return time;&#125; æœ‰å‚ computeTime(f) ä½¿ç”¨æ–¹æ³•:computeTime(f,å‚æ•°1,å‚æ•°2â€¦â€¦) 1234567891011computeTime &#x3D; f &#x3D;&gt; &#123; let startTime &#x3D; new Date().getTime(); let p &#x3D; []; for (let i &#x3D; 1; i &lt; arguments.length; i++) &#123; p.push(arguments[i]) &#125; f.apply(null, p) let endTime &#x3D; new Date().getTime(); let Time &#x3D; endTime - startTime; return Time;&#125; 009.æ•°ç»„å»é‡12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152arrDemp1 &#x3D; arr &#x3D;&gt; &#123; let newArr &#x3D; []; let m &#x3D; &#123;&#125;; for (let i &#x3D; 0; i &lt; arr.length; i++) &#123; let n &#x3D; arr[i]; if (m[n]) &#123; &#125; else &#123; newArr.push(arr[i]); m[n] &#x3D; true; &#125; &#125; return newArr;&#125;&#x2F;&#x2F;éå†æ•°ç»„æ³•arrDemp2 &#x3D; arr &#x3D;&gt; &#123; let temp &#x3D; []; for (let i &#x3D; 0; i &lt; arr.length; i++) &#123; &#x2F;&#x2F;indexOf()æ–¹æ³•å¯è¿”å›æŸä¸ªæŒ‡å®šçš„å­—ç¬¦ä¸²æˆ–æ•°ç»„å€¼åœ¨å­—ç¬¦ä¸²æˆ–æ•°ç»„ä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®ï¼Œè‹¥ä¸åœ¨å…¶ä¸­åˆ™è¿”å›-1 if (temp.indexOf(arr[i]) &#x3D;&#x3D;&#x3D; -1) temp.push(arr[i]); &#125; return temp;&#125;&#x2F;&#x2F;æ’åºæ³•arrDemp3 &#x3D; arr &#x3D;&gt; &#123; let temp &#x3D; []; arr.sort(); temp.push(arr[0]); &#x2F;&#x2F;å› ä¸ºæ•°ç»„å·²ç»ç»è¿‡æ’åºï¼Œæ‰€ä»¥é‡å¤å…ƒç´ ä¸€å®šç›¸é‚»ï¼Œåˆ¤æ–­å½“å‰æ•°ç»„ç¬¬iä¸ªå…ƒç´ ä¸tempçš„æœ€åä¸€ä¸ªå…ƒç´ æ˜¯å¦ç›¸ç­‰ï¼Œä¸ç›¸ç­‰æ—¶æ‰å¤åˆ¶å…ƒç´  for (let i &#x3D; 1; i &lt; arr.length; i++) &#123; if (arr[i] !&#x3D; temp[temp.length - 1]) temp.push(arr[i]); &#125; return temp;&#125;&#x2F;&#x2F;å¯¹è±¡æ³•arrDemp4 &#x3D; arr &#x3D;&gt; &#123; let temp &#x3D; []; let json &#x3D; &#123;&#125;; &#x2F;&#x2F;å°†å½“å‰æ•°ç»„çš„å…ƒç´ å€¼å½“ä½œå¯¹è±¡çš„å±æ€§ï¼Œéå†æ•°ç»„ï¼Œæ¯”å¯¹å¯¹è±¡ï¼Œå¦‚æœå¯¹è±¡çš„è¿™ä¸ªå±æ€§ä¸å­˜åœ¨åˆ™å°†å½“å‰æ•°ç»„å…ƒç´ å¤åˆ¶åˆ°ä¸´æ—¶æ•°ç»„ï¼Œå¹¶æ·»åŠ è¯¥å±æ€§ä¸”å°†å±æ€§å€¼èµ‹å€¼ä¸º1 for (let i &#x3D; 0; i &lt; arr.length; i++) &#123; if (!json[arr[i]]) &#123;&#x2F;&#x2F;å¦‚æœå¯¹è±¡æ²¡æœ‰è¯¥å±æ€§ temp.push(arr[i]); json[arr[i]] &#x3D; 1;&#x2F;&#x2F;æ·»åŠ å±æ€§ï¼Œå°†å±æ€§å€¼èµ‹å€¼ä¸º1 &#125; &#125; return temp;&#125; ä¹Ÿå¯ä»¥ä½¿ç”¨ES6ä¸­çš„new Setï¼Œä¸€æ­¥åˆ°ä½ 1234let arr &#x3D; [1,2,3,5,4,5,4,3,6]let arrDemp &#x3D; new Set(arr) &#x2F;&#x2F;arrDempæ˜¯ä¸€ä¸ªå¯¹è±¡let newArr &#x3D; [...arrDemp] &#x2F;&#x2F;æŠŠarrDempè½¬åŒ–æˆæ•°ç»„console.log(newArr); 010.æ•°ç»„å¯¹è±¡å»é‡å°†å¯¹è±¡æ•°ç»„ä¸­å±æ€§ç›¸åŒçš„é¡¹å»é‡ 1234567891011121314151617181920212223242526272829303132333435&#x2F;** objArr å¯¹è±¡æ•°ç»„* para å°†è¦è¿›è¡Œå»é‡çš„å­—æ®µ(Stringç±»å‹)*&#x2F;æµ‹è¯•æ•°æ®ï¼šlet objArr &#x3D; [&#123; name: &#39;a&#39;, age: 1 &#125;, &#123; name: &#39;a&#39;, age: 2 &#125;, &#123; name: &#39;b&#39;, age: 2 &#125;]console.log(objArrDemp1(objArr,&#39;name&#39;)); &#x2F;&#x2F; [ &#123; name: &#39;a&#39;, age: 1 &#125;, &#123; name: &#39;b&#39;, age: 2 &#125; ]console.log(objArrDemp1(objArr,&#39;age&#39;)); &#x2F;&#x2F; [ &#123; name: &#39;a&#39;, age: 1 &#125;, &#123; name: &#39;a&#39;, age: 2 &#125; ]objArrDemp1 &#x3D; (objArr, para) &#x3D;&gt; &#123; let result &#x3D; []; let temp &#x3D; &#123;&#125;; for (let i &#x3D; 0; i &lt; objArr.length; i++) &#123; let parameter &#x3D; objArr[i][para]; if (temp[parameter]) &#123; continue;&#x2F;&#x2F;ä¸ç»§ç»­æ‰§è¡Œæ¥ä¸‹æ¥çš„ä»£ç ï¼Œè·³è½¬è‡³å¾ªç¯å¼€å¤´ &#125; temp[parameter] &#x3D; true;&#x2F;&#x2F;ä¸ºtempæ·»åŠ æ­¤å±æ€§ï¼ˆparameterï¼‰ä¸”å°†å…¶å€¼èµ‹ä¸ºtrue result.push(objArr[i]);&#x2F;&#x2F;å°†è¿™ä¸€é¡¹å¤åˆ¶åˆ°ç»“æœæ•°ç»„resultä¸­å» &#125; return result;&#125;objArrDemp2 &#x3D; (objArr, para) &#x3D;&gt; &#123; let hash &#x3D; &#123;&#125;; &#x2F;&#x2F;reduceæ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªcallbackï¼Œç”¨äºé’ˆå¯¹æ•°ç»„é¡¹çš„æ“ä½œï¼›ç¬¬äºŒä¸ªå‚æ•°åˆ™æ˜¯ä¼ å…¥çš„åˆå§‹å€¼ï¼Œè¿™ä¸ªåˆå§‹å€¼ç”¨äºå•ä¸ªæ•°ç»„é¡¹çš„æ“ä½œã€‚ objArr &#x3D; objArr.reduce(function (item, next) &#123;&#x2F;&#x2F;è¿™æ˜¯é’ˆå¯¹æ•°ç»„é¡¹æ“ä½œçš„å‡½æ•°ï¼Œå¯¹äºæ¯ä¸ªæ•°ç»„é¡¹ï¼Œreduceæ–¹æ³•éƒ½ä¼šå°†å…¶è°ƒç”¨ä¸€æ¬¡ hash[next[para]] ? &#39;&#39; : hash[next[para]] &#x3D; true &amp;&amp; item.push(next); return item; &#125;, []);&#x2F;&#x2F;åˆå§‹å€¼æ˜¯ä¸€ä¸ªç©ºå¯¹è±¡ï¼Œä½¿ç”¨reduceæ–¹æ³•è¿”å›çš„æ˜¯ç©ºå¯¹è±¡é€šè¿‡å åŠ æ‰§è¡Œä¹‹åçš„ç»“æœ return objArr;&#125; 011.ç»Ÿè®¡æ•°ç»„ä¸­å„ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°12345678910111213141516staArrNum &#x3D; arr &#x3D;&gt; &#123; let obj &#x3D; &#123;&#125;; for (let i &#x3D; 0; i &lt; arr.length; i++) &#123; let m &#x3D; arr[i]; if (obj.hasOwnProperty(m)) &#123; obj[m] +&#x3D; 1; &#125; else &#123; obj[m] &#x3D; 1; &#125; &#125; return obj;&#125;let arr &#x3D; [1, 2, 3, 6, 5, 3, 2, 1, 2, 3, 2, 1]console.log(staArrNum(arr)); &#x2F;&#x2F; &#123; &#39;1&#39;: 3, &#39;2&#39;: 4, &#39;3&#39;: 3, &#39;5&#39;: 1, &#39;6&#39;: 1 &#125; 012.åœ¨æ•°ç»„ä¸­æ‰¾æŒ‡å®šçš„å…ƒç´ ,è¿”å›ä¸‹æ ‡12345678910111213arrFinNum &#x3D; function (arr,num) &#123; let index &#x3D; -1; for (let i &#x3D; 0; i &lt; arr.length; i++) &#123; if (num &#x3D;&#x3D; arr[i]) &#123; index &#x3D; i; break; &#125; &#125; return index;&#125;let arr &#x3D; [1,2,3,4,5,6]console.log(arrFinNum(arr,4)); &#x2F;&#x2F; 3 013.åˆ é™¤æ•°ç»„ä¸­çš„å…ƒç´ 123456delArrNum &#x3D; (arr,val) &#x3D;&gt; &#123; let index &#x3D; arrFinNum(arr, val) &#x2F;&#x2F;è°ƒç”¨äº†å‰é¢è‡ªè¡Œæ·»åŠ çš„arrFinNumæ–¹æ³• if (index !&#x3D; -1) &#123; return arr.splice(index, 1); &#125;&#125; ç¤ºä¾‹ 123456789101112131415161718192021let arr &#x3D; [1, 2, 3, 4, 5, 6]arrFinNum &#x3D; (arr, num) &#x3D;&gt; &#123; let index &#x3D; -1; for (let i &#x3D; 0; i &lt; arr.length; i++) &#123; if (num &#x3D;&#x3D; arr[i]) &#123; index &#x3D; i; break; &#125; &#125; return index;&#125;delArrNum &#x3D; (arr,val) &#x3D;&gt; &#123; let index &#x3D; arrFinNum(arr, val) &#x2F;&#x2F;è°ƒç”¨äº†å‰é¢è‡ªè¡Œæ·»åŠ çš„arrFinNumæ–¹æ³• if (index !&#x3D; -1) &#123; return arr.splice(index, 1); &#125;&#125;console.log(delArrNum(arr,2)); &#x2F;&#x2F; [ 2 ] 014.æ•°å­—è¶…è¿‡9æ˜¾ç¤ºçœç•¥å·12345678num_filter &#x3D; val &#x3D;&gt;&#123; val &#x3D; val?val-0:0; if (val &gt; 9 ) &#123; return &quot;â€¦&quot; &#125;else&#123; return val; &#125;&#125; 015.æ•°å­—è¶…è¿‡99æ˜¾ç¤º99+12345678ninenum_filter &#x3D; val &#x3D;&gt;&#123; val &#x3D; val?val-0:0; if (val &gt; 99 ) &#123; return &quot;99+&quot; &#125;else&#123; return val; &#125;&#125; 016.é“¶è¡Œå¡å·åˆ†å‰²12345bank_filter &#x3D; val &#x3D;&gt;&#123; val +&#x3D; &#39;&#39;; val &#x3D; val.replace(&#x2F;(\\s)&#x2F;g,&#39;&#39;).replace(&#x2F;(\\d&#123;4&#125;)&#x2F;g,&#39;$1 &#39;).replace(&#x2F;\\s*$&#x2F;,&#39;&#39;); return val;&#125; 017.äºŒåˆ†æŸ¥æ‰¾1234567891011121314151617181920212223242526272829303132333435363738&#x2F;&#x2F;éé€’å½’å®ç°binarySearch &#x3D; (arr, key) &#x3D;&gt; &#123; let high &#x3D; arr.length - 1, low &#x3D; 0; while (low &lt;&#x3D; high) &#123; let m &#x3D; Math.floor((high + low) &#x2F; 2); if (arr[m] &#x3D;&#x3D; key) &#123; return m; &#125; if (key &gt; arr[m]) &#123; low &#x3D; m + 1; &#125; else &#123; high &#x3D; m - 1; &#125; &#125; return false;&#125;let arr &#x3D; [-1, 1, 3, 4, 5, 8, 32, 234, 12, 42];console.log(binarySearch(arr, 4));&#x2F;&#x2F;é€’å½’å®ç°binarySearch &#x3D; (arr, low, high, key) &#x3D;&gt; &#123; if (low &gt; high) &#123; return -1; &#125; let mid &#x3D; parseInt((high + low) &#x2F; 2); if (arr[mid] &#x3D;&#x3D; key) &#123; return mid; &#125; else if (arr[mid] &gt; key) &#123; high &#x3D; mid - 1; return binarySearch(arr, low, high, key); &#125; else if (arr[mid] &lt; key) &#123; low &#x3D; mid + 1; return binarySearch(arr, low, high, key); &#125;&#125;;let arr &#x3D; [-1, 1, 3, 4, 5, 8, 32, 234, 12, 42];console.log(binarySearch(arr, 0, 13, 5)); 018.é˜²æŠ–ä¸èŠ‚æµ123456789101112131415161718192021222324252627282930313233343536373839&#x2F;** * å‡½æ•°é˜²æŠ– (åªæ‰§è¡Œæœ€åä¸€æ¬¡ç‚¹å‡») *&#x2F;Debounce &#x3D; (fn, t) &#x3D;&gt; &#123; let delay &#x3D; t || 500; let timer; return function () &#123; let args &#x3D; arguments; if(timer)&#123; clearTimeout(timer); &#125; timer &#x3D; setTimeout(() &#x3D;&gt; &#123; timer &#x3D; null; fn.apply(this, args); &#125;, delay); &#125;&#125;;&#x2F;* * å‡½æ•°èŠ‚æµ *&#x2F;Throttle &#x3D; (fn, t) &#x3D;&gt; &#123; let last; let timer; let interval &#x3D; t || 500; return function () &#123; let args &#x3D; arguments; let now &#x3D; +new Date(); if (last &amp;&amp; now - last &lt; interval) &#123; clearTimeout(timer); timer &#x3D; setTimeout(() &#x3D;&gt; &#123; last &#x3D; now; fn.apply(this, args); &#125;, interval); &#125; else &#123; last &#x3D; now; fn.apply(this, args); &#125; &#125;&#125;; 019.æ·±æ‹·è´1234567891011121314151617181920212223242526272829deepClone &#x3D; source &#x3D;&gt; &#123; const targetObj &#x3D; source.constructor &#x3D;&#x3D;&#x3D; Array ? [] : &#123;&#125;; &#x2F;&#x2F; åˆ¤æ–­å¤åˆ¶çš„ç›®æ ‡æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡ for (let keys in source) &#123; &#x2F;&#x2F; éå†ç›®æ ‡ if (source.hasOwnProperty(keys)) &#123; if (source[keys] &amp;&amp; typeof source[keys] &#x3D;&#x3D;&#x3D; &#39;object&#39;) &#123; &#x2F;&#x2F; å¦‚æœå€¼æ˜¯å¯¹è±¡ï¼Œå°±é€’å½’ä¸€ä¸‹ targetObj[keys] &#x3D; source[keys].constructor &#x3D;&#x3D;&#x3D; Array ? [] : &#123;&#125;; targetObj[keys] &#x3D; deepClone(source[keys]); &#125; else &#123; &#x2F;&#x2F; å¦‚æœä¸æ˜¯ï¼Œå°±ç›´æ¥èµ‹å€¼ targetObj[keys] &#x3D; source[keys]; &#125; &#125; &#125; return targetObj;&#125;let str1 &#x3D; &#123; arr: [1, 2, 3], obj: &#123; key: &#39;value&#39; &#125;, fn: function () &#123; return 1; &#125;&#125;;let str3 &#x3D; deepClone(str1);console.log(str3 &#x3D;&#x3D;&#x3D; str1); &#x2F;&#x2F; falseconsole.log(str3.obj &#x3D;&#x3D;&#x3D; str1.obj); &#x2F;&#x2F; falseconsole.log(str3.fn &#x3D;&#x3D;&#x3D; str1.fn); &#x2F;&#x2F; true 020.è·å–è§†å£å°ºå¯¸éœ€è¦åœ¨HTMLæ–‡ä»¶ä¸­è¿è¡Œ 1234567891011121314151617181920212223function getViewportOffset() &#123; if (window.innerWidth) &#123; return &#123; w: window.innerWidth, h: window.innerHeight &#125; &#125; else &#123; &#x2F;&#x2F; ie8åŠå…¶ä»¥ä¸‹ if (document.compatMode &#x3D;&#x3D;&#x3D; &quot;BackCompat&quot;) &#123; &#x2F;&#x2F; æ€ªå¼‚æ¨¡å¼ return &#123; w: document.body.clientWidth, h: document.body.clientHeight &#125; &#125; else &#123; &#x2F;&#x2F; æ ‡å‡†æ¨¡å¼ return &#123; w: document.documentElement.clientWidth, h: document.documentElement.clientHeight &#125; &#125; &#125;&#125; 021.æ•°å­—å‰è¡¥é›¶1234567891011121314151617181920212223242526272829303132333435363738394041424344&#x2F;*** numä¸ºä½ æƒ³è¦è¿›è¡Œå¡«å……çš„æ•°å­—* lengthä¸ºä½ æƒ³è¦çš„æ•°å­—é•¿åº¦*&#x2F;&#x2F;&#x2F;è¿­ä»£æ–¹å¼å®ç°padding1&#x3D;(num, length)&#x3D;&gt; &#123; for(let len &#x3D; (num + &quot;&quot;).length; len &lt; length; len &#x3D; num.length) &#123; num &#x3D; &quot;0&quot; + num; &#125; return num;&#125;&#x2F;&#x2F;é€’å½’æ–¹å¼å®ç°padding2&#x3D;(num, length) &#x3D;&gt;&#123; if((num + &quot;&quot;).length &gt;&#x3D; length) &#123; return num; &#125; return padding2(&quot;0&quot; + num, length)&#125;&#x2F;&#x2F;è½¬ä¸ºå°æ•°padding3&#x3D;(num, length)&#x3D;&gt; &#123; let decimal &#x3D; num &#x2F; Math.pow(10, length); &#x2F;&#x2F;toFixedæŒ‡å®šä¿ç•™å‡ ä½å°æ•° decimal &#x3D; decimal.toFixed(length) + &quot;&quot;; return decimal.substr(decimal.indexOf(&quot;.&quot;)+1);&#125;&#x2F;&#x2F;å¡«å……æˆªå–æ³•padding4&#x3D;(num, length)&#x3D;&gt; &#123; &#x2F;&#x2F;è¿™é‡Œç”¨sliceå’Œsubstrå‡å¯ return (Array(length).join(&quot;0&quot;) + num).slice(-length);&#125;&#x2F;&#x2F;å¡«å……æˆªå–æ³•padding5&#x3D;(num, length)&#x3D;&gt; &#123; let len &#x3D; (num + &quot;&quot;).length; let diff &#x3D; length+1 - len; if(diff &gt; 0) &#123; return Array(diff).join(&quot;0&quot;) + num; &#125; return num;&#125; 022.å­—ç¬¦æ›¿æ¢å¯ä»¥æ›¿æ¢ä»»æ„æ•°å­—å’Œç¬¦å· 12345678910111213&#x2F;*** str è¡¨ç¤ºå°†è¦æ›¿æ¢çš„å­—ç¬¦ä¸²* l è¡¨ç¤ºä½ å°†è¦æ›¿æ¢çš„å­—ç¬¦* r è¡¨ç¤ºä½ æƒ³è¦æ›¿æ¢çš„å­—ç¬¦*&#x2F;transFormat &#x3D; (str, l, r) &#x3D;&gt; &#123; let reg &#x3D; new RegExp(l, &#39;g&#39;) &#x2F;&#x2F; gè¡¨ç¤ºå…¨éƒ¨æ›¿æ¢ï¼Œé»˜è®¤æ›¿æ¢ç¬¬ä¸€ä¸ª str &#x3D; str.replace(reg, r) return str&#125;console.log(transFormat(&#39;2019-12-13&#39;, &#39;-&#39;, &#39;&#x2F;&#39;)); &#x2F;&#x2F; 2019&#x2F;12&#x2F;13console.log(transFormat(&#39;2019-12-13&#39;, &#39;-&#39;, &#39;&#39;)); &#x2F;&#x2F; 20191213 023.åœ¨å­—ç¬¦ä¸²æŒ‡å®šä½ç½®æ’å…¥å­—ç¬¦1234567891011&#x2F;*** character åŸå­—ç¬¦ä¸²ï¼ˆStringï¼‰* site è¦æ’å…¥çš„å­—ç¬¦çš„ä½ç½® ï¼ˆNumberï¼‰* newStr æƒ³è¦æ’å…¥çš„å­—ç¬¦ ï¼ˆStringï¼‰*&#x2F;insertStr &#x3D; (character, site, newStr) &#x3D;&gt; &#123; return character.slice(0, site) + newStr + character.slice(site);&#125;console.log(insertStr(&#39;20191217&#39;,4,&#39;-&#39;)); &#x2F;&#x2F; 2019-1217 024.å­—ç¬¦ä¸²åè½¬å¤„ç†åˆ†å‰²123456789101112&#x2F;*** str æ˜¯ä½ å°†è¦è¿›è¡Œå¤„ç†çš„å­—ç¬¦ä¸²(String)* under æ˜¯ä½ æ ¹æ®ä»€ä¹ˆå­—ç¬¦å¤„ç†(String)* event æ˜¯ä½ æ ¹æ®ä»€ä¹ˆå­—ç¬¦æŠŠå¤„ç†ç»“æœåˆ†å‰²(String)*&#x2F;keyCharacterMap &#x3D; (str,under,event) &#x3D;&gt; &#123; return str.split(under).reverse().join(event)&#125;console.log(keyCharacterMap(&#39;hello world&#39;,&#39;&#39;,&#39;&#39;)); &#x2F;&#x2F; dlrow ollehconsole.log(keyCharacterMap(&#39;hello world&#39;,&#39; &#39;,&#39;-&#39;)); &#x2F;&#x2F; world-hello 025.æ ¼å¼è½¬æ¢ï¼šbase64è½¬file1234567891011121314151617&#x2F;*** base64 base64* filename è½¬æ¢åçš„æ–‡ä»¶å*&#x2F;base64ToFile &#x3D; (base64, filename) &#x3D;&gt; &#123; let arr &#x3D; base64.split(&quot;,&quot;), mime &#x3D; arr[0].match(&#x2F;:(.*?);&#x2F;)[1], bstr &#x3D; atob(arr[1]), n &#x3D; bstr.length, u8arr &#x3D; new Uint8Array(n); while (n--) &#123; u8arr[n] &#x3D; bstr.charCodeAt(n); &#125; return new File([u8arr], filename, &#123; type: mime &#125;);&#125; 026.æ ¼å¼è½¬æ¢ï¼šbase64è½¬blob1234567891011base64ToBlob &#x3D; base64 &#x3D;&gt; &#123; let arr &#x3D; base64.split(&#39;,&#39;), mime &#x3D; arr[0].match(&#x2F;:(.*?);&#x2F;)[1], bstr &#x3D; atob(arr[1]), n &#x3D; bstr.length, u8arr &#x3D; new Uint8Array(n); while (n--) &#123; u8arr[n] &#x3D; bstr.charCodeAt(n); &#125; return new Blob([u8arr], &#123; type: mime &#125;);&#125;; 027.æ ¼å¼è½¬æ¢ï¼šblobè½¬file12345blobToFile &#x3D; (blob, fileName) &#x3D;&gt; &#123; blob.lastModifiedDate &#x3D; new Date(); blob.name &#x3D; fileName; return blob;&#125;;","tags":[]},{"title":"cssåŸºç¡€","date":"2019-12-26T09:18:59.966Z","path":"2019/12/26/cssåŸºç¡€/","text":"ä¸€ã€CSSç›’æ¨¡å‹ CSSç›’æ¨¡å‹æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç›’å­ï¼Œå°è£…å‘¨å›´çš„HTMLå…ƒç´ ï¼Œå®ƒåŒ…æ‹¬ï¼šè¾¹è·marginï¼Œè¾¹æ¡†borderï¼Œå¡«å……paddingï¼Œå’Œå®é™…å†…å®¹contentã€‚ç›’æ¨¡å‹å…è®¸æˆ‘ä»¬åœ¨å…¶å®ƒå…ƒç´ å’Œå‘¨å›´å…ƒç´ è¾¹æ¡†ä¹‹é—´çš„ç©ºé—´æ”¾ç½®å…ƒç´ ã€‚ box-sizing: content-boxï¼ˆW3Cç›’æ¨¡å‹ï¼Œåˆåæ ‡å‡†ç›’æ¨¡å‹ï¼‰ï¼šå…ƒç´ çš„å®½é«˜å¤§å°è¡¨ç°ä¸ºå†…å®¹çš„å¤§å°ã€‚ box-sizing: border-boxï¼ˆIEç›’æ¨¡å‹ï¼Œåˆåæ€ªå¼‚ç›’æ¨¡å‹ï¼‰ï¼šå…ƒç´ çš„å®½é«˜è¡¨ç°ä¸ºå†…å®¹ + å†…è¾¹è· + è¾¹æ¡†çš„å¤§å°ã€‚èƒŒæ™¯ä¼šå»¶ä¼¸åˆ°è¾¹æ¡†çš„å¤–æ²¿ã€‚ CSS3çš„æ–°ç‰¹æ€§ word-wrap æ–‡å­—æ¢è¡Œ text-overflow è¶…è¿‡æŒ‡å®šå®¹å™¨çš„è¾¹ç•Œæ—¶å¦‚ä½•æ˜¾ç¤º text-decoration æ–‡å­—æ¸²æŸ“ text-shadowæ–‡å­—é˜´å½± gradientæ¸å˜æ•ˆæœ transitionè¿‡æ¸¡æ•ˆæœ transition-durationï¼šè¿‡æ¸¡çš„æŒç»­æ—¶é—´ transformæ‹‰ä¼¸ï¼Œå‹ç¼©ï¼Œæ—‹è½¬ï¼Œåç§»ç­‰å˜æ¢ animationåŠ¨ç”» transitionå’Œanimationçš„åŒºåˆ«ï¼š Animationå’Œtransitionå¤§éƒ¨åˆ†å±æ€§æ˜¯ç›¸åŒçš„ï¼Œä»–ä»¬éƒ½æ˜¯éšæ—¶é—´æ”¹å˜å…ƒç´ çš„å±æ€§å€¼ï¼Œä»–ä»¬çš„ä¸»è¦åŒºåˆ«æ˜¯transitionéœ€è¦è§¦å‘ä¸€ä¸ªäº‹ä»¶æ‰èƒ½æ”¹å˜å±æ€§ï¼Œè€Œanimationä¸éœ€è¦è§¦å‘ä»»ä½•äº‹ä»¶çš„æƒ…å†µä¸‹æ‰ä¼šéšæ—¶é—´æ”¹å˜å±æ€§å€¼ï¼Œå¹¶ä¸”transitionä¸º2å¸§ï¼Œä»from â€¦. toï¼Œè€Œanimationå¯ä»¥ä¸€å¸§ä¸€å¸§çš„ã€‚ CSSé€‰æ‹©å™¨åŠå…¶ä¼˜å…ˆçº§ !important å†…è”æ ·å¼style=â€â€ IDé€‰æ‹©å™¨#id ç±»é€‰æ‹©å™¨/å±æ€§é€‰æ‹©å™¨/ä¼ªç±»é€‰æ‹©å™¨.class.active[href=â€â€] å…ƒç´ é€‰æ‹©å™¨/å…³ç³»é€‰æ‹©å™¨/ä¼ªå…ƒç´ é€‰æ‹©å™¨html+div&gt;span::after é€šé…ç¬¦é€‰æ‹©å™¨* BFCBFCï¼ˆBlock Formatting Contextï¼‰æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼Œæ˜¯Webé¡µé¢ä¸­ç›’æ¨¡å‹å¸ƒå±€çš„CSSæ¸²æŸ“æ¨¡å¼ï¼ŒæŒ‡ä¸€ä¸ªç‹¬ç«‹çš„æ¸²æŸ“åŒºåŸŸæˆ–è€…è¯´æ˜¯ä¸€ä¸ªéš”ç¦»çš„ç‹¬ç«‹å®¹å™¨ã€‚ BFCåº”ç”¨ é˜²æ­¢marginé‡å  æ¸…é™¤å†…éƒ¨æµ®åŠ¨ è‡ªé€‚åº”ä¸¤ï¼ˆå¤šï¼‰æ å¸ƒå±€ é˜²æ­¢å­—ä½“ç¯ç»• è§¦å‘BFCæ¡ä»¶ æ ¹å…ƒç´  floatçš„å€¼ä¸ä¸ºnone overflowçš„å€¼ä¸ä¸ºvisible displayçš„å€¼ä¸ºinline-blockã€table-cellã€table-caption positionçš„å€¼ä¸ºabsoluteã€fixed BFCçš„ç‰¹æ€§ å†…éƒ¨çš„Boxä¼šåœ¨å‚ç›´æ–¹å‘ä¸Šä¸€ä¸ªæ¥ä¸€ä¸ªçš„æ”¾ç½®ã€‚ å‚ç›´æ–¹å‘ä¸Šçš„è·ç¦»ç”±marginå†³å®š bfcçš„åŒºåŸŸä¸ä¼šä¸floatçš„å…ƒç´ åŒºåŸŸé‡å ã€‚ è®¡ç®—bfcçš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®— bfcå°±æ˜¯é¡µé¢ä¸Šçš„ä¸€ä¸ªç‹¬ç«‹å®¹å™¨ï¼Œå®¹å™¨é‡Œé¢çš„å­å…ƒç´ ä¸ä¼šå½±å“å¤–é¢å…ƒç´ ã€‚ divæ°´å¹³å±…ä¸­ è¡Œå†…å…ƒç´  1234.parent &#123; text-align: center;&#125;å¤åˆ¶ä»£ç  å—çº§å…ƒç´  1234.son &#123; margin: 0 auto;&#125;å¤åˆ¶ä»£ç  flexå¸ƒå±€ 12345.parent &#123; display: flex; justify-content: center;&#125;å¤åˆ¶ä»£ç  ç»å¯¹å®šä½å®šå®½ 1234567.son &#123; position: absolute; width: å®½åº¦; left: 50%; margin-left: -0.5*å®½åº¦&#125;å¤åˆ¶ä»£ç  ç»å¯¹å®šä½ä¸å®šå®½ 123456.son &#123; position: absolute; left: 50%; transform: translate(-50%, 0);&#125;å¤åˆ¶ä»£ç  left/right: 0 12345678.son &#123; position: absolute; width: å®½åº¦; left: 0; right: 0; margin: 0 auto;&#125;å¤åˆ¶ä»£ç  divå‚ç›´å±…ä¸­ è¡Œå†…å…ƒç´  1234567.parent &#123; height: é«˜åº¦;&#125;.son &#123; line-height: é«˜åº¦;&#125;å¤åˆ¶ä»£ç  table 12345678.parent &#123; display: table;&#125;.son &#123; display: table-cell; vertical-align: middle;&#125;å¤åˆ¶ä»£ç  flex 12345.parent &#123; display: flex; align-items: center;&#125;å¤åˆ¶ä»£ç  ç»å¯¹å®šä½å®šé«˜ 1234567.son &#123; position: absolute; top: 50%; height: é«˜åº¦; margin-top: -0.5é«˜åº¦;&#125;å¤åˆ¶ä»£ç  ç»å¯¹å®šä½ä¸å®šé«˜ 123456.son &#123; position: absolute; top: 50%; transform: translate( 0, -50%);&#125;å¤åˆ¶ä»£ç  top/bottom: 0; 12345678.son &#123; position: absolute; height: é«˜åº¦; top: 0; bottom: 0; margin: auto 0;&#125;å¤åˆ¶ä»£ç  ç»å¯¹å®šä½å’Œç›¸å¯¹å®šä½ absolute ç»å¯¹å®šä½ ç›¸å¯¹äºæœ€è¿‘çš„å·²å®šä½çš„ç¥–å…ˆå…ƒç´ , æœ‰å·²å®šä½(æŒ‡positionä¸æ˜¯staticçš„å…ƒç´ )ç¥–å…ˆå…ƒç´ , ä»¥æœ€è¿‘çš„ç¥–å…ˆå…ƒç´ ä¸ºå‚è€ƒæ ‡å‡†ã€‚å¦‚æœæ— å·²å®šä½ç¥–å…ˆå…ƒç´ , ä»¥bodyå…ƒç´ ä¸ºåç§»å‚ç…§åŸºå‡†, å®Œå…¨è„±ç¦»äº†æ ‡å‡†æ–‡æ¡£æµã€‚ fixed å›ºå®šå®šä½çš„å…ƒç´ ä¼šç›¸å¯¹äºè§†çª—æ¥å®šä½,è¿™æ„å‘³ç€å³ä¾¿é¡µé¢æ»šåŠ¨ï¼Œå®ƒè¿˜æ˜¯ä¼šåœç•™åœ¨ç›¸åŒçš„ä½ç½®ã€‚ä¸€ä¸ªå›ºå®šå®šä½å…ƒç´ ä¸ä¼šä¿ç•™å®ƒåŸæœ¬åœ¨é¡µé¢åº”æœ‰çš„ç©ºéš™ã€‚ å…±åŒç‚¹ï¼šæ”¹å˜è¡Œå†…å…ƒç´ çš„å‘ˆç°æ–¹å¼ï¼Œéƒ½è„±ç¦»äº†æ–‡æ¡£æµï¼›ä¸åŒç‚¹ï¼šabsoluteçš„â€æ ¹å…ƒç´ â€œæ˜¯å¯ä»¥è®¾ç½®çš„ï¼Œfixedçš„â€œæ ¹å…ƒç´ â€å›ºå®šä¸ºæµè§ˆå™¨çª—å£ flexå¸ƒå±€é‡‡ç”¨ Flex å¸ƒå±€çš„å…ƒç´ ï¼Œç§°ä¸º Flex å®¹å™¨ï¼ˆflex containerï¼‰ï¼Œç®€ç§°â€å®¹å™¨â€ã€‚å®ƒçš„æ‰€æœ‰å­å…ƒç´ è‡ªåŠ¨æˆä¸ºå®¹å™¨æˆå‘˜ï¼Œç§°ä¸º Flex é¡¹ç›®ï¼ˆflex itemï¼‰ï¼Œç®€ç§°â€œé¡¹ç›®â€ã€‚ ![flex.jpeg](data:image/svg+xml;utf8,) çˆ¶å…ƒç´ å±æ€§ å±æ€§å å±æ€§å€¼ å¤‡æ³¨ display flex å®šä¹‰äº†ä¸€ä¸ªflexå®¹å™¨ï¼Œå®ƒçš„ç›´æ¥å­å…ƒç´ ä¼šæ¥å—è¿™ä¸ªflexç¯å¢ƒ flex-direction row,row-reverse,column,column-reverse å†³å®šä¸»è½´çš„æ–¹å‘ flex-wrap nowrap,wrap,wrap-reverse å¦‚æœä¸€æ¡è½´çº¿æ’ä¸ä¸‹ï¼Œå¦‚ä½•æ¢è¡Œ flex-flow [flex-direction] , [flex-wrap] æ˜¯flex-directionå±æ€§å’Œflex-wrapå±æ€§çš„ç®€å†™å½¢å¼ï¼Œé»˜è®¤å€¼ä¸ºrow nowrap justify-content flex-start,flex-end,center,space-between,space-around è®¾ç½®æˆ–æ£€ç´¢å¼¹æ€§ç›’å­å…ƒç´ åœ¨ä¸»è½´ï¼ˆæ¨ªè½´ï¼‰æ–¹å‘ä¸Šçš„å¯¹é½æ–¹å¼ align-items flex-start,flex-end,center,baseline,stretch è®¾ç½®æˆ–æ£€ç´¢å¼¹æ€§ç›’å­å…ƒç´ åœ¨ä¾§è½´ï¼ˆçºµè½´ï¼‰æ–¹å‘ä¸Šçš„å¯¹é½æ–¹å¼ å­å…ƒç´ å±æ€§ å±æ€§å å±æ€§å€¼ å¤‡æ³¨ order [int] é»˜è®¤æƒ…å†µä¸‹flex orderä¼šæŒ‰ç…§ä¹¦å†™é¡ºè®­å‘ˆç°ï¼Œå¯ä»¥é€šè¿‡orderå±æ€§æ”¹å˜ï¼Œæ•°å€¼å°çš„åœ¨å‰é¢ï¼Œè¿˜å¯ä»¥æ˜¯è´Ÿæ•°ã€‚ flex-grow [number] è®¾ç½®æˆ–æ£€ç´¢å¼¹æ€§ç›’çš„æ‰©å±•æ¯”ç‡,æ ¹æ®å¼¹æ€§ç›’å­å…ƒç´ æ‰€è®¾ç½®çš„æ‰©å±•å› å­ä½œä¸ºæ¯”ç‡æ¥åˆ†é…å‰©ä½™ç©ºé—´ flex-shrink [number] è®¾ç½®æˆ–æ£€ç´¢å¼¹æ€§ç›’çš„æ”¶ç¼©æ¯”ç‡,æ ¹æ®å¼¹æ€§ç›’å­å…ƒç´ æ‰€è®¾ç½®çš„æ”¶ç¼©å› å­ä½œä¸ºæ¯”ç‡æ¥æ”¶ç¼©ç©ºé—´ flex-basis [length], auto è®¾ç½®æˆ–æ£€ç´¢å¼¹æ€§ç›’ä¼¸ç¼©åŸºå‡†å€¼ align-self auto,flex-start,flex-end,center,baseline,stretch è®¾ç½®æˆ–æ£€ç´¢å¼¹æ€§ç›’å­å…ƒç´ åœ¨ä¾§è½´ï¼ˆçºµè½´ï¼‰æ–¹å‘ä¸Šçš„å¯¹é½æ–¹å¼ï¼Œå¯ä»¥è¦†ç›–çˆ¶å®¹å™¨align-itemsçš„è®¾ç½® è®©å…ƒç´ æ¶ˆå¤±visibility:hiddenã€display:noneã€z-index=-1ã€opacityï¼š0 opacityï¼š0,è¯¥å…ƒç´ éšè—èµ·æ¥äº†ï¼Œä½†ä¸ä¼šæ”¹å˜é¡µé¢å¸ƒå±€ï¼Œå¹¶ä¸”ï¼Œå¦‚æœè¯¥å…ƒç´ å·²ç»ç»‘å®šäº†ä¸€äº›äº‹ä»¶ï¼Œå¦‚clickäº‹ä»¶ä¹Ÿèƒ½è§¦å‘ visibility:hidden,è¯¥å…ƒç´ éšè—èµ·æ¥äº†ï¼Œä½†ä¸ä¼šæ”¹å˜é¡µé¢å¸ƒå±€ï¼Œä½†æ˜¯ä¸ä¼šè§¦å‘è¯¥å…ƒç´ å·²ç»ç»‘å®šçš„äº‹ä»¶ display:none, æŠŠå…ƒç´ éšè—èµ·æ¥ï¼Œå¹¶ä¸”ä¼šæ”¹å˜é¡µé¢å¸ƒå±€ï¼Œå¯ä»¥ç†è§£æˆåœ¨é¡µé¢ä¸­æŠŠè¯¥å…ƒç´ åˆ æ‰ z-index=-1ç½®äºå…¶ä»–å…ƒç´ ä¸‹é¢ æ¸…é™¤æµ®åŠ¨ åœ¨æµ®åŠ¨å…ƒç´ åé¢æ·»åŠ  clear:both çš„ç©º div å…ƒç´ ï¼Œ 123456&lt;div class&#x3D;&quot;container&quot;&gt; &lt;div class&#x3D;&quot;left&quot;&gt;&lt;&#x2F;div&gt; &lt;div class&#x3D;&quot;right&quot;&gt;&lt;&#x2F;div&gt; &lt;div style&#x3D;&quot;clear:both&quot;&gt;&lt;&#x2F;div&gt;&lt;&#x2F;div&gt;å¤åˆ¶ä»£ç  ç»™çˆ¶å…ƒç´ æ·»åŠ  overflow:hidden æˆ–è€… auto æ ·å¼ï¼Œè§¦å‘BFCã€‚ 123456789101112&lt;div class&#x3D;&quot;container&quot;&gt; &lt;div class&#x3D;&quot;left&quot;&gt;&lt;&#x2F;div&gt; &lt;div class&#x3D;&quot;right&quot;&gt;&lt;&#x2F;div&gt;&lt;&#x2F;div&gt;å¤åˆ¶ä»£ç .container&#123; width: 300px; background-color: #aaa; overflow:hidden; zoom:1; &#x2F;*IE6*&#x2F;&#125;å¤åˆ¶ä»£ç  ä½¿ç”¨ä¼ªå…ƒç´ ï¼Œä¹Ÿæ˜¯åœ¨å…ƒç´ æœ«å°¾æ·»åŠ ä¸€ä¸ªç‚¹å¹¶å¸¦æœ‰ clear: both å±æ€§çš„å…ƒç´ å®ç°çš„ã€‚ 12345678910111213141516&lt;div class&#x3D;&quot;container clearfix&quot;&gt; &lt;div class&#x3D;&quot;left&quot;&gt;&lt;&#x2F;div&gt; &lt;div class&#x3D;&quot;right&quot;&gt;&lt;&#x2F;div&gt;&lt;&#x2F;div&gt;å¤åˆ¶ä»£ç .clearfix&#123; zoom: 1; &#x2F;*IE6*&#x2F;&#125;.clearfix:after&#123; content: &quot;.&quot;; height: 0; clear: both; display: block; visibility: hidden;&#125;å¤åˆ¶ä»£ç  æ¨èä½¿ç”¨ç¬¬ä¸‰ç§æ–¹æ³•ï¼Œä¸ä¼šåœ¨é¡µé¢æ–°å¢divï¼Œæ–‡æ¡£ç»“æ„æ›´åŠ æ¸…æ™°ã€‚ calcå‡½æ•°calcå‡½æ•°æ˜¯css3æ–°å¢çš„åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨calc()è®¡ç®—borderã€marginã€padingã€font-sizeå’Œwidthç­‰å±æ€§è®¾ç½®åŠ¨æ€å€¼ã€‚ 12345678910#div1 &#123; position: absolute; left: 50px; width: calc( 100% &#x2F; (100px * 2) ); &#x2F;&#x2F;å…¼å®¹å†™æ³• width: -moz-calc( 100% &#x2F; (100px * 2) ); width: -webkit-calc( 100% &#x2F; (100px * 2) ); border: 1px solid black;&#125;å¤åˆ¶ä»£ç  æ³¨æ„ç‚¹ï¼š éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿ç®—ç¬¦å‰åéƒ½éœ€è¦ä¿ç•™ä¸€ä¸ªç©ºæ ¼ï¼Œä¾‹å¦‚ï¼šwidth: calc(100% - 10px); calc()å‡½æ•°æ”¯æŒ â€œ+â€, â€œ-â€œ, â€œ*â€, â€œ/â€œ è¿ç®—; å¯¹äºä¸æ”¯æŒ calc() çš„æµè§ˆå™¨ï¼Œæ•´ä¸ªå±æ€§å€¼è¡¨è¾¾å¼å°†è¢«å¿½ç•¥ã€‚ä¸è¿‡æˆ‘ä»¬å¯ä»¥å¯¹é‚£äº›ä¸æ”¯æŒ calc()çš„æµè§ˆå™¨ï¼Œä½¿ç”¨ä¸€ä¸ªå›ºå®šå€¼ä½œä¸ºå›é€€ã€‚ ç§»åŠ¨ç«¯remremå®˜æ–¹å®šä¹‰ã€The font size of the root elementã€ï¼Œå³æ ¹å…ƒç´ çš„å­—ä½“å¤§å°ã€‚remæ˜¯ä¸€ä¸ªç›¸å¯¹çš„CSSå•ä½ï¼Œ1remç­‰äºhtmlå…ƒç´ ä¸Šfont-sizeçš„å¤§å°ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åªè¦è®¾ç½®htmlä¸Šfont-sizeçš„å¤§å°ï¼Œå°±å¯ä»¥æ”¹å˜1remæ‰€ä»£è¡¨çš„å¤§å°ã€‚ 123456789(function () &#123; var html &#x3D; document.documentElement; function onWindowResize() &#123; html.style.fontSize &#x3D; html.getBoundingClientRect().width &#x2F; 20 + &#39;px&#39;; &#125; window.addEventListener(&#39;resize&#39;, onWindowResize); onWindowResize();&#125;)();å¤åˆ¶ä»£ç  ç§»åŠ¨ç«¯1pxä¸€èˆ¬æ¥è¯´ï¼Œåœ¨PCç«¯æµè§ˆå™¨ä¸­ï¼Œè®¾å¤‡åƒç´ æ¯”ï¼ˆdprï¼‰ç­‰äº1ï¼Œ1ä¸ªcssåƒç´ å°±ä»£è¡¨1ä¸ªç‰©ç†åƒç´ ï¼›ä½†æ˜¯åœ¨retinaå±å¹•ä¸­ï¼Œdpræ™®éæ˜¯2æˆ–3ï¼Œ1ä¸ªcssåƒç´ ä¸å†ç­‰äº1ä¸ªç‰©ç†åƒç´ ï¼Œå› æ­¤æ¯”å®é™…è®¾è®¡ç¨¿çœ‹èµ·æ¥ç²—ä¸å°‘ã€‚ ä¼ªå…ƒç´ +scale 12345678910111213141516171819202122&lt;style&gt; .box&#123; width: 100%; height: 1px; margin: 20px 0; position: relative; &#125; .box::after&#123; content: &#39;&#39;; position: absolute; bottom: 0; width: 100%; height: 1px; transform: scaleY(0.5); transform-origin: 0 0; background: red; &#125;&lt;&#x2F;style&gt;&lt;div class&#x3D;&quot;box&quot;&gt;&lt;&#x2F;div&gt;å¤åˆ¶ä»£ç  border-image 123456div&#123; border-width: 1px 0px; -webkit-border-image: url(border.png) 2 0 stretch; border-image: url(border.png) 2 0 stretch;&#125;å¤åˆ¶ä»£ç  ä¸¤è¾¹å®½åº¦å›ºå®šä¸­é—´è‡ªé€‚åº”çš„ä¸‰æ å¸ƒå±€åœ£æ¯å¸ƒå±€å’ŒåŒé£ç¿¼å¸ƒå±€æ˜¯å‰ç«¯å·¥ç¨‹å¸ˆéœ€è¦æ—¥å¸¸æŒæ¡çš„é‡è¦å¸ƒå±€æ–¹å¼ã€‚ä¸¤è€…çš„åŠŸèƒ½ç›¸åŒï¼Œéƒ½æ˜¯ä¸ºäº†å®ç°ä¸€ä¸ªä¸¤ä¾§å®½åº¦å›ºå®šï¼Œä¸­é—´å®½åº¦è‡ªé€‚åº”çš„ä¸‰æ å¸ƒå±€ã€‚ åœ£æ¯å¸ƒå±€12345678910111213141516171819202122232425262728293031&lt;style&gt;body&#123; min-width: 550px;&#125;#container&#123; padding-left: 200px; padding-right: 150px;&#125;#container .column&#123; float: left;&#125;#center&#123; width: 100%;&#125;#left&#123; width: 200px; margin-left: -100%; position: relative; right: 200px;&#125;#right&#123; width: 150px; margin-right: -150px;&#125;&lt;&#x2F;style&gt;&lt;div id&#x3D;&quot;container&quot;&gt; &lt;div id&#x3D;&quot;center&quot; class&#x3D;&quot;column&quot;&gt;center&lt;&#x2F;div&gt; &lt;div id&#x3D;&quot;left&quot; class&#x3D;&quot;column&quot;&gt;left&lt;&#x2F;div&gt; &lt;div id&#x3D;&quot;right&quot; class&#x3D;&quot;column&quot;&gt;right&lt;&#x2F;div&gt;&lt;&#x2F;div&gt;å¤åˆ¶ä»£ç  åŒé£ç¿¼å¸ƒå±€12345678910111213141516171819202122232425262728&lt;style&gt;body &#123; min-width: 500px;&#125;#container &#123; width: 100%;&#125;.column &#123; float: left;&#125;#center &#123; margin-left: 200px; margin-right: 150px;&#125;#left &#123; width: 200px; margin-left: -100%;&#125;#right &#123; width: 150px; margin-left: -150px;&#125;&lt;&#x2F;style&gt;&lt;div id&#x3D;&quot;container&quot; class&#x3D;&quot;column&quot;&gt; &lt;div id&#x3D;&quot;center&quot;&gt;center&lt;&#x2F;div&gt;&lt;&#x2F;div&gt;&lt;div id&#x3D;&quot;left&quot; class&#x3D;&quot;column&quot;&gt;left&lt;&#x2F;div&gt;&lt;div id&#x3D;&quot;right&quot; class&#x3D;&quot;column&quot;&gt;right&lt;&#x2F;div&gt;","tags":[]}]